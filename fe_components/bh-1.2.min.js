+function(){"undefined"!=typeof Waves&&(Waves.attach(".bh-btn:not(.bh-disabled):not([disabled])"),Waves.init());var e=$("body");e.on("click",'[bh-btn-role="bhSelectBtnGroup"]',function(e){var t=$(e.target||e.srcElement);if(t.hasClass("bh-btn")){var a=$(this);a.find(".bh-btn").removeClass("bh-active"),t.addClass("bh-active")}})}(),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),n=i.data("bs.tab");n||i.data("bs.tab",n=new a(this)),"string"==typeof t&&n[t]()})}var a=function(t){this.element=e(t)};a.VERSION="3.3.4",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,a=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("bh-active")){var n=a.find(".bh-active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),a),this.activate(s,s.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},a.prototype.activate=function(t,i,n){function r(){o.removeClass("bh-active").find("> .dropdown-menu > .bh-active").removeClass("bh-active").end().find('[data-toggle="bhTab"]').attr("aria-expanded",!1),t.addClass("bh-active").find('[data-toggle="bhTab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("bh-in")):t.removeClass("bh-fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("bh-active").end().find('[data-toggle="bhTab"]').attr("aria-expanded",!0),n&&n()}var o=i.find("> .bh-active"),s=n&&e.support.transition&&(o.length&&o.hasClass("bh-fade")||!!i.find("> .bh-fade").length);o.length&&s?o.one("bsTransitionEnd",r).emulateTransitionEnd(a.TRANSITION_DURATION):r(),o.removeClass("bh-in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=a,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var n=function(a){a.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="bhTab"]',n)}(jQuery),+function(e){"use strict";function t(e,t,a){}e(document).on("click",".bh-table tr",function(a){if("INPUT"!=a.target.nodeName){{var i=e(this),n=i.closest("table.bh-table");n.children("tbody")}i.hasClass("bh-ch-active")?(i.removeClass("bh-ch-active"),t(i,0,"bh-ch-active")):(n.find("tr.bh-ch-active, td.bh-ch-active").removeClass("bh-ch-active"),i.addClass("bh-ch-active"),t(i,1,"bh-ch-active"))}}).on("mouseover",".bh-table td",function(){var a=e(this);a.parent("tr").addClass("bh-ch-hover"),t(a,1,"bh-ch-hover")}).on("mouseout",".bh-table td",function(){var a=e(this);a.parent("tr").removeClass("bh-ch-hover"),t(a,0,"bh-ch-hover")})}(jQuery),function(){$.bhDefaults=$.bhDefaults||{},$.bhDefaults.Dialog={type:"",title:"",content:"",className:"",buttons:[{text:"确定",className:"bh-btn-primary",callback:null}],width:370,height:"auto"},$.bhDialog=function(e){var t=$("body"),a=$.extend({},$.bhDefaults.Dialog,e||{}),i={},n={_init:function(){var e=$("<div></div>"),i=n.NewGuid();e.attr("id","dialog"+i);var r=$("<div class='bh-modal'></div>"),o=$("<div class='bh-pop bh-card bh-card-lv4 bh-dialog-con'></div>");a.width&&o.width(a.width),a.className&&o.addClass(a.className),n._createDialogIcon(o),n._createDialogBody(o,i),r.append(o),e.append(r),e.append($('<div class="bh-modal-backdrop"></div>')),t.append(e),n._resetPos(o),n._checkScrollbar(),t.addClass("bh-has-modal-body")},_resetPos:function(e){var t=document.documentElement.clientHeight,a=e.height();e.css("margin-top",(t-a)/2)},_checkScrollbar:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}var a=document.body.clientWidth<e,i=n._measureScrollbar();n._setScrollbar(a,i)},_setScrollbar:function(e,a){var n=parseInt(t.css("padding-right")||0,10);i.originalBodyPad=document.body.style.paddingRight||"",e&&t.css("padding-right",n+a)},_resetScrollbar:function(){t.css("padding-right",i.originalBodyPad)},_measureScrollbar:function(){var e=document.createElement("div");e.className="bh-modal-scrollbar-measure",t.append(e);var a=e.offsetWidth-e.clientWidth;return t[0].removeChild(e),a},_removeDialog:function(e){$("#dialog"+e).remove(),n._resetScrollbar(),t.removeClass("bh-has-modal-body")},_createDialogBody:function(e,t){var i=$("<div class='bh-dialog-content'></div>"),r=$('<div class="content"></div>');r.html(a.content),i.append(r),n._createDialogBtn(i,t),e.append(i),""==a.content&&(e.find(".content").css("height","80px"),e.addClass("bh-dialog-minHeight"))},_createDialogBtn:function(e,t){var i=$('<div class="bh-dialog-center"></div>');if(a.buttons&&a.buttons.length>0)for(var r=a.buttons.length,o=0;r>o;o++){var s=n._createBtn(a.buttons[o],t);i.append(s)}else{var s=n._createBtn({text:"确定",className:"bh-btn-primary"},t);i.append(s)}e.append(i)},_createBtn:function(e,t){var a=$("<a style='cursor: pointer;' class='bh-btn'></a>");return e&&e.text&&a.text(e.text),e&&e.className&&a.addClass(e.className),a.click(function(){n._removeDialog(t),e.callback&&e.callback()}),a},_createDialogIcon:function(e){if(""!=a.type){var t=n._getDialogIconDom(a.type);e.append(t)}},_getDialogIconDom:function(e){var t="";"success"==e?t="checkcircle":"warning"==e?t="error":"danger"==e&&(t="cancel");var i='<div class="bh-dialog-title-con"><i class="iconfont icon-setstyle icon-'+t+" bh-dialog-icon-color"+e+'"></i><h2 class="bh-dialog-title-text">'+a.title+"</h2></div>";return i},NewGuid:function(){return n.S4()+n.S4()+"-"+n.S4()+"-"+n.S4()+"-"+n.S4()+"-"+n.S4()+n.S4()+n.S4()},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}};""==a.type&&a.iconType&&(a.type=a.iconType),(""===a.content||void 0===a.content)&&(a.content=a.title,a.title="提示"),n._init()}}.call(this),+function(e){"use strict";e(document).on("click",".bh-label-radio",function(t){var a=e(this),i=a.parent();if(i.attr("multiple"))a.toggleClass("bh-active");else{if(a.hasClass("bh-active"))return;a.closest(".bh-label-radio-group").find(".bh-label-radio").removeClass("bh-active"),a.addClass("bh-active")}i.trigger("change")})}(jQuery),+function(e){"use strict";function t(e){var t=e.closest("[bh-form-role=bhForm]");t.length>0&&!t.hasClass("bh-form-S")&&(t.find(".bh-row").removeClass("bh-active"),e.closest(".bh-row").addClass("bh-active"))}e(document).on("click","input.bh-form-control",function(a){t(e(this))}),e(document).on("click","textarea.bh-form-control",function(a){t(e(this))}),e(document).on("click","input[type='radio']",function(a){t(e(this))}),e(document).on("click","input[type='checkbox']",function(a){t(e(this))})}(jQuery),+function(e){"use strict";e(document).on("click",function(t){var a=null,i=e(t.target||t.srcElement);"bhDropdown"===i.attr("bh-dropdown-role")?a=i:i.closest("[bh-dropdown-role=bhDropdown]").length>0&&(a=i.closest("[bh-dropdown-role=bhDropdown]")),a?a.find("[bh-dropdown-role=bhDropdownMenu]").toggleClass("bh-dropdown-open"):e("body").find("[bh-dropdown-role=bhDropdownMenu]").removeClass("bh-dropdown-open")})}(jQuery),function(e){e.bhAffix=function(t){function a(){if(n.fixedContainer.length>0){var t=e(window),a=t.scrollTop(),i=n.hostContainer.offset(),r=i.top,o=(i.left,n.header?n.header.outerHeight():0),s=n.fixedContainer.offset(),l=s.top,d=s.left,c=l-r,h=n.offset.top?parseInt(n.offset.top,10):0;if(c+=h,a>=r-h-o){var u=n.fixedContainer.data("bhAffixStyleData");if(!u){n.offset.left&&(d+=parseInt(n.offset.left,10));var f=c;f+=n.miniHeader?n.miniHeader.outerHeight():o,u={left:d+"px",position:"fixed",top:f};var p=n.fixedContainer.attr("style");n.fixedContainer.data("beforeBhAffixStyle",p).data("bhAffixStyleData",u)}n.fixedContainer.css(u).data("bhAffixFlag",!0).addClass("bh-affix-fixedFlag")}else{var p=n.fixedContainer.data("beforeBhAffixStyle"),m=n.fixedContainer.data("bhAffixFlag");p||(p=""),m&&(n.fixedContainer.attr("style",p),n.fixedContainer.data("bhAffixFlag",!1).removeClass("bh-affix-fixedFlag"))}}}var i={hostContainer:"",header:e("header.sc-head"),miniHeader:e("header.sc-head-mini"),fixedContainer:"",offset:{}},n=e.extend({},i,t);n.fixedContainer.length>0&&"bhAffix"!==n.fixedContainer.attr("bh-affix-role")&&(e(window).on("scroll.bhAffix",function(){a()}),n.fixedContainer.attr("bh-affix-role","bhAffix"))}}(jQuery),function(e){function t(){return 450}function a(){return 42}function i(t){var a=r(t),i=o(t),s=n();e("body").append('<div class="bh-asideNav-container bh-animated bh-outLeft" style="display: none;" bh-aside-nav-role="bhAsideNav">'+a+i+"</div>"+s),l(),t&&"undefined"!=typeof t.ready&&t.ready instanceof Function&&t.ready()}function n(){var e='<div class="bh-modal-backdrop bh-animated bh-asideNav-fadeOut" style="display: none;" bh-aside-nav-role="bhAsideNavBackdrop"></div>';return e}function r(e){var t='<div class="bh-asideNav-top"><h1>'+e.title+'</h1><div class="bh-asideNav-top-close"><i class="iconfont icon-close" bh-aside-nav-role="bhAsideNavCloseBtn"></i></div></div>';return t}function o(e){var t=e.data,a=t.length,i=e.iconFont,n="";if(a>0)for(var r=0;a>r;r++){var o=t[r],l=o.length;if(l>0)for(var d=!1,c=0;l>c;c++){a-1>r&&(d=c==l-1?!0:!1);var h=o[c],u=h.children;if(u&&u.length>0){var f="",p=u.length;if(p>0){for(var m=0;p>m;m++)f+=s(u[m],i,"child",!1);f='<ul class="bh-asideNav">'+f+"</ul>"}n+=s(h,i,"",d).replace("@childContent",f)}else n+=s(h,i,"",d)}}return n='<div class="bh-asideNav-list"><ul class="bh-asideNav">'+n+"</ul></div>"}function s(e,t,a,i){var n=e.text,r=e.icon,o=e.href,s="",l=!1;"child"===a?s="":e.children&&e.children.length>0&&(s="bh-asideNav-dropdown",l=!0),o||(o="javascript:void(0);"),i&&(s+=" bh-asideNav-splite");var d='<li class="@liClass"><a href="@href"><div><i class="@iconFont @iconName"></i>@text</div></a>@childContent</li>';return d=d.replace("@liClass",s).replace("@href",o).replace("@iconFont",t).replace("@iconName",r).replace("@text",n),l||(d=d.replace("@childContent","")),d}function l(i){var n=e("[bh-aside-nav-role=bhAsideNav]");n.on("click","[bh-aside-nav-role=bhAsideNavCloseBtn]",function(){c(i)});var r=e("[bh-aside-nav-role=bhAsideNavBackdrop]");r.on("click",function(){c(i)}),n.on("click",".bh-asideNav-dropdown > a",function(){var i=e(this).parent();if(i.hasClass("bh-asideNav-open")){var r=a();i.removeClass("bh-asideNav-open").css({height:r+"px"})}else{n.find(".bh-asideNav-dropdown").css({height:a()+"px"});var o=i.find(".bh-asideNav"),s=o.children("li"),l=s.length,d=l+1,c=a()*d;n.find(".bh-asideNav-open").removeClass("bh-asideNav-open"),i.addClass("bh-asideNav-open").css({height:c+"px"})}setTimeout(function(){e(".bh-asideNav-container").getNiceScroll().resize()},t())}),n.on("click",".bh-asideNav li>a",function(){var t=e(this).closest("li");n.find(".bh-asideNav-active").removeClass("bh-asideNav-active"),t.addClass("bh-asideNav-active"),t.hasClass("bh-asideNav-dropdown")||c(i)}),e(".bh-asideNav-container").niceScroll({cursorborder:"none",hidecursordelay:10,autohidemode:"scroll"})}function d(){var a=e("[bh-aside-nav-role=bhAsideNav]"),i=e("[bh-aside-nav-role=bhAsideNavBackdrop]");a.removeClass("bh-outLeft").addClass("bh-intoLeft").show(),i.removeClass("bh-asideNav-fadeOut").addClass("bh-asideNav-fadeIn").show(),setTimeout(function(){e(".bh-asideNav-container").getNiceScroll().resize()},t())}function c(a){var i=e("[bh-aside-nav-role=bhAsideNav]"),n=e("[bh-aside-nav-role=bhAsideNavBackdrop]");i.removeClass("bh-intoLeft").addClass("bh-outLeft"),n.removeClass("bh-asideNav-fadeIn").addClass("bh-asideNav-fadeOut"),setTimeout(function(){n.hide(),e(".bh-asideNav-container").getNiceScroll().resize(),a&&"undefined"!=typeof a.hide&&a.hide instanceof Function&&a.hide()},t())}function h(){e("[bh-aside-nav-role=bhAsideNav]").remove(),e("[bh-aside-nav-role=bhAsideNavBackdrop]").remove()}e.bhAsideNav={init:function(t){var a={title:"",iconFont:"",data:[],hide:null,ready:null};t=e.extend({},a,t),i(t)},show:function(e){d()},hide:function(t){var a={hide:null};t=e.extend({},a,t),c(t)},destroy:function(e){h()}}}(jQuery),function(){var e,t,a;e=function(){function e(e,a){this.options=$.extend({},$.fn.bhButtonGroup.defaults,a),this.$element=$(e),t(this.$element,this.options)}return e.prototype.setValue=function(e){var t;e&&null!=e&&""!=e||(t="ALL"),$(".bh-label-radio.bh-active",this.$element).removeClass("bh-active"),$(".bh-label-radio[data-id="+t+"]").addClass("bh-active")},e.prototype.getValue=function(){var e,t=$.makeArray($(".bh-label-radio.bh-active",this.$element));return t.length&&(e=t.map(function(e){return $(e).data("id")}).join(",")),"ALL"==e?"":e},e}(),t=function(e,t){if(t.multiple&&e.attr("multiple",!0),t.data&&null!=t.data&&t.data.length>0)a(t.data,e,t);else if(t.url){var i={datatype:"json",root:"datas>code>rows",datafields:[{name:"id"},{name:"name"}],id:"id",url:t.url},n=new $.jqx.dataAdapter(i,{loadComplete:function(i){var n=i.datas.code.rows;a(n,e,t),e.trigger("bhInputInitComplete",e)}});n.dataBind()}},a=function(e,t,a){var i="";a.allOption&&!a.multiple&&(i='<div class="bh-active bh-label-radio" data-id="ALL">全部</div>'),$(e).each(function(){i+='<div class="bh-label-radio" data-id="'+this.id+'" data-name="'+this.name+'">'+this.name+"</div>"}),t.html(i)},$.fn.bhButtonGroup=function(t){var a;return a=this.data("plugin"),a?t===!0?a:"string"===$.type(t)?a[t]():this:this.each(function(){return $(this).data("plugin",new e(this,t))})},$.fn.bhButtonGroup.defaults={allOption:!0,multiple:!1}}.call(this),function(e){function t(e,t){var i=a(e);t.html(i),o(t,e),s(t,e)}function a(e){var t=e.data,a=!1;if(t){for(var o="",s=0;s<t.length;s++){var l=t[s],d="bh-collapse";l.disabled&&(d+=" bh-collapse-disabled",l.extend=!1);var c=i(l.content),h=r(e,l.extend,a);l.extend=h.extend,h.flag&&(a=h.flag),o+=n(d,l,c)}return o}}function i(e){var t="";if(e)for(var a=0;a<e.length;a++){var i=e[a],n=i.title,r=i.content,o="",s="";"undefined"!=typeof n&&(o='<div class="sc-title-borderLeft bh-mb-16">'+n+"</div>"),"undefined"!=typeof r&&(s='<div class="bh-collapse-block-item-content">'+r+"</div>"),t+='<div class="bh-collapse-block-item">'+o+s+"</div>"}return t}function n(e,t,a){var i='<div class="'+e+'" bh-collapse-extend="'+t.extend+'"><div class="bh-collapse-header"><h3 class="bh-collapse-title">'+t.title+'</h3><div class="bh-collapse-toolbar bh-animate-transform-fast"><i class="iconfont icon-keyboardarrowright bh-collapse-icon"></i></div></div><div class="bh-collapse-block bh-collapse-animate-fast">'+a+"</div></div>";return i}function r(e,t,a){var i=a,n=t;"multiple"===e.model?"undefined"==typeof n&&(n=e.extend?!0:!1):"undefined"==typeof n?n=!1:n&&(a?n=!1:i=!0);var r={extend:n,flag:i};return r}function o(t,a){t.find(".bh-collapse-block").each(function(){var t=e(this),a=t.outerHeight(),i=t.closest(".bh-collapse").find(".bh-collapse-toolbar"),n=t.closest(".bh-collapse").attr("bh-collapse-extend");"true"===n?(i.addClass("bh-collapse-rotate-90"),t.css({height:a}).data("height",a).closest(".bh-collapse").addClass("bh-card bh-card-lv2 active")):t.css({height:0}).data("height",a).hide()}),"undefined"!=typeof a.ready&&a.ready instanceof Function&&a.ready()}function s(t,a){t.off("click",".bh-collapse-header").on("click",".bh-collapse-header",function(i){i=i||window.event;var n=i.target||i.srcElement,r=e(n),o=r.closest(".bh-collapse").find(".bh-collapse-block");r.closest(".bh-collapse-disabled").length||("true"!==r.closest(".bh-collapse").attr("bh-collapse-extend")?"single"===a.model?l(t,o,a):h(o,a):u(o,a))})}function l(e,t,a){var i=d(e);if(i){var n=c(e);u(n,a),setTimeout(function(){h(t,a)},f())}else h(t,a)}function d(e){var t=!1,a=e.find(".active");return a.length>0&&a.find(".bh-collapse-block").is(":visible")&&(t=!0),t}function c(t){var a;return t.find(".bh-collapse-block").each(function(t,i){return e(i).is(":visible")?(a=e(i),!1):void 0}),a}function h(e,t){var a=e.closest(".bh-collapse");a.addClass("bh-card bh-card-lv2 active").attr("bh-collapse-extend","true"),a.find(".bh-collapse-toolbar").removeClass("bh-collapse-rotate-0").addClass("bh-collapse-rotate-90");var i=e.data("height");e.show(),setTimeout(function(){e.css({height:i})},50);var n={node:a};t&&t.nodeExtend&&setTimeout(function(){t.nodeExtend(n)},f())}function u(e,t){var a=e.closest(".bh-collapse");e.css({height:0});var i={node:a};a.find(".bh-collapse-toolbar").removeClass("bh-collapse-rotate-90").addClass("bh-collapse-rotate-0"),setTimeout(function(){e.hide(),a.removeClass("bh-card bh-card-lv2 active").attr("bh-collapse-extend","false"),t&&t.nodeCollapse&&t.nodeCollapse(i)},f())}function f(){return 250}var p;e.fn.bhCollapse=function(t,a){var i;return i=this.data("bhCollapse"),i?t===!0?i:"string"===e.type(t)?i[t](a):this:this.each(function(){return e(this).data("bhCollapse",new p(this,t))})},e.fn.bhCollapse.defaults={model:"single",extend:!1,data:[],nodeExtend:null,nodeCollapse:null,ready:null},p=function(){function a(a,i){this.settings=e.extend({},e.fn.bhCollapse.defaults,i),this.$element=e(a),t(this.settings,this.$element)}return a}()}(jQuery),function(e){function t(e,t){var i=a(e);t.html(i).attr("bh-footer-role","footer").addClass("bh-footer")}function a(e){var t='<div class="bh-footer-content">'+e.text+"</div>";return t}var i;i=function(){function a(a,i){this.settings=e.extend({},e.fn.bhHeader.defaults,i),this.$element=e(a),t(this.settings,this.$element)}return a}(),e.fn.bhFooter=function(e){return this.each(function(){return new i(this,e)})},e.fn.bhFooter.defaults={text:""}}(jQuery),function(e){function t(t,i){this.options=e.extend({},e.fn.flowState.defaultOptions,i),this.$element=e(t),n(this.options,this.$element),u(this.options,this.$element),a(this.options)}function a(e){for(var t=e.flowStateData.length,a=0;t>a;a++)i(e.flowStateData[a],a,t)}function i(t,a,i){var n=0,r=e(".bh-flowState-box")[a];0===a?n=96:a===i-1&&(n=-96),e(r).jqxTooltip("destroy"),t.isShowPop&&(e(r).jqxTooltip({position:"bottom",autoHide:!1,top:10,left:n,showArrow:!1,closeOnClick:!1,content:t.popHtml}),e(".jqx-tooltip-main").css({"background-color":"#ffffff","box-shadow":"0 4px 20px #bbb"}),e(r).on("mouseout",function(){e(r).jqxTooltip("close")}))}function n(e,t){var a=h(e),i=r(a),n='<div class="bh-flowState bh-clearfix">'+i+"</div>";t.html(n)}function r(e){if(e){var t=e.length,a="";if(0!==t)for(var i=0;t>i;i++)a+=o(e,i+1,t);return a}}function o(e,t,a){var i=e[t-1],n=e[t-2],r=a-1,o=s(i),d=l(i),c=[];1===t?c.push("bh-flowState-hideLeft"):t===a&&c.push("bh-flowState-hideRight"),n&&"success"===n.status&&c.push("bh-flowState-prev-success");var h='<div class="bh-flowState-box '+c.join(" ")+'"><div class="bh-flowState-num-circle '+o+'">'+t+'</div><div class="bh-flowState-word"><div class="bh-flowState-detail">'+i.content+'</div><a class="bh-flowState-status '+o+'">'+i.statusDescription+'</a></div></div><div class="bh-flowState-line '+d+' " style="width:calc((100% - 96*'+a+"px) / "+r+')"></div>';return h}function s(e){var t={success:"bh-flowState-success",fail:"bh-flowState-fail",operation:"bh-flowState-operation"};return t[e.status||e.resetStatus]}function l(e){var t={success:"bh-flowState-line-succes"};return t[e.status||e.resetStatus]}function d(e){var t="";return e.hasClass("bh-flowState-success")?t="bh-flowState-success":e.hasClass("bh-flowState-fail")?t="bh-flowState-fail":e.hasClass("bh-flowState-operation")&&(t="bh-flowState-operation"),t}function c(e){var t="";return e.hasClass("bh-flowState-line-succes")&&(t="bh-flowState-line-succes"),t}function h(e){return e.flowStateData}function u(e,t){t.css("width",e.width),t.find(".bh-flowState-line:last").css("width","0")}function f(t,a){var n=t.index-1,r=a.$element.find(".bh-flowState-box"),o=a.$element.find(".bh-flowState-num-circle"),h=a.$element.find(".bh-flowState-status"),u=a.$element.find(".bh-flowState-line"),f=s(t),p=l(t),m=d(e(o[n])),b=c(e(u[n]));e(h[n]).text(t.resetStatusDecription),"success"===t.resetStatus?e(r[n+1]).addClass("bh-flowState-prev-success"):e(r[n+1]).removeClass("bh-flowState-prev-success"),e(o[n]).removeClass(m),e(h[n]).removeClass(m),e(u[n]).removeClass(b),e(o[n]).addClass(f),e(h[n]).addClass(f),e(u[n]).addClass(p),i(t,n,o.length)}function p(a,i){var n;return(n=this.data("flowState"))?a===!0?n:("string"===e.type(a)&&n[a](i),this):this.each(function(){return e(this).data("flowState",new t(this,a))})}e.fn.flowState=p,e.fn.flowState.defaultOptions={width:"100%",flowStateData:[{id:"1",content:"个人提交",status:"success",statusDescription:"提交成功",popHtml:"<div class='bh-flowState-time'>审核时间：<span></span></div><div class='bh-flowState-suggestion'>审核意见：<span></span></div>",isShowPop:!0}]},t.prototype={resetFlowStatus:function(t){t=e.extend({},{index:0/0,resetStatus:"success",resetStatusDecription:"成功",isShowPop:!0,popHtml:"<div class='bh-flowState-time'>审核时间：<span></span></div><div class='bh-flowState-suggestion'>审核意见：<span></span></div>"},t),f(t,this)}}}(jQuery),function(e){"use strict";e.bhCutStr=function(t){function a(t){var a=t.dom?t.dom.selector:"";if(!(a.length>0)){var o=e.trim(t.text.content),s=o;o.length>t.text.number&&(s=o.substring(0,t.text.number)+"...");var l="javascript:void(0);",d='target="blank"',c="",h="";return t.moreBtn&&(l=t.moreBtn.url&&0!==t.moreBtn.url.length?t.moreBtn.url:"javascript:void(0);",d=t.moreBtn.isOpenNewPage?"":'target="blank"',h=t.moreBtn.content?t.moreBtn.content:"",c='<a href="'+l+'" class="bh-cut-str-more" bh-cut-str-role="bhCutStr" '+d+' data-full-str="'+o+'">'+h+"</a>"),s+=c}a.each(function(){var a=BH_UTILS.NewGuid(),o=e(this);o.append('<div id="'+a+'"><div id="chinese-'+a+'" style="display: none;position: absolute;">是</div><div id="lower-english-'+a+'" style="display: none;position: absolute;">w</div></div>');var s=o.find("#"+a);t.chineseFontSize=s.find("#chinese-"+a).width(),t.lowerEnFontSize=s.find("#lower-english-"+a).width(),s.remove();var l=o.width(),d=e.trim(t.dom.content?t.dom.content:o.text()),c=d.length,h=parseInt(l*t.dom.line/t.chineseFontSize,10);if(!(h>=c)){var u="javascript:void(0);",f='target="blank"',p="",m="";t.moreBtn&&(u=t.moreBtn.url&&0!==t.moreBtn.url.length?t.moreBtn.url:"javascript:void(0);",f=t.moreBtn.isOpenNewPage?"":'target="blank"',m=t.moreBtn.content?t.moreBtn.content:"",p='<a href="'+u+'" class="bh-cut-str-more" bh-cut-str-role="bhCutStr" '+f+' data-guid="'+a+'" data-full-str="'+d+'">'+m+"</a>");var b=m?n(m):0,v=t.chineseFontSize,g=l*t.dom.line-b-v-t.chineseFontSize,y=parseInt(g/t.chineseFontSize,10),w=i(g,y,d);o.html(w+"..."+p),p&&r(o.find('a[bh-cut-str-role="bhCutStr"]'))}})}function i(e,t,a){var r=a.substring(0,t),o=a.substring(t,a.length),s=n(r),l="";if(e>s){var d=e-s;if(d>c.chineseFontSize){var h=parseInt(d/c.chineseFontSize,10);l=i(d,h,o)}}return r+l}function n(e){var t=e.match(/[^\x00-\xff]/g),a=t?t.length:0,i=e.match(/[A-Z@]/g),n=i?i.length:0,r=e.length-a-n,o=(a+n)*c.chineseFontSize+r*c.lowerEnFontSize;return o}function r(t){t.on("mouseover",function(){var e=t.attr("data-full-str"),a=t.attr("data-guid"),i=t.parent(),n=i.width();l(t,n,e,a)}),t.on("mouseout",function(){var a=t.attr("data-guid"),i=e("#"+a);s(i)})}function o(e){e.on("mouseover",function(){e.data("flag","show")}),e.on("mouseout",function(){s(e)})}function s(e){e.data("flag","hide"),setTimeout(function(){"hide"===e.data("flag")&&(e.removeClass("bh-active"),setTimeout(function(){e.remove()},250))},150)}function l(t,a,i,n){var r=BH_UTILS.getElementPosition(t),s=window.innerHeight,l=parseInt(s/2,10),d=window.scrollY,c='<div data-flag="content">'+i+"</div>",h='<div id="'+n+'" style="width: '+a+'px;" class="bh-cutStr-popBox bh-card bh-card-lv2 bh-animate-transform-fast bh-animate-scale">'+c+"</div>",u=e(h);e("body").append(u);var f={left:r.right-a+"px",top:r.bottom+"px"},p="bh-animate-origin-TR",m=u.outerHeight(),b=0,v=0,g=8;r.top-d>l?(v=r.top-d-e('header[bh-header-role="bhHeader"]').outerHeight()-g,p="bh-animate-origin-BR",b=v>m?m:v,f.top=r.top-b+"px"):(v=s+d-r.bottom-e('footer[class="bh-footer"]').outerHeight()-g,b=v>m?m:v),f["max-height"]=b+"px",u.css(f).addClass(p),setTimeout(function(){u.addClass("bh-active")},10),o(u)}var d={dom:{selector:"",line:0,content:""},text:{content:"",number:0},moreBtn:{content:"",url:"",isOpenNewPage:!0}},c=e.extend({},d,t);return a(c)}}(jQuery),function(e){function t(){setTimeout(function(){var t=e("[bh-footer-affix-role=bhFooterAffix]").parent(),a=s(t),n=a.articleHeight+a.articleOffset.top;n<=a.windowHeight?i(t):r(t)},50)}function a(e){r(e),i(e)}function i(e){var t=s(e),a=e.find("div[bh-footer-affix-role=bhFooterAffix]"),i=r(e,"get");a.attr("bh-footer-affix-fixed",i);var o=t.articleHeight+t.articleOffset.top;o<=t.windowHeight&&n(a)}function n(t){if(0!==t.contents().length){var a=t.parent(),i="",n=0;a.children().each(function(){var t=e(this);if("nav"===t[0].localName&&(i="navLeft"),"navLeft"===i){var a=0;t.children().each(function(){a+=e(this).outerHeight()}),a>n&&(n=a)}else{var r=t.outerHeight();"bhFooterAffix"==t.attr("bh-footer-affix-role")&&(r=0),n+=r}});var r=parseInt(a.css("padding-bottom"),10);r=r?r:0;var o=parseInt(a.css("min-height"),10);o=o?o:0,o>n+r?(t.removeAttr("style"),t.css({top:n+"px",bottom:"initial","background-color":"transparent"}).removeClass("bh-card bh-card-lv1")):t.css({left:0,bottom:0,position:"absolute"}),t.show()}}function r(e,t){var a="",i=e.find("div[bh-footer-affix-role=bhFooterAffix]");if(i[0]){var n=e.outerWidth(),r=s(e),o=r.articleHeight+r.footerHeight+r.bodyHeaderHeight;l(i,r.divFooterHeight),a="left:"+r.articleOffset.left+"px;width:"+n+"px;position:fixed;bottom:0;top:initial;display:block;z-index:1000;","get"!==t&&(o<=r.windowHeight?i.css({left:r.articleOffset.left+"px",bottom:0,position:"absolute","background-color":"transparent"}).removeClass("bh-card bh-card-lv1"):i.css({left:r.articleOffset.left+"px",width:n+"px",position:"fixed",bottom:0,top:"initial",display:"block","z-index":1e3,"background-color":"#fff"}))}return a}function o(e){var t=s(e),a=e.find("div[bh-footer-affix-role=bhFooterAffix]");if(t.windowHeight+t.scrollTop>=t.bodyHeight-32)n(a);else{var i=a.attr("bh-footer-affix-fixed"),r=t.articleHeight+t.footerHeight+t.bodyHeaderHeight;r<=t.windowHeight?a.css({left:0,bottom:0,position:"absolute","background-color":"transparent"}).removeClass("bh-card bh-card-lv1"):a.attr("style",i)}}function s(t){{var a={},i=e(window),n=e("body"),r=i.scrollTop(),o=i.height(),s=0;window.navigator.userAgent}s=window.ActiveXObject||"ActiveXObject"in window?document.documentElement.scrollHeight:n.get(0).scrollHeight;var l=e("[bh-footer-role=footer]").outerHeight(),d=e("body header header").outerHeight();if(t){var c=t.outerHeight(),h=t.offset(),u=0,f=t.find("div[bh-footer-affix-role=bhFooterAffix]");f.length>0&&(u=f.outerHeight(!0)),a.articleHeight=c,a.articleOffset=h,a.divFooterHeight=u}return a.windowHeight=o,a.scrollTop=r,a.bodyHeight=s,a.footerHeight=l,a.bodyHeaderHeight=d,a}function l(e,t){e.parent().css({"padding-bottom":t})}e.bhFooterAffix=function(){var t=e("body main [bh-role=bhFooterAffix]").first();if(t[0]){var i=t.parent();if("bhFooterAffix"===i.attr("bh-footer-affix-role"))return;var n='<div bh-footer-affix-role="bhFooterAffix" class="bh-footer-affix bh-card bh-card-lv1"></div>';t.wrap(n);var r=e("[bh-paper-pile-dialog-role=bhPaperPileDialog]")[0],s=e("[bh-property-dialog-role=bhPropertyDialog]")[0],l=e("[role=dialog]").filter(function(){return e(this).hasClass(".jqx-window")&&"none"!==e(this).css("display")})[0];e(window).scroll(function(e){r||s||l||o(i)}),a(i)}},e.bhFooterAffix.resetPosition=function(){t()}}(jQuery),function(e){function t(t){function a(){var i=(e(window),t.insertContainer.offset()),n=(i.top,document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop);if(d(),"none"==e(t.insertContainer[0]).css("display")&&e(window).unbind("scroll",a),!p&&0!=g.length&&"none"!=t.insertContainer.find('[bh-role-form-outline-item-title-guid="'+g[0].guid+'"]').css("display"))for(var r=0;r<g.length;r++){var o=t.insertContainer.find('[bh-role-form-outline-item-title-guid="'+g[r].guid+'"]').offset();if(o&&o.top-n>0){M.find("div.bh-form-outline-item").removeClass("bh-active"),e('[bh-role-form-outline-fixed-item-guid="'+g[r].guid+'"]').addClass("bh-active"),u(e('[bh-role-form-outline-fixed-item-guid="'+g[r].guid+'"]'));break}}}function d(){var a=t.insertContainer.offset(),i=a.top,n=M.offset(),r=n.left,o=n.top,s=o-i,l=e(window).scrollTop();if(l>=i||void 0===M.data("bhAffixFlag")){if(M.data("bhAffixFlag")!==!0){var d={left:r+"px",position:"fixed",top:s};M.css(d).data("bhAffixFlag",!0).data("bhfixedStyle",d)}}else M.attr("style",S).data("bhAffixFlag",!1)}function c(e,t){return t>e?t:e}function h(e,t){return e>t?t:e}function u(t){d();var a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,i=t.offset().top-a,n=e(window).height()-i;A=e(window).height()-M.height()-Y.OUTLINE_BOTTOM_TO_BROWER_BOTTOM,H=void 0===H?M.data("bhfixedStyle").top:H;var r=+M.css("top").replace("px","");if(n<Y.BOTTOM_POSITION_TRIGGER_MOVE_UP){var o=r-n;M.css("top",c(o,A))}if(i<Y.TOP_POSITION_TRIGGER_MOVE_DOWN){var o=r+i+Y.TOP_POSITION_TRIGGER_MOVE_DOWN_DISTANCE;M.css("top",h(o,H))}e(document).scrollTop()+e(window).height()>=e(document).height()&&M.height()+Y.OUTLINE_BOTTOM_TO_BROWER_BOTTOM>=e(window).height()&&M.css("top",A)}var f=t.insertContainer?t.insertContainer.attr("bh-form-outline-role-form-guid"):"";if(f)return void e("div[bh-form-outline-role-outline-guid="+f+"]").removeClass("bh-fadeOut").addClass("bh-fadeIn").show();var p=!1,m=null;f=l();var b=i(),v=n(),g=[];t.insertContainer.find("[bh-role-form-outline=title]").each(function(){var t=l(),a=e(this),i=a.text();a.attr("bh-role-form-outline-item-title-guid",t),g.push({title:i,guid:t})}),t.insertContainer.find("[bh-role-form-outline=container]").each(function(t){var a=g[t].guid,i=e(this);i.attr("bh-role-form-outline-item-guid",a);var n={};n.editBoxCount=0,n.enterEditBoxCount=0,n=s(i,"input",n),n=s(i,"textarea",n),n=s(i,"select",n),g[t].statistics=n});var y="",w=g.length;if(w>0)for(var x=0;w>x;x++){var k=g[x],C="";0===x&&(C="bh-active");var D=k.statistics,T="",_="";D&&D.editBoxCount&&t.statistics&&(T=D.enterEditBoxCount+"/"+D.editBoxCount,_=D.enterEditBoxCount===D.editBoxCount?"bh-success":""),y+=v.replace("@active",C).replace("@index",x+1).replace("@text",k.title).replace("@success",_).replace("@count",T).replace("@guid",k.guid)}var S="";if(t.offset){var I=t.offset;(0===I.left||I.left)&&(S+="left:"+I.left+"px;"),(0===I.right||I.right)&&(S+="right:"+I.right+"px;"),(0===I.top||I.top)&&(S+="top:"+I.top+"px;"),(0===I.bottom||I.bottom)&&(S+="bottom:"+I.bottom+"px;")}b=b.replace("@content",y).replace("@style",S).replace("@outlineGuid",f).replace("@customClass",t.customClass);var B="bhFormOutline_hide_"+l(),M=e(b);M.append('<div id="'+B+'" style="display: none;" class="bh-form-outline-itemText"></div>'),t.width&&M.css({width:t.width}),t.className&&M.addClass(t.className),t.insertContainer.append(M).attr("bh-form-outline-role-form-guid",f);var P=e("#"+B);M.find(".bh-form-outline-itemText").each(function(){var t=e(this),a=t.width(),i=t.text();P.html(i);var n=P.width();n>a&&t.attr("title",i)}),t.statistics&&(t.insertContainer.on({keydown:function(e){setTimeout(function(){r(e)},50)},click:function(e){r(e)}}),t.insertContainer.find(".jqx-dropdownlist-state-normal").each(function(){var t=e(this);t.on("select",function(e){var a=t.closest("[bh-role-form-outline=container]");o(a)})}),t.insertContainer.find(".jqx-datetimeinput").each(function(){var t=e(this);t.on("valueChanged",function(e){var a=t.closest("[bh-role-form-outline=container]");o(a)})}),t.insertContainer.find(".jqx-combobox").each(function(){var t=e(this);t.on("change",function(e){setTimeout(function(){var e=t.closest("[bh-role-form-outline=container]");o(e)},50)})}),t.insertContainer.find("[xtype=uploadfile],[xtype='uploadsingleimage'],[xtype='uploadmuiltimage']").each(function(){var t=e(this);t.on("bh.file.upload.done",function(e){setTimeout(function(){var e=t.closest("[bh-role-form-outline=container]");o(e)},50)}),t.on("bh.file.upload.delete",function(e){setTimeout(function(){var e=t.closest("[bh-role-form-outline=container]");o(e)},50);

})})),M.on("click","div.bh-form-outline-item",function(){var a=e(this),i=a.closest("div[bh-role-form-outline-fixed=bhFormOutline]"),n=a.attr("bh-role-form-outline-fixed-item-guid"),r=t.insertContainer.find("[bh-role-form-outline-item-title-guid="+n+"]"),o=r.offset().top;t.scrollOffsetTop&&(o-=parseInt(t.scrollOffsetTop,10)),e("html, html body").animate({scrollTop:o},450),i.find("div.bh-form-outline-item").removeClass("bh-active"),a.addClass("bh-active"),clearTimeout(m),p=!0,m=setTimeout(function(){p=!1},700),t.affix&&u(a)});var H,A,S=M.attr("style"),Y={OUTLINE_BOTTOM_TO_BROWER_BOTTOM:t.bottom||100,BOTTOM_POSITION_TRIGGER_MOVE_UP:100,TOP_POSITION_TRIGGER_MOVE_DOWN:100,TOP_POSITION_TRIGGER_MOVE_DOWN_DISTANCE:100};t.affix&&(e(window).bind("scroll",a),setTimeout(function(){e(window).trigger("scroll")},30))}function a(t){var a="",i="";if(t.insertContainer?(i=t.insertContainer.attr("bh-form-outline-role-form-guid"),a=t.insertContainer.find("div[bh-form-outline-role-outline-guid="+i+"]")):(a=e("[bh-role-form-outline-fixed=bhFormOutline]"),i=a.attr("bh-form-outline-role-outline-guid")),a.removeClass("bh-fadeIn").addClass("bh-fadeOut"),t.destroy){var n=t.insertContainer?t.insertContainer:e("[bh-form-outline-role-form-guid="+i+"]");n.removeAttr("bh-form-outline-role-form-guid"),a.remove()}}function i(){var e='<div class="bh-form-outline bh-animated-doubleTime bh-fadeIn @customClass" bh-role-form-outline-fixed="bhFormOutline" bh-form-outline-role-outline-guid="@outlineGuid" style="@style">@content</div>';return e}function n(){var e='<div class="bh-form-outline-item @active" bh-role-form-outline-fixed-item-guid="@guid"><div class="bh-form-outline-itemIndex">@index</div><div class="bh-form-outline-itemText bh-str-cut">@text</div><div class="bh-form-outline-itemCount @success">@count</div></div>';return e}function r(t){var a=e(t.target||t.srcElement),i=a[0].localName,n=a.closest("[bh-role-form-outline=container]");"click"===t.type?"input"===i&&("radio"===a.attr("type")||"checkbox"===a.attr("type"))&&o(n):("input"===i||"textarea"===i||"select"===i)&&o(n)}function o(t){var a={};a.editBoxCount=0,a.enterEditBoxCount=0,a=s(t,"input",a),a=s(t,"textarea",a),a=s(t,"select",a);var i=e("div[bh-role-form-outline-fixed=bhFormOutline]").find("div[bh-role-form-outline-fixed-item-guid="+t.attr("bh-role-form-outline-item-guid")+"]").find(".bh-form-outline-itemCount"),n=e.trim(i.text()),r=a.enterEditBoxCount+"/"+a.editBoxCount;n!=r&&(a.enterEditBoxCount===a.editBoxCount?i.addClass("bh-success"):i.removeClass("bh-success"),i.html(r)),t.data("formOutlineKeyUpCount",0)}function s(t,a,i){if("input"===a){var n={},r=[];t.find(a).each(function(){var t=e(this);if(!t.closest(".bh-row").attr("hidden")){var a=this.type;if("radio"===a||"checkbox"===a){var i=this.name;n[i]=i}else if("hidden"!==a)r.push(t);else{if("select"===t.parent().attr("xtype"))return;t.closest(".jqx-dropdownlist-state-normal").length>0&&r.push(t)}}});var o=r.length;if(o>0)for(var s=0;o>s;s++){i.editBoxCount++;var l=r[s];if(0!=e.trim(l.val()).length)i.enterEditBoxCount++;else if("file"===l.attr("type")&&l.closest(".bh-file-img-container").length>0)(l.closest(".bh-file-img-container").hasClass("saved")||l.closest(".bh-file-img-container").hasClass("success"))&&i.enterEditBoxCount++;else{var d=l.closest("[xtype=uploadfile]");d.length>0&&d.find("a.bh-file-upload-name-a").length>0&&i.enterEditBoxCount++}}for(var c in n){i.editBoxCount++;var h=t.find("input[name='"+c+"']:checked").val();h&&i.enterEditBoxCount++}}else"select"==a?t.find("[xtype=select]").each(function(){var t=e(this);if(!t.closest(".bh-row").attr("hidden")){i.editBoxCount++;var a=t.jqxDropDownList("getSelectedItem");a&&""!=a.value&&i.enterEditBoxCount++}}):t.find(a).each(function(){var t=e(this);t.closest(".bh-row").attr("hidden")||(i.editBoxCount++,0!=e.trim(t.val()).length&&i.enterEditBoxCount++)});return i}function l(){return d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d()}function d(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.bhFormOutline={show:function(a){var i={insertContainer:"",width:0,className:"",offset:{},scrollOffsetTop:e('header[bh-header-role="bhHeader"]').outerHeight(),statistics:!0,affix:!1,bottom:null,customClass:""};a=e.extend({},i,a),t(a)},hide:function(t){var i={insertContainer:"",destroy:!0};t=e.extend({},i,t),a(t)}}}(jQuery),function(e){var t,a={width:900,height:document.documentElement.clientHeight},i=function(t){this.options=e.extend({},a,t)};e.extend(i.prototype,{show:function(){var a=this,i=e('<div class="bh-gallery"><div class="bh-gallery__backdrop"></div><div class="bh-gallery__main"><div class="bh-gallery__gallery"></div></div><div class="bh-gallery__close iconfont icon-close"></div></div>');e("body").append(i);var n=e(".bh-gallery__gallery",i).css({width:a.options.width,height:a.options.height});t.run(n,this.options),this.resizeGallery(n),setTimeout(function(){e("body").getNiceScroll().hide()},1e3),e(".bh-gallery__close",i).click(function(){i.remove(),e("body").getNiceScroll().show()})},resizeGallery:function(t){var a=e(window).width(),i=e(window).height(),n=this.options.width,r=this.options.height;a>n&&t.css({marginLeft:(a-n)/2}),i>r&&t.css({marginTop:(i-r)/2})}}),e.bhGallery=function(a){t=window.Galleria,void 0===t?e.getScript("http://res.wisedu.com/bower_components/galleria/src/galleria.js").done(function(){t=window.Galleria,e.getScript("http://res.wisedu.com/fe_components/galleria/standard/galleria.wisedu.js").done(function(){return void 0===t?void console.error("please include Galleria lib"):void("page"===a.showType?t.run(a.selector,a):new i(a).show())})}):"page"===a.showType?t.run(a.selector,a):new i(a).show()}}(jQuery),function(e){function t(t,i){var n=a(t);i.html(n),A(t),b(i,t),O(i,t),e("html").on("click",function(t){var a=e(t.target||t.srcElement);a.closest('div[bh-header-role="roleBox"]').length>0||a.closest('div[bh-header-role="roleSwitch"]').length>0||e("[bh-header-role=roleBox]").removeClass("bh-active"),a.closest('div[bh-header-role="bhHeaderBarInfoBox"]').length>0||a.closest('img[bh-header-role="bhHeaderUserInfoIcon"]').length>0||e("[bh-header-role=bhHeaderBarInfoBox]").removeClass("bh-active")})}function a(e){var t=i(e),a='<header class="bh-header sc-animated" bh-header-role="bhHeader">'+t+"</header>";return a+='<header class="bh-header-mini sc-animated" bh-header-role="bhHeaderMini">'+t+"</header>",a+='<header class="bh-header-bg sc-animated"></header>',e.openTheme&&(a+=f()),a}function i(e){var t='<div class="bh-headerBar"><div class="bh-headerBar-content bh-clearfix">@asideNavIcon@logo@title<div class="bh-headerBar-menu">@userImage@dropMenu@themeIcon@icons@navigate</div></div></div>';return t.replace("@logo",o(e)).replace("@title",s(e)).replace("@navigate",l(e)).replace("@icons",c(e)).replace("@userImage",u(e)).replace("@dropMenu",m(e)).replace("@asideNavIcon",n(e)).replace("@themeIcon",r(e))}function n(e){var t=e.showAsideNav?"display: block;":"display: none;",a='<div style="'+t+'" class="bh-headerBar-asideMenu" bh-header-role="bhAsideNavIcon"><i class="iconfont icon-menu"></i></div>';return a}function r(e){var t="";return e.openTheme&&(t='<div class="bh-headerBar-iconBlock" bh-theme-role="themeIcon"><i class="iconfont icon-pifu"></i></div>'),t}function o(e){var t="";return e.logo&&(t='<div class="bh-headerBar-logo"><img src="'+e.logo+'" /></div>'),t}function s(e){var t="";return e.title&&(t='<div class="bh-headerBar-title">'+e.title+"</div>"),t}function l(e){var t="",a=e.nav;if(a){t='<div class="bh-headerBar-nav-more"><i class="iconfont icon-keyboardcontrol"></i></div><div class="bh-headerBar-navigate @isHideClass">@content<div class="bh-headerBar-nav-bar bh-single-animate"></div><div class="bh-headerBar-navBar-cover"></div></div>';for(var i="",n=a.length,r=n-1;r>=0;r--){var o=BH_UTILS.NewGuid(),s=a[r];s.guid=o,1===n&&"boolean"!=typeof s.hide&&(s.hide=!0),i+=d(s)}var l=e.isNavHide?"bh-nav-hide":"";t=t.replace("@content",i).replace("@isHideClass",l)}return t}function d(t){var a='<a class="@itemClass" href="@href" @target bh-header-role="@guid"><div class="bh-headerBar-nav-item @active" @attribute>@title</div><b class="bh-headerBar-nav-item-tip"></b></a>',i="",n="",r="javascript:void(0);",o="",s="nav-"+t.guid;t.active&&(i="bh-active"),t.className&&(i+=" "+t.className);var l=t.attribute;if(l){var d=l.length;if(d>0)for(var c=0;d>c;c++){var h=l[c].key,u=l[c].value;h&&u&&(n+=h+'="'+u+'" ')}}t.href&&(r=t.href,"boolean"==typeof t.isOpenNewPage?o=t.isOpenNewPage?'target="_blank"':"":"string"==typeof t.isOpenNewPage&&(o="true"===e.trim(t.isOpenNewPage)?'target="_blank"':""));var f="";t.hide&&(f="bh-hide");var p=t.title?t.title:"";return a.replace("@active",i).replace("@title",p).replace("@href",r).replace("@attribute",n).replace("@itemClass",f).replace("@target",o).replace("@guid",s)}function c(e){var t="",a=e.icons;if((e.feedback||e.appDetail)&&(a&&a.unshift({className:"icon-erroroutline",attrs:{"bh-header-role":"ampSwitch"}}),h(e)),a)for(var i=0,n=a.length;n>i;i++){var r=a[i],o=r.className;if(o){var s=r.attrs,l="",d=r.href?r.href:"javascript:void(0);";if(s)for(var c in s){var u=s[c];l+=c+"="+u+" "}t+='<div class="bh-headerBar-iconBlock" '+l+'><a href="'+d+'"><i class="iconfont '+o+'"></i></a></div>'}}return t}function h(t){var a="";t.feedback&&(a+='<div class="bh-headerBar-roleBox-title" bh-header-role="feedbackBox"><a href="javascript:void(0);"><i class="iconfont icon-assignmentlate"></i>问题反馈</a></div>'),t.appDetail&&(a+='<div class="bh-headerBar-roleBox-title" bh-header-role="appDetailBox"><a href="javascript:void(0);"><i class="iconfont icon-helpoutline"></i>应用说明</a></div>');var i='<div class="bh-headerBar-roleBox bh-card bh-card-lv3 bh-headerBar-popupBox-animate" bh-header-role="ampBox">'+a+"</div>";e("body").append(i)}function u(e){var t="",a=e.userImage;return a&&(t='<div class="bh-headerBar-imgBlock"><img src="'+a+'" bh-header-role="bhHeaderUserInfoIcon" /></div>'),t}function f(){var e='<div class="bh-header-themelist jqx-dropdownbutton-popup"><ul><li class="selected" title="blue"><span class="bh-header-colorCard-text">蓝色皮肤</span><span class="bh-header-colorCard-blueTheme"></span><span class="bh-header-colorCard-bluePrimary"></span><span class="bh-header-colorCard-blueSuccess"></span><span class="bh-header-colorCard-blueWarning"></span><span class="bh-header-colorCard-blueDanger"></span></li><li title="purple"><span class="bh-header-colorCard-text">紫色皮肤</span><span class="bh-header-colorCard-purpleTheme"></span><span class="bh-header-colorCard-purplePrimary"></span><span class="bh-header-colorCard-purpleSuccess"></span><span class="bh-header-colorCard-purpleWarning"></span><span class="bh-header-colorCard-purpleDanger"></span></li><li title="lightBlue"><span class="bh-header-colorCard-text">淡蓝色皮肤</span><span class="bh-header-colorCard-lightBlueTheme"></span><span class="bh-header-colorCard-lightBluePrimary"></span><span class="bh-header-colorCard-lightBlueSuccess"></span><span class="bh-header-colorCard-lightBlueWarning"></span><span class="bh-header-colorCard-lightBlueDanger"></span></li><li title="green"><span class="bh-header-colorCard-text">绿色皮肤</span><span class="bh-header-colorCard-greenTheme"></span><span class="bh-header-colorCard-greenPrimary"></span><span class="bh-header-colorCard-greenSuccess"></span><span class="bh-header-colorCard-greenWarning"></span><span class="bh-header-colorCard-greenDanger"></span></li></ul></div>';return e}function p(e){var t="",a="",i="";if(e){var n=e.length;if(n>0){for(var r=0;n>r;r++){var o=e[r],s=o.text?o.text:"",l=o.href,d=o.id?o.id:"";l||(l="javascript:void(0);"),o.active&&(i=o),a+='<div class="bh-headerBar-roleBox-title"><a id="'+d+'" href="'+l+'">'+s+"</a></div>"}t='<div class="bh-headerBar-roleBox bh-card bh-card-lv3 bh-headerBar-popupBox-animate" bh-header-role="roleBox"><div class="bh-headerBar-roleBox-explain bh-headerBar-roleBox-title">选择角色</div>'+a+"</div>"}}return{html:t,active:i}}function m(t){var a="",i=t.dropMenu;if(i&&i.length>0){var n=p(i);e("body").append(n.html),a='<div class="bh-headerBar-roleSwitch" bh-header-role="roleSwitch">'+n.active.text+"</div>"}return a}function b(e,t){v(e),y(e),t.openTheme&&B(e),_(e,t),S(e,t),I(e),w(e)}function v(t){e(window).scroll(function(a){var i=e(window),n=i.scrollTop(),r=t.find("header.bh-header-bg"),o=t.find("header.bh-header-mini"),s=t.find("header.bh-header"),l=44;l>n?(r.addClass("bh-headerBg-show").removeClass("bh-headerBg-hide"),s.addClass("bh-normalHeader-show").removeClass("bh-normalHeader-hide"),o.addClass("bh-miniHeader-hide").removeClass("bh-miniHeader-show")):n==l?(s.addClass("bh-normalHeader-show").removeClass("bh-normalHeader-hide"),o.addClass("bh-miniHeader-hide").removeClass("bh-miniHeader-show")):(r.addClass("bh-headerBg-hide").removeClass("bh-headerBg-show"),s.addClass("bh-normalHeader-hide").removeClass("bh-normalHeader-show"),o.addClass("bh-miniHeader-show").removeClass("bh-miniHeader-hide"))})}function g(e){var t=e.find(".bh-headerBar-navigate"),a=t.find(".bh-active");if(a.length>0){var i=a.closest("a").index();e.find(".bh-headerBar-navigate").data("nav-init-active-index",i),T(a,t)}}function y(t){var a=t.find(".bh-headerBar-navigate"),i=a.find(".bh-headerBar-nav-item");i.length>0&&(a.on("mouseenter",".bh-headerBar-nav-item",function(){a.hasClass("bh-unActive")&&a.data("activeType","bh-unActive").removeClass("bh-unActive");var t=e(this),i=a.data("nav-init-active-index");if(!i&&0!==i){var n=a.find(".bh-active").closest("a").index();a.data("nav-init-active-index",n)}T(t,a)}),a.on("click",".bh-headerBar-nav-item",function(){a.removeData("activeType");var i=e(this).closest("a"),n=i.index();a.find(".bh-active").removeClass("bh-active"),i.children().addClass("bh-active"),a.data("nav-init-active-index",n).removeClass("bh-unActive");var r=t.find("div.bh-headerBar-nav-more");if(r.hasClass("bh-active")){r.removeClass("bh-active");var o=e('div[bh-header-role="navMoreBox"]');o.children(".bh-active").removeClass("bh-active"),o.children("div.bh-header-navMoreBox-bar").css({top:"-43px"})}}),a.on("mouseleave",function(){a.data("activeType")&&a.removeData("activeType").addClass("bh-unActive");var e=a.data("nav-init-active-index"),t=a.find(".bh-headerBar-nav-item"),i=t.closest("a").eq(e),n=i.find(".bh-headerBar-nav-item");T(n,a)}))}function w(t){t.on("click","[bh-header-role=bhAsideNavIcon]",function(){e.bhAsideNav.show()})}function x(t,a){t.on("mouseover","div.bh-headerBar-nav-more",function(){var t=e(this),a=BH_UTILS.getElementPosition(t),i=e('div[bh-header-role="navMoreBox"]'),n=i.outerWidth(),r=0;t.closest('header[bh-header-role="bhHeaderMini"]').length>0?(i.addClass("bh-header-navMoreBox-mini"),r=i.data("miniHeight")):(i.removeClass("bh-header-navMoreBox-mini"),r=i.data("height")),i.css({top:a.bottom+"px",left:parseInt(a.right-n,10)+"px",height:r+"px"}).data("active",!0)}),t.on("mouseout","div.bh-headerBar-nav-more",function(){C(t)}),a.on("mouseover",function(a){var i=e(this);i.data("active",!0),D(e(a.target||a.srcElement),i,t)}),a.on("mouseout",function(){C(t)}),a.on("click",function(a){var i=e(this),n=e(a.target||a.srcElement).closest("a");k(n,i,t)})}function k(e,t,a){e.length>0&&(t.children("a").removeClass("bh-active"),e.addClass("bh-active"),t.css({height:0}),a.find("div.bh-headerBar-nav-more").addClass("bh-active"),a.find("div.bh-headerBar-navigate").find("div.bh-active").removeClass("bh-active"))}function C(t){var a=e('div[bh-header-role="navMoreBox"]');a.removeData("active"),D(a.children(".bh-active"),a,t),setTimeout(function(){a.data("active")||a.css({height:0})},200)}function D(t,a,i){var n=t.length>0?t.closest("a"):[],r=a.children("div.bh-header-navMoreBox-bar"),o=i.find("div.bh-headerBar-navigate"),s=a.hasClass("bh-header-navMoreBox-mini")?24:43;if(n.length>0){if(n.hasClass("bh-hide"))r.css({top:"-"+s+"px"});else{var l=n.index();a.children("a").each(function(t,a){if(l>t){var i=e(a);i.hasClass("bh-hide")&&l--}});var d=l*s+1;r.css({top:d+"px"})}o.addClass("bh-unActive")}else o.removeClass("bh-unActive"),r.css({top:"-"+s+"px"})}function T(t,a){var i=t.closest("a").index();a.each(function(){var t=e(this),a=t.children("a").eq(i),n=a.outerWidth(),r=a.offset().left,o=t.offset().left,s=r-o;t.find(".bh-headerBar-nav-bar").css({left:s+"px",width:n+"px"})})}function _(t,a){t.on("click","[bh-header-role=roleSwitch]",function(){var t=e(this),a=t.offset(),i=t.outerWidth(),n=t.outerHeight(),r=e("[bh-header-role=roleBox]"),o=r.outerWidth(),s=a.left+i-o,l=a.top+n+8;r.css({left:s,top:l}).toggleClass("bh-active")}),e("[bh-header-role=roleBox]").on("click",".bh-headerBar-roleBox-title",function(){var i=e(this);if(!i.hasClass("bh-headerBar-roleBox-explain")){var n=e.trim(i.text()),r=i.children("a").attr("id");if(t.find("[bh-header-role=roleSwitch]").text(n),i.closest("[bh-header-role=roleBox]").removeClass("bh-active"),t.trigger("headerRoleChange",[n,i]),"undefined"!=typeof a.dropMenuCallback&&a.dropMenuCallback instanceof Function){var o={id:r,text:n,JDom:i};a.dropMenuCallback(o)}}})}function S(t,a){a.appDetail&&e.ampAppDetail.init({appId:a.appDetailData.appId,rootPath:a.appDetailData.rootPath}),t.on("click","[bh-header-role=ampSwitch]",function(){var t=e(this),a=t.offset(),i=t.outerWidth(),n=t.outerHeight(),r=e("[bh-header-role=ampBox]"),o=r.outerWidth(),s=a.left+i-o,l=a.top+n+8;r.css({left:s,top:l}).toggleClass("bh-active")}),e("[bh-header-role=ampBox]").on("click",".bh-headerBar-roleBox-title",function(){var t=e(this),i=t.attr("bh-header-role");"feedbackBox"===i?AmpFeedback.window(a.feedbackData):"appDetailBox"===i&&e.ampAppDetail.show()})}function I(t){t.on("click","[bh-header-role=bhHeaderUserInfoIcon]",function(){var t=e("[bh-header-role=bhHeaderBarInfoBox]");if(0!==t.length){var a=e(this),i=a.offset(),n=a.outerWidth(),r=a.outerHeight(),o=t.outerWidth(),s=i.left+n-o,l=i.top+r+8;t.css({left:s,top:l}).toggleClass("bh-active")}})}function B(e){var t=e.find("div[bh-theme-role=themeIcon]"),a=t.outerWidth(),i=t.outerHeight(),n=t.offset(),r=e.find(".bh-header-themelist"),o=n.top+i,s=n.left+a-150;r.css({top:o,left:s}),M(t,r)}function M(t,a){t.on("click",function(){a.toggle()}),a.on("click","li",function(){a.find(".bh-selected").removeClass("bh-selected"),e(this).addClass("bh-selected"),P({themesName:e(this).attr("title"),themesLink:e("#bhThemes")}),P({themesName:e(this).attr("title"),themesLink:e("#bhScenceThemes")}),a.hide()}),a.find("li").hover(function(){e(this).addClass("bh-active")},function(){e(this).removeClass("bh-active")})}function P(e){var t=e.themesLink,a=H(e);""!=a&&(t.removeAttr("type"),t.attr("href",a),t.attr("type","text/css"))}function H(e){var t=e.themesLink,a=t.attr("href");if(!a)return!1;var i=a.split("/"),n="";return i&&i.length>1&&(i[i.length-2]=e.themesName,n=i.join("/")),n}function A(t){var a=t.userInfo;if(!e.isEmptyObject(a)){var i=a.image,n=a.info,r=a.logoutHref?'<a class="bh-btn bh-btn-default bh-btn-small bh-btn-danger" href="'+a.logoutHref+'">退出登录</a>':"",o='<div class="bh-headerBar-userIfon bh-headerBar-popupBox-animate bh-card bh-card-lv3" bh-header-role="bhHeaderBarInfoBox"><div class="bh-headerBar-userInfo-img"><img src="@image" /></div><div class="bh-headerBar-userInfo-detail">@detail</div>@logoutHtml</div>',s="";if(n)for(var l=n.length,d=0;l>d;d++)0===d?s+='<div class="bh-headerBar-userIfon-name">'+n[d]+"</div>":n[d]&&(s+="<div>"+n[d]+"</div>");o=o.replace("@image",i).replace("@detail",s).replace("@logoutHtml",r),e("body").append(o);var c=e('div[bh-header-role="bhHeaderBarInfoBox"]').find("img");BH_UTILS.checkImageLoadComplete(c).fail(function(e,t){t.attr("src",N.defaultUserImg)})}}function Y(t,a){if(t){var i=parseInt(t.activeIndex,10);if(i){i-=1;var n=N.nav[i].guid,r=a.find(".bh-headerBar-navigate");r.find(".bh-active").removeClass("bh-active");var o=e('div[bh-header-role="navMoreBox"]'),s=r.children('a[bh-header-role="nav-'+n+'"]').index();if(s>=0){var l=r.children("a").eq(s).find(".bh-headerBar-nav-item");l.addClass("bh-active"),r.data("nav-init-active-index",s).removeClass("bh-unActive"),a.find("div.bh-headerBar-nav-more").removeClass("bh-active"),T(l,r),o.find(".bh-active").removeClass("bh-active"),D([],o,a)}else{var d=o.children('a[bh-header-role="nav-'+n+'"]');o.find(".bh-active").removeClass("bh-active"),d.addClass("bh-active"),k(d,o,a),D(d,o,a)}}}}function E(t){var a=N.$dom.find("div.bh-headerBar-navigate"),i=N.$dom.find("div.bh-headerBar-nav-more");"show"===t?(a.removeClass("bh-nav-hide"),e('div[bh-header-role="navMoreBox"]').find("a").length>0&&i.show()):(a.addClass("bh-nav-hide"),i.hide())}function O(t,a){var i=t.find('header[bh-header-role="bhHeader"]'),n=i.find("img"),r=n.length;if(r>0){var o=0;n.each(function(n,s){BH_UTILS.checkImageLoadComplete(e(s)).done(function(){o++,o===r&&z(i,t,a)}).fail(function(e,n){n.closest(".bh-headerBar-imgBlock").length>0&&n.attr("src",N.defaultUserImg),o++,o===r&&z(i,t,a)})})}else z(i,t,a)}function z(t,a,i){var n=t.find("div.bh-headerBar-content"),r=null,o=0;n.children().each(function(){var t=e(this);t.hasClass("bh-headerBar-menu")?r=t:o+=t.outerWidth(!0)});var s=null,l=0;r.children().each(function(){var t=e(this);t.hasClass("bh-headerBar-navigate")?s=t:l+=t.outerWidth(!0)});var d=16,c=148,h="calc(100% - "+parseInt(o+c,10)+"px)",u="calc(100% - "+parseInt(l+d,10)+"px)";r.css({width:h}),t.find("div.bh-headerBar-navigate").css({width:u});var f=a.children('header[bh-header-role="bhHeaderMini"]');f.find("div.bh-headerBar-menu").css({width:h}),f.find("div.bh-headerBar-navigate").css({width:u}),L(a),"undefined"!=typeof i.ready&&i.ready instanceof Function&&i.ready()}function L(t){for(var a=t.children('header[bh-header-role="bhHeader"]').find("div.bh-headerBar-navigate"),i=t.children('header[bh-header-role="bhHeaderMini"]').find("div.bh-headerBar-navigate"),n=a.width(),r=0,o=a.children("a"),s=i.children("a"),l=o.length,d=0,c=!1,h="",u=0,f=l-1;f>=0;f--){var p=o[f];r+=p.offsetWidth,r>n&&(c||(d=f,c=!0),h+=p.outerHTML,o.eq(f).remove(),s.eq(f).remove(),u++)}e("body").append('<div class="bh-header-navMoreBox" bh-header-role="navMoreBox">'+h+'<div class="bh-header-navMoreBox-bar bh-animate-fast bh-animate-top"></div></div>');var m=e('div[bh-header-role="navMoreBox"]'),b=m.outerHeight(),v=24*u;m.data("height",b).data("miniHeight",v).css({height:0,display:"block"}),u>0&&(N.isNavHide||t.find("div.bh-headerBar-nav-more").show(),x(t,m));var y=m.find(".bh-active").closest("a");0===y.length?g(t):(k(y,m,t),D(y,m,t))}var j,N={nav:[],defaultUserImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAFnFJREFUeNrsXQmUXFWZfve+rV5VdVXv3emk0xAJCZ0ACQmEBCIBgxgGIaARUVQE5zijOHMcnZkz5+iMjuegM8eFEUdHiQgqjjIgBySAwawCWYidQCfpTkIv6aV6qX1/673zv6rqSlV3JSTdVV3Vqbqnc5KuvHrL//3L9//3vv+iO/90kqmM4g1cEUEFgAoAlVEBoAJAZVQAqABQGRUAKgBURgWACgCVUQGgbAY35x+g5yB/bCfr6kZyCH6lLE8lJ6mdb8xbQmoXGPOvoPa6CgAzsNDACHb3se5+5BtGaswUsaXKlG/rVUbT+yw7/kfc84scX+t9K/k3tVVryzYq7/8MgFEB4LwHMVhXF3/ide7kmxhEL4dzHIOQ0fg+duzdc58JRQPCwWf5rl2xe76hL7mxBJ8VzdJ8AKUMJQxmz30UeBK+azfXtRcAyPP1eUv0wZ8YbSvK1wLEXVtJ82Kt/WZQ3iwnExzDYz1czwGu7y+m3AkpiKJpsvX5f4984ddUsJYlACB0QbI+/RWIikbzEnDNIBEU9WPPAPYPo3hoNsLJeB//9qvqtfeUqQWoK/9K/PNT7HAX/BTrafnD29TVd08ywXLJA4AOxjd//T3DQGHVbegoGFz5JmJa+4bop35A6lqL9ri6ij2nSwoAdsmnvzSrDLO+Tbvmw6SmBekqUKPcFLOgN9C8GDI1HBxlEGZKICCjIi5LsbzyKESFWb4o8FFEDMbQwCVqy26WN34RGEG5uKAs6W//kfj6r4qgcZoM0jf/EfEKB561PfUwigfLCwAU9lp/84/i7p+bqVnRXfDQMcsfHysjAPjO7fafPsAf/VPphEGh4w/Y3X/x5wFc7yHh9V/z3XtKrRgA1IjvfE255a8vIgCIASSHcgJSIjjkZvsPg8pzPQeZUh1c71sXGwCWF78NWQ+jxACAUvD17xEJxnuRHKEW+8USAzhBXfcJFPbh4FjpS9/kBbEACo1fVEHYaFkafegnkHCd/aHzeWlCiKYqiiLruj49k8Vhz8XGgoyWK6Kfe1xbetPkVEiwqtffmy97NwwjHo/xvLBo8RVXrri2vrFpejDMTkV2tlkQWEDs049yJ9/g336VHT1lTmO1Xqmu2YLksHDgmZnmtJQqcry6tv5Dt2xZu35jY3MLx/HRSGjfn3e8+sIzfp8nAY/O8Tx8fj5c6KKlofrlN8BP5idmBYLSGZ1T18DtrNvwwbvv/eyC1jZN10DrCTFsdsemu+5dtWY9ABAOBU51dXYcfMM1dFoQRMyeqxCLiH7RApDD8XkGpuHlMU45THAyDkf1vZ/+m/Uf2EQpicWiGR5JN+J6TV19fUMTwvjatTfdvvm+nX98Ydvzv1VVGTzVOQyqnAAAbnohrgb0vbqmLh6NAAzg8cHdf+7hf1p02VL4N80lOEPXDSal0Vab/SOfeOh9l7f/9L8eAZs4GwYUF0kUxeF9avQCHL0ib7j1jiXtV8ng8uMxUOqvfv0/2hYtBsWn56G2YBOxaGTF6rV/++WvWSwSBO2zUecyAgCd38x7IszKm+782P0PfWl48LQs6x/YtPmLX/23Kkc1fH5BVwQMrl51/eZ7H9C03MGWitYyAoCy52Xvcjy28fbNn/rc34VCQZ9nbPOW+x74/D8ghM8mxHOPeCy6cdPmpctWgEnlAsBWTgBIzrOp/Bl5gbdZt+GTDz5MKA34POCF7nvgC4Y5pklXIH4IomXTnVtYzE72XSxHJUcZAUAaL82ZUp2JEarS2rboM5//MstxkOI6nNW3fXgLiB6I5oxCjyIvX7G67dLFmqZlW6TAWKrKCAD90lWT1oaoirJk2dW33HYniB5UFbKn+x96uLauQVNV+NVZXQtk5qzx80KMQLLaV11/IzGyAGAEiQpSGQFgtK0gzqZMz8Pz/EfvexAYDkYIyM7Nt374ypVrIAakD6B54umGri2/erXFaicZRIBaHbSsWJD5tCyf6XCuuPKay9uvsjucosXaNG/+Hfd8Qs/2EnkzPl1valnQ2NSSaU+kuqW8aCiDMOUtmRaw8tq1kOiCrxctlo2b7q5raILkqyDhhxCb3TG/tc3IKNgZC5YxRRpFWxVhOJrSErFabZCpJsnlZZe3r33/RlWRC4g+Qi0L2gD31A1AtnHJqrIDAC++LumFKTEgxtbU1RNgOZoG0odfZx5vz+0CG5vnAxCm9A1DbFtOL7uuvACoYsn72y8DJwPOx0iQHIvFapIfjl+6fEWBnM8Z8RPqrK6BsJ+ocyirl7XfWquXFwCfrA5tubyhuWUBOGIKLshu5wWREMoLgihaaIELk4QSm80OwQayCoskrV+z5jMOXx1rlAsAAqLtfBTi7crV61RNBXGD2FmzWE8nJcOFsgBKRUnieEFV1MuWLFt02VKkK5fwarkAIGFiwwR0/4YNH6xyOEHxWXZW16wn0g4BLgqXhpAD8MMnzvKxAPN1MQYB52m7dPGaG26W5dnQ+kl3gDEL4XfeggUrr10HWYhZDWJouQAgUxw0cLL4c/td99bVV5mVfTKrq1cSJVVt7Y0fqKmtTzIujaJyAUClaEAz004wgpbWtjvuvi8cDEIwQLP35hDSNRWI7w0336Yl1B+G1yinGbH98dTshyzLt95xz9JlV0VCQYTwbKk/E49H19x4y7z5rckFLH6D7dHKqRRxRJbGdS5ByYkgWDZt/jgQUDpba+gg4bDbHetvvi1dbjoQt8YILiMAFIp2x1ILsyD/NVl54el/JgBVzmqHsyaZissUvRYtzmRAMUsRu6L2gMGmJTLLRAguly5HvxapGtO5sgMgTPAfIg6m2MOl88W9jWL2C9oZtZ9QxSLeAPCxx/21xfL+xQcAqPePfPUQkIuSAh2KW7/rbThVVA1git4xC/gfSOGN2GwvCTEoejJYc1yxFN0HlkTLsj2zDoDbYIvreUoLAPADQxo/m1fskK0qRRUAUkOnaO8sGgFkIRD/mdIYpdI18fWYLTRbPmFP1D6qcxUAskaIsDtmJR2FC71QAvlHyQEAY3ukylP4kuQLYUfQYCsA5M6NIS0yChkbuxTLjpLx/iUHAIxjiuWZkLNAJ48Q/PNArU5RBYBzjW0Rx64CKCkk2z/z15VO7C1dAGD8MlhzLN856m+CNR2yVIIPW4oAaBT92Fc3rOctNXsx7HglUsWU5CjR7ulBwj7qbfDng66A6J8JVTOlOkq3ff2Izj3mq5fp9O+QRcwrUcfTwRqmhEdJ7x9wUhW/7wUM0DRarRKEnvDXPB2oZkp7lDQAmDK9Cu/yB6mhI3zet4oQj8hej3A4YLFqhmAQtkhvwZ/PKC1a5sCIiasipSIhPKWYUBvVORoOGSGLvVaUrImlK5RJr+2nkyRv/qHEiATdcsDpjDuasLnoSkdIYXEEISKJfjigAkDOUcXiuxoc/mBs0B2QNZ3D2KDYwakSSzSNqH43HxUtVjvHC2ANKLG6P3MtFzWn2omhqbFIiGqxRl7k5JSosUEkQtqctram6o6YcjQiVwDIMVZVSVaOrWpw1lVJ/WOB8WBEBwvAGocMgwGJM5qqwA9KjJTss2ODudIhsdYBwHNgRUAG5L2EkipJvKSxpsFpBVe0ksW9cTVmkAoAWaOBMZbVOEG+OmirwLcvbGgK2U6MhWuoi2WIkYhVaX2nie0gaHaHk5RFJI6B/7Nj1WK2rLNdUl+9oN7BsayRwMbKstfXOne6/ZUgfGb4D+9TXnueNQeXEB81CK1zWK9Z1FzX2CIzFpZqk/09g1LynhiZ1gBxgGf0thrx6kXzLm2uAY9lTKwCkmxVpPvI8P9trVhAakROHj39xPdOhoNIjnzy4X9mOS75/iJgIGCqVi86ZW1oDB+vjQ8ghhD0HqkZHIOoEeNqRx3L6qRmAEU/422Q1W47sPOVx7/zNTkWYRCe/9EHi/74s909fdIIH36z74nvETmGWdx95K2Az7ti7U1gB+lla6DLhBWDUmuUrxX1CPwkuc5ZaKtuYGHU3u6quUYRauC7aR8FJmK12fa+8sLPHvkXRY5DJI/2djMsW7V4eZkCoJzq9D7/i6GXfmskFoiDgEAopzoPe8ZcK9dt4Hj+DAYMZMNE5asBBh0JkhbgqUJNPooyRA90kwakhYM114VsC5HpW0kGPUUWq23nC7974j//1TCMdM+m4PHDdXarrb7ZEKVyAuD0Cc/vnxh7+XfyuAsUFFwEmhATz/M9Xe+MDQ+uXHsTLwiZ3QTAt4DTiFiaQtI84KWSHkoDALKWeedw9Sq3ox3MBewAZSUHyCJZtz/39JPf/xZ8I7OBH8dx0d6u0IGdDjkkNTTrkv1iBgBRah3ti7z8dN9zT0VHhhJ0BQg9NnQjK4kVxN6uztGhgVXrb4F4MOnNGWzuMWYJWBfqhuFUx8AOMCUh1tlbv0ER6xKin5xmQdTd+YdnnvzeNyGJgxOe4ayUEQUgR1hVFPepLv/+nbWYWOYt1HnxIgRACnnkbb/q+t/HPf09IPp0+73kXzohmToLGPSfOOb3uK+58RaM8KT3BkyPhPBpnzyfuHgWcYh0yvWKo82Cc1B7yWbft+Plrd/5mvmoXBbjAGokCHySSsH96Lo+euxto6ujYcFCrbrxogLAOdjd9dg3h453wnMC05z0KpLJEaf0YIJ40HP8bTkWXbHuJsikJrU0hK90jUUaUKjFoikMtzPY7Kyps/J40hp30Wo9+U7Hf3/jK5oiQ1DJStkoNbuJcmymp4J7iwQDowf2LGxp1prbLhIAqt49/NYPv6XE4+Dfc74FBtIkhBoGzfzPREzmT7x9SLRYlq9am9k5RRCEU93Hf//U1iPH3t33Ts+rHQP7Dx93D/RcsfwqjjtTdgMz8o6NPPb1v/eOjwqiZUq9DolCjvsBFQFsXB37Fy2YrzYtnPN5gMP17l9+/B1iGOd4ExhEBsqo68ZUGYHgnt36WPPCS9Zs+FB8ojkoOPJTx4/2Hdk/bLUnUKOY6IHhvjvu2VJb38Ak+q+CHOGiT33/W4O9p8AL5dA7FuOzlFfN7xLy1tZHr/tqXaj1ijmcCVvkcPfW72qa9p7vYcMzQzScWjPG5rvU5Fc/eGRkoA80egIwMtTfJ1gsoMJWkZNEHv4NgTTo96VlKlik7c/9+tDeP+WUfhLyc0wxJDCgJ578oaRE5zAAxusve0dHOO69jQyZjJDNKREgo+7R4d/95Ltm8WfiCKfTaWSxI3qmTASPxAv+od5tTz/Oi+JZ5Gu6+3PPEcD9eEZG9DdfnasA2CK+k9tf5Pnzmlinpk9g04YyqT0Z5FD7dv3x2O4Xax12g1BwVp+9/2PzGhvSLdJlWVm1csXSpUsVVSOUWdpkP7jtN+7x8TTlpxktKMxNLfnzcrw8z/XueEkq8E5nhQJA79wfjUYxvoDzg0+RJNOziEAPTYKO08EAs/yzv9x6qRCtr7LEZOW6ZZfcv+WuWFxOVUYR+uzHN9skEaxk1QKHNTLy0kvbLJKU9ic8y4pmHxYBTi9J0vkYZfKLwUAA93TOPQBYQx89uPeCpJ+6GyA/HAfyNylTxtdBdse7T+7e/uraVtuiWgmS4gc+/pFFba2aroPWr1zevnH99VUsWdPqmF/FvbZrz8joeFrKCUKVOCfHgfO5oMll+K7n0BuokC8wFwQAi3/Uc7pvej1QwLGAS4nHZS17EwYIyM+9+BKIb0WLTUBMTU31xzbfDkdCkL/x+tUA2NIGS6Pd9Dlv7NufyS8NwzBPKCvT2NUBrNDd3SnGI3MMANLXpSjKNHo/gD+RQaUT3TPQZAcldhw+0tPTy0zMgzmr7HA8XMXt8aaPBzy6urr5KV7e3GjDREu/oJsCI47FYni0fy4BgCnxHT00vc4bCCNwFDlb+YM9+fz+nXv2pj8JhSOme2HZvsHhdIx1jYyOjI3l9PKJXBdf6AIJQE7pPzGXABDikfFTJ6bZg4ma3ONswQNkvWPX7vSv0VgcUGY5dnhkLBJNtXh1uVwBfyDn1QHaadwVwObv7ixcGMg/AKxnWI5Gpt17xiQtPJdTT0VRPPL2O8PDrhQAcRkl6qnBUHhkLLUJVW9//9l8feK0dBr3ExgaEKPBOQOA4eqH+DltAJJlMnPdSS4v5Ha739x/IPkreGez8RJCkUh00DWa/HBwcIhMkTJ8ANqf85znA0AkEubD3rkBAGJo8NSxaRDQSYmxYPaUzA3P7r1/TgEQjyen4wHv04OpjcqHXa5cbsT0P9NeHmdSg74TcwMAVo4GB/tn2PuKJioBEDBzBBhBONTRYeq+GQPk5HXgcj39qV2BRkbGJjn6VJo9E52gND58GhVmfWO+AYhHQl7PDC0gpbO5CgbA9wcGhjqPHmPMHR7iyfVxcLn+AdMCVFUdBQqUDQBKhN8ZyQjCTP+72NDmAgDjw/oMAkCW106UjKdyElmOv/7mPhMAOZVqwJGj425wRBAM/AH/pG8lZoEwnRkAIfeYKEfnAACqZyRfbZ+TRjDV7oF3Hjj4lqpqOlwIJYMzHnV7IC3w+rwxk5uiTCAzp72m/1yqynhH5gIAI4P5OlXSCKZGAlEQj3d39/T1EUKTpR3Q0Gg07hp1+7w+8EuZFpCsPM9YFRAk2Mg/XuoAQLYSdA3OPABkGoEARjCFjHq93jf3H8xYoYsUVR0Ydnm83swSyEzY52Qxsaz/5LFCAJDPKUlRjUe97jy2/wQJmstFMc6efmFA93ft2SsrZ1qNGsToPT3EG/GsFaKI4dg8vZxBacwzJhHDwGzpAmD4xrV4LL/9V1Eig9VB1tlcqOPwEc7RmLY2juV6+wc4LYwnmo8m1R/0Py/yh4Q7NuZqjIcNW3XpAsDpKrhgjsvnOZMsHozAXECHsrJTgbUilk9W7kDUPX2neS2UjhnJ5MsEMB8IQLAJB4OCpqil7IKwf7wQ3SeTdMgwsp+dGERT8MROQKDsQyMjTMyXngRNsU+ar3tAhBBj5DRT3VS6QTg0PJDHCDwpEkylQwBABtthw+Gw3+dLHkbPPss/7aGDDQbzXxHKp7z0WKRA/VdzJcaI6iqTrhKjxBa2Zh00QUzzGH4zwlF8qL90ATBXQgW8BXoBMWkEWeZlvg2pU5B4Ws8n1jcmDubywj6z6C/GweEBRIwSBQBpqhzw4YK1oE/SoazJMgpeWZ2Yi0TUBIBOhN/878cAYSDq94iaXKIAmO+HBgOF2wOAJqjOpH3h6ZkwQCmZ8D+JZYeFsEU9HmcC7hIFwIKoHIsWdBOGKdWhZBgwEtMQlCaqlWbxh+UKcRfJCXpOLVUL4GMhpsDbkEyuDiXDgKEn346nqWW5iMsf+5xyA5QZHShRANSAbxZaAKTmtjLCABgBmJ0JAyEp9okLFocQDo+6ShSASMDPZPcOKJQRcJnTW4joZhigZjSmCEKEYClcZw7zPfygm83rCom8AWAVOEVRmFkwAnOG68ye5GAB1HzBw9wVEfEWhpOYgm1IBf4tOjLE5pUI5Q0ADrIwZjZGws9wyXfqU97fUAEAc92VaKW4gK+cIIwDPr+NpaUIgBosYBIw1Rlz5qY/Ka9kKDGzoRArYF4q7EJahFRV5fz5ZKJ50xc1XKilSznKG5RyiNHMl8uIWSZTomYTA6sDYjFWwzSjn1DejU/VdBwLliIAUa976huQ+UpBc0YCQeCVZHkYCCjCvCDyehhyA6aQ+5HJqmKL5bMk9/8CDACwy99BIeOUywAAAABJRU5ErkJggg=="};e.fn.bhHeader=function(t,a){var i;return i=this.data("bhHeader"),i?t===!0?i:"string"===e.type(t)?i[t](a):this:this.each(function(){return e(this).data("bhHeader",new j(this,t))})},e.fn.bhHeader.defaults={openTheme:!1,showAsideNav:!1,logo:"",title:"",icons:[],img:"",isNavHide:!1,nav:[],dropMenu:[],userInfo:{},feedback:!1,feedbackData:{sourceId:"",sourceName:"",uploadImageUrl:"",submitUrl:""},appDetail:!1,appDetailData:{appId:"",rootPath:""},ready:null},j=function(){function a(a,i){this.settings=e.extend({},e.fn.bhHeader.defaults,i),N.nav=this.settings.nav,N.isNavHide=this.settings.isNavHide,this.$element=e(a),N.$dom=this.$element,t(this.settings,this.$element)}return a.prototype.resetNavActive=function(t){t=e.extend({},{activeIndex:0/0},t),Y(t,this.$element)},a.prototype.showNav=function(){E("show")},a.prototype.hideNav=function(){E("hide")},a}()}(jQuery),function(e){function t(e,t){u=e.source,f=t,p=e.contentContainer,m=e.mode;var i=l(e.source);f.html(i),a(e.activeIndex),r(e)}function a(e){var t=n(e);i(t+"")}function i(e){if(null!=e){var t=f.find(".bh-menu-link-item[menuId='"+e+"']"),a=t.text(),i=t.attr("data-title"),n=f.triggerHandler("activeChange",[e,a,i,t]);if(n===!1)return!1;h&&(f.find(".bh-menu-link-item[menuId='"+h+"']").removeClass("bh-active"),p.find(".bh-menu-content[id='"+h+"']").hide()),h=e,t.addClass("bh-active"),p.find(".bh-menu-content[id='"+h+"']").show()}}function n(e){var t=null;return u&&(t=u[e].id),t}function r(){f.on("click",".bh-menu-link-item",function(){if(e(this).hasClass("bh-disabled"))return!1;if("link"==m){var t=e(this).attr("menu-data-url");window.open(t)}else{var a=e(this).attr("menuId");i(a)}})}function o(e){var t=n(e);f.find(".bh-menu-link-item[menuId='"+t+"']").addClass("bh-disabled")}function s(e){var t=n(e);f.find(".bh-menu-link-item[menuId='"+t+"']").removeClass("bh-disabled");

}function l(e){var t="";if(e){t='<div class="bh-menu-link">';for(var a=0,i=e.length;i>a;a++)t+=d(e[a]);t+="</div>"}return t}function d(e){var t="";return e&&(t='<div class="bh-menu-link-item" menuId="'+e.id+'" menu-data-url="'+e.url+'" data-title="'+e.title+'">',t+=e.title,t+="</div>"),t}var c,h,u,f,p,m;c=function(){function a(a,i){this.settings=e.extend({},e.fn.bhMenu.defaults,i),this.$element=e(a),t(this.settings,this.$element)}return a.prototype.enableItem=function(e){s(e)},a.prototype.disableItem=function(e){o(e)},a}(),e.fn.bhMenu=function(t,a){var i;return(i=this.data("bhMenu"))?t===!0?i:("string"===e.type(t)&&i[t](a),this):this.each(function(){return e(this).data("bhMenu",new c(this,t))})},e.fn.bhMenu.defaults={source:[],activeIndex:0,contentContainer:e("body"),mode:"tab"}}(jQuery),function(){function e(e){var a=e.$element,i=e.settings;switch(i.mode){case"simple":a.html(g),t(e),0==i.pagerButtonsCount&&(a.find('[pager-flag="simpleOnliOne"]').text(i.pagenum+1),i.pagenum>0&&a.find('[pager-flag="simplePrev"]').removeClass("bh-btn-disabled"));break;case"advanced":a.html(v),s(a,i)}a.find('[pager-flag="gotoPage"]').val(i.pagenum+1),c(e),a.children(".bh-pager").removeClass("bh-hide"),l(e)}function t(e){var t=e.settings,i=e.$element,n=t.pagesize,r=e.getTotal(),o=t.pagerButtonsCount,s=Math.ceil(r/n),l="",d=0,c=1==s||0==s,h=t.pagenum+1==s;0==o||1==s||0==s?(0!=s&&(d=1),l='<div class="bh-pager-simple-numHtml" pager-flag="addNumBtn"><a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn bh-simplePager-active" pager-flag="simpleOnliOne">'+d+"</a></div>",i.find('[pager-flag="pageNumEle"]').append(l),i.find('[pager-flag="simplePrev"]').addClass("bh-btn-disabled"),(c||h)&&i.find('[pager-flag="simpleNext"]').addClass("bh-btn-disabled")):(l='<div class="bh-pager-simple-numHtml" pager-flag="addNumBtn"></div>',i.find('[pager-flag="pageNumEle"]').append(l),a(t,i,s)),i.find("#bh-pager-simple-total").text(r)}function a(e,t,a){var n,r=a-e.pagerButtonsCount;r>2?(n=i(e,t,a),t.find('[pager-flag="addNumBtn"]').html(n)):o(t,a-1,a);var s=$(t.find("[pager-flag=simpleGotoPage]")),l=s.filter(function(t){return parseInt(s[t].innerText)==e.pagenum+1});l.addClass("bh-simplePager-active");var d=parseInt(l.text());1==d&&t.find("[pager-flag=simplePrev]").addClass("bh-btn-disabled"),d==a&&t.find("[pager-flag=simpleNext]").addClass("bh-btn-disabled")}function i(e,t,a){var i="",o=n(e),s=e.pagerButtonsCount,l=e.pagenum,d=a-1>s+l,c=l-1>2,h='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">1</a>',u='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+a+"</a>",f='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn ellipsis" pager-flag="changeRightEllipsis">...</a>',p='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn ellipsis" pager-flag="changeLeftEllipsis">...</a>';if(0==l||s>=l)i=h+r(t,e.pagerButtonsCount+1,a)+f+u;else{var m=r(t,e.pagerButtonsCount+1,a,o-1);c&&d?i=h+p+m+f+u:c?i=h+p+m+u:d&&(i=h+m+f+u)}return i}function n(e){var t=0,a=e.pagerButtonsCount,i=e.pagenum+1,n=i%a,r=parseInt(i/a);return 0==n?t=i-Math.floor(a/2):1==n?t=1==r?i:i-(a-1):2==n?t=i:n>2&&(t=a*r+2),t}function r(e,t,a,i){var n=0,r="";i&&(n=i);for(var o=1;t>o&&(n+=1,n!=a);o++)r+='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+n+"</a>";return r}function o(e,t,a){for(var i=0,n="",r=1;t>r;r++)i=r+1,n+='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+i+"</a>";var o='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">1</a>'+n+'<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+a+"</a>";e.find('[pager-flag="addNumBtn"]').html(o)}function s(e,t){e.find('[pager-flag="pagerOptionSel"]').jqxDropDownList({source:t.pageSizeOptions,selectedIndex:t.selectedIndex,width:"60",height:"26",dropDownHeight:"100",enableBrowserBoundsDetection:!0})}function l(e){var t=e.$element,i=e.settings,n=e.settings.mode;if(t.off("click",'[pager-flag="prev"]').on("click",'[pager-flag="prev"]',function(){var t=e.getPagenum();1>=t||(h(t-1,e),c(e),m(e,$(this)))}),t.off("click",'[pager-flag="next"]').on("click",'[pager-flag="next"]',function(){var t=e.getPagenum();t>=u(e)||(h(t+1,e),c(e),m(e,$(this)))}),t.off("keyup",'[pager-flag="gotoPage"]').on("keyup",'[pager-flag="gotoPage"]',function(t){if(13==t.keyCode){var a=e.getPagenum();if(1>a||a>u(e))return void h(1,e);h(a,e),c(e),m(e,$(this))}}),"advanced"==n&&t.off("select",'[pager-flag="pagerOptionSel"]').on("select",'[pager-flag="pagerOptionSel"]',function(t){h(0,e),c(e),m(e,$(this))}),"simple"==n){{var r=Math.ceil(e.getTotal()/i.pagesize);0!=i.pagerButtonsCount}t.off("click",'[pager-flag="changeRightEllipsis"]').on("click",'[pager-flag="changeRightEllipsis"]',function(){t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var n=t.find('[pager-flag="changeRightEllipsis"]').prev();i.pagenum=parseInt(n.text()),a(i,t,r),m(e,$('[pager-flag="changeRightEllipsis"]',t))}),t.off("click",'[pager-flag="changeLeftEllipsis"]').on("click",'[pager-flag="changeLeftEllipsis"]',function(){var n=t.find('[pager-flag="changeLeftEllipsis"]').next(),o=parseInt(n.text());i.pagenum=o-i.pagerButtonsCount,a(i,t,r),t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var s=t.find("[pager-flag=simpleGotoPage]")[i.pagerButtonsCount];$(s).addClass("bh-simplePager-active"),m(e,$('[pager-flag="changeLeftEllipsis"]',t))}),t.off("click",'[pager-flag="simplePrev"]').on("click",'[pager-flag="simplePrev"]',function(){var a=t.find('[pager-flag="simpleNext"]').hasClass("bh-btn-disabled"),n=t.find('[pager-flag="simplePrev"]').hasClass("bh-btn-disabled");n||(a&&t.find('[pager-flag="simpleNext"]').removeClass("bh-btn-disabled"),f(i,t,r),m(e,$(this)))}),t.off("click",'[pager-flag="simpleNext"]').on("click",'[pager-flag="simpleNext"]',function(){var a=t.find('[pager-flag="simpleNext"]').hasClass("bh-btn-disabled"),n=t.find('[pager-flag="simplePrev"]').hasClass("bh-btn-disabled");a||(n&&t.find('[pager-flag="simplePrev"]').removeClass("bh-btn-disabled"),p(i,t,r),m(e,$(this)))}),t.off("click",'a[pager-flag="simpleGotoPage"]').on("click",'a[pager-flag="simpleGotoPage"]',function(){var n=$(this),o=parseInt(n.text());i.pagenum=o-1,a(i,t,r);var s=t.find('a[pager-flag="simpleGotoPage"]').filter(function(){return $(this).text()==o});m(e,s)})}}function d(e){var t=1,a=1,i=e.getPagenum(),n=e.getTotal(),r=e.getPagesize();return a=n>i*r?i*r:n,t=r*(i-1)+1,0==n&&(t=0,a=0),t+"-"+a}function c(e){var t=d(e);e.$element.find('[pager-flag="pageInfo"]').html(t+" 总记录数 "+e.settings.totalSize)}function h(e,t){(isNaN(e)||1>e)&&(e=1);var a=u(t);e>a&&(e=a),t.$element.find('[pager-flag="gotoPage"]').val(e)}function u(e){var t=e.getTotal(),a=e.getPagesize();return Math.ceil(t/a)}function f(e,t,i){if(0==e.pagerButtonsCount){var n=parseInt(t.find('[pager-flag="simpleOnliOne"]')[0].innerText)-1;t.find('[pager-flag="simpleOnliOne"]').text(n),1==n&&t.find('[pager-flag="simplePrev"]').addClass("bh-btn-disabled")}else{var r=t.find(".bh-simplePager-active");e.pagenum=r.prev().prev().hasClass("ellipsis")?parseInt(r.text())-Math.floor(e.pagerButtonsCount/2):parseInt(r.text())-e.pagerButtonsCount+1,a(e,t,i),t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var o=t.find("[pager-flag=simpleGotoPage]"),s=o.filter(function(e){return parseInt(o[e].innerText)==parseInt(r.text())-1});s.addClass("bh-simplePager-active"),1==parseInt(s.text())&&t.find("[pager-flag=simplePrev]").addClass("bh-btn-disabled")}}function p(e,t,i){if(0==e.pagerButtonsCount){var n=parseInt(t.find('[pager-flag="simpleOnliOne"]')[0].innerText)+1;t.find('[pager-flag="simpleOnliOne"]').text(n),n==i&&t.find('[pager-flag="simpleNext"]').addClass("bh-btn-disabled")}else{var r=t.find(".bh-simplePager-active").text();e.pagenum=parseInt(r),a(e,t,i)}}function m(e,t){var a=e.getPagenum()-1,i=e.getPagesize(),n=e.getTotal();t.trigger("pagersearch",[a,i,n])}var b,v='<div class="bh-pager bh-hide"><div class="bh-pull-left"><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="prev"><i class="iconfont icon-keyboardarrowleft bh-pager-left-arrow"></i></a><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="next"><i class="iconfont icon-keyboardarrowright bh-pager-right-arrow"></i></a><span class="bh-pager-num" pager-flag="pageInfo"></span><label class="bh-pager-label">跳转至</label><input type="text" class="bh-form-control bh-pager-input" pager-flag="gotoPage"/><span>页</span></div><div class="bh-pull-right"><div pager-flag="pagerOptionSel" class="bh-pull-right"></div><label class="bh-pull-right bh-pager-label bh-pager-right-text">每页显示</label></div></div>',g='<div class="bh-pager bh-hide"><div class="bh-pull-left"><a href="javascript:void(0);" class="waves-effect bh-pager-simplePrev bh-pager-btn" pager-flag="simplePrev"><i class="iconfont icon-keyboardarrowleft"></i></a><div class="bh-pageNum-con" pager-flag="pageNumEle"></div><a href="javascript:void(0);" class="waves-effect bh-pager-simpleNext bh-pager-btn" pager-flag="simpleNext"><i class="iconfont icon-keyboardarrowright"></i></a></div><div class="bh-pull-right"><label class="bh-pull-right bh-pager-label bh-mh-16">共<span id="bh-pager-simple-total"></span>条</label></div></div>';$.fn.pagination=function(e,t){var a=new b(this,e);return e===!0?a:this},$.fn.pagination.defaults={mode:"advanced",pagesize:10,pageSizeOptions:[10,20,50,100],selectedIndex:0,pagenum:0,totalSize:0,pagerButtonsCount:0},b=function(){function t(t,a){this.settings=$.extend({},$.fn.pagination.defaults,a);for(var i=a.pagesize,n=this.settings.pageSizeOptions,r=0;r<n.length;r++)n[r]==i&&(this.settings.selectedIndex=r);this.$element=$(t),e(this)}return t}(),b.prototype.getPagenum=function(){return"advanced"==this.settings.mode?parseInt(this.$element.find('[pager-flag="gotoPage"]').val()):"simple"==this.settings.mode?parseInt(0==this.pageSizeOptions?this.$element.find('[pager-flag="simpleOnliOne"]')[0].innerText:this.$element.find(".bh-simplePager-active").text()):void 0},b.prototype.getPagesize=function(){return"advanced"==this.settings.mode?this.$element.find('[pager-flag="pagerOptionSel"]').jqxDropDownList("val"):"simple"==this.settings.mode?this.settings.pagesize:void 0},b.prototype.getTotal=function(){return this.settings.totalSize}}.call(void 0),function(e){function t(t){var n=e("body");n.scrollTop(0);var s="",d=f();t=i(t,d),d.length>0&&(d.find(".bh-paper-pile-closeIcon").hide(),d.find(".bh-paper-pile-dialog-container").addClass("bh-bg-transparent")),setTimeout(function(){if(d.length>0)d.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").hide();else{var t="",a=r();t=a?a:e("[bh-container-role=container]"),t&&t.length>0&&t.addClass("bh-border-transparent").addClass("bh-bg-transparent")}},b()),t.titleContainer.addClass("bh-animated-doubleTime").removeClass("bh-paper-pile-dialog-parentTitle-toRestore").addClass("bh-paper-pile-dialog-parentTitle-toSmall"),setTimeout(function(){t.titleContainer.addClass("bh-paper-pile-dialog-parentTitle-change")},2*b()*.8);var c=t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid");if(c)s=e("div[bh-paper-pile-dialog-role-guid="+c+"]"),s.removeClass("bh-negative-zIndex").show(),s.find("div.bh-paper-pile-dialog-container").removeClass("bh-paper-pile-dialog-outDown").addClass("bh-paper-pile-dialog-intoUp"),setTimeout(function(){"undefined"!=typeof t.open&&t.open instanceof Function&&t.open()},2*b()),"undefined"!=typeof t.openBefore&&t.openBefore instanceof Function&&t.openBefore();else{var h=I(),u=y();t=o(t);var p=t.footer?t.footer:"",m=t.layoutRole?t.layoutRole:"",v=t.layoutClass?t.layoutClass:"",g=t.referenceContainer.outerWidth(),x=t.titleContainer.offset(),C=x.top,D=t.referenceContainer.offset().left,T=C+32,S="";S+="left:"+D+"px;",S+="top:"+T+"px;",S+="width:"+g+"px;";var B=l();S+="height:-moz-calc(100% - "+parseInt(T+B.footerHeight)+"px);",S+="height:-webkit-calc(100% - "+parseInt(T+B.footerHeight)+"px);",S+="height:calc(100% - "+parseInt(T+B.footerHeight)+"px);";var M=t.title?68:0,P=B.windowHeight-B.footerHeight-T-M;u=u.replace("@title",t.title).replace("@footer",p).replace("@content",t.content).replace("@guid",h).replace("@style",S).replace("@bodyStyle","min-height:"+P+"px").replace(/@layoutRole/g,m).replace("@layoutClass",v),s=e(u),0===t.insertContainer.length&&(t.insertContainer=n),t.title||(s.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]").hide(),t.layoutRole&&-1!==t.layoutRole.indexOf("navLeft")||s.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").css("margin-top","24px")),t.hideCloseIcon&&s.find("[bh-paper-pile-dialog-role=bhPaperPileDialogCloseIcon]").hide(),s.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").before(t.aside?t.aside:'<aside bh-paper-pile-dialog-role="aside"></aside>'),t.insertContainer.append(s);var H=1,A=n.data("bh-paper-pile-dialog");if(A?(H=A.length+1,A.push({guid:h,index:H})):A=[{guid:h,index:H}],n.data("bh-paper-pile-dialog",A),s.attr("bh-paper-pile-dialog-role-index",H),t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid",h),t.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid",h),t.toHideContainer){var Y=t.toHideContainer.length;if(Y>1)for(var E=0;Y>E;E++)t.toHideContainer[E].attr("bh-paper-pile-dialog-role-hide-container-guid",h);else t.toHideContainer.attr("bh-paper-pile-dialog-role-hide-container-guid",h)}if(t.addDialogFlagClass&&s.addClass(t.addDialogFlagClass),t.footer){var O=s.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").outerHeight(),z=e("[bh-footer-role=footer]").outerHeight(),L=O+z;s.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").css({"padding-bottom":L})}if(s.data("closeFun",t.close),s.data("closeBeforeFun",t.closeBefore),setTimeout(function(){if(_(s,t),"undefined"!=typeof t.ready&&t.ready instanceof Function){var i=a(s);t.ready(i.dialogHeader,i.dialogSection,i.dialogFooter,i.dialogAside)}e.bhPaperPileDialog.resetPageFooter(),e.bhPaperPileDialog.resetDialogFooter()},2*b()+10),"undefined"!=typeof t.render&&t.render instanceof Function){var j=a(s);t.render(j.dialogHeader,j.dialogSection,j.dialogFooter,j.dialogAside)}}if(t.toHideContainer){var Y=t.toHideContainer.length;if(Y>1)for(var E=0;Y>E;E++)t.toHideContainer[E].hide();else t.toHideContainer.hide()}setTimeout(function(){w(s,t),s.find("div.bh-paper-pile-dialog-container").removeClass("bh-paper-pile-dialog-intoUp"),k(s),BH_UTILS&&BH_UTILS.wavesInit()},2*b())}function a(e){var t=e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"),a=e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),i=a.children("section"),n=e.find("[bh-paper-pile-dialog-role=aside]"),r=e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").children("footer");return{dialogHeader:t,dialogSection:i,dialogFooter:r,dialogAside:n}}function i(e,t){if(t)e=n(e,t,!0);else{var a=r();a&&a.length>0&&(e=n(e,a,!1))}return e}function n(e,t,a){if(t&&t.length>0&&(e.titleContainer||(e.titleContainer=a?t.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"):t.children(t.children("h2").length>0?"h2":"hgroup")),e.referenceContainer||(e.referenceContainer=a?t.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"):t),!e.toHideContainer))if(a){var i=e.referenceContainer.closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]");e.toHideContainer=i.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]")}else{var n=t.attr("bh-layout-role");e.toHideContainer="navLeft"===n?[t.children("section"),t.children("nav")]:t.children("section")}return e}function r(){var t=null,a=e("body");if(a.children("main").length>0){var i=a.children("main").children("article");i.length>0&&(t=i)}return t}function o(t){var a=t.content,i=e(a),n=i.children("h2"),r=i.children("footer"),o=!1;if("article"===i[0].localName&&i.children("section").length>0&&(o=!0),t.title?(t.title='<h2 class="bh-paper-pile-dialog-headerTitle" bh-paper-pile-dialog-role="bhPaperPileDialogHeader">'+t.title+"</h2>",o&&n.remove()):n.length>0&&(n.addClass("bh-paper-pile-dialog-headerTitle").attr("bh-paper-pile-dialog-role","bhPaperPileDialogHeader"),t.title=n[0].outerHTML,n.remove()),t.footer?(t.footer='<footer class="bh-clearfix">'+t.footer+"</footer>",o&&r.remove()):r.length>0&&(r.addClass("bh-clearfix"),t.footer=r[0].outerHTML,r.remove()),o){var s=i.children("aside");s.length>0&&(t.aside=s[0].outerHTML,s.remove()),t.layoutRole=i.attr("bh-layout-role"),t.layoutClass=i.attr("class"),t.content=i[0].innerHTML}else if(t.content="<section>"+t.content+"</section>",o){var s=i.children("aside");s.length>0&&(s.attr("bh-paper-pile-dialog-role","aside"),t.aside=s[0].outerHTML,s.remove())}return t}function s(e){var t=l(),a=e.offset().top,i=t.windowHeight-t.footerHeight-a;e.css("min-height",i+"px")}function l(){var t=e(window).height(),a=e("[bh-footer-role=footer]").outerHeight(),i=e("[bh-header-role=bhHeader]").outerHeight();return{windowHeight:t,footerHeight:a,headerHeight:i}}function d(t){var a="",i="",n="",r="";if(t.titleContainer?(i=t.titleContainer,r=i.attr("bh-paper-pile-dialog-role-title-guid")):t.referenceContainer?(n=t.titleContainer,r=n.attr("bh-paper-pile-dialog-role-container-guid")):t.guid&&(r=t.guid),!r){var o=f();a=o?o:e("div[bh-paper-pile-dialog-role=bhPaperPileDialog]"),r=a.attr("bh-paper-pile-dialog-role-guid")}if(a||(a=e("div[bh-paper-pile-dialog-role-guid="+r+"]")),a.length>0){if("true"===a.attr("hide-flag"))return;a.attr("hide-flag","true");var s=a.attr("bh-paper-pile-dialog-role-index");s=parseInt(s,10);var l=e("body").data("bh-paper-pile-dialog"),d=l.length;if(t.isHideAll&&(s=1),d>s)for(var u=d;u>=s;u--){var p=l[u-1];if(p){t=c(t,p);var m=p.guid;r=m,h(m,t)}}else t=c(t,a),h(r,t)}t.toShowContainer?t.toShowContainer.show():e("body").find("[bh-paper-pile-dialog-role-hide-container-guid="+r+"]").show(),a.length>0&&setTimeout(function(){e.bhPaperPileDialog.resetPageFooter(),e.bhPaperPileDialog.resetDialogFooter()},1e3)}function c(e,t){return e.ignoreAllCallback||(e.ignoreCloseCallback||(e.close=t.data?t.data("closeFun"):null),e.ignoreCloseBeforeCallback||(e.closeBefore=t.data?t.data("closeBeforeFun"):null)),e}function h(t,a){if(a.guid=t,a.closeBefore&&a.closeBefore instanceof Function){var i=a.closeBefore();i?u(t,a):e("[bh-paper-pile-dialog-role-guid="+t+"]").attr("hide-flag","false")}else u(t,a)}function u(t,i){var n=e("[bh-paper-pile-dialog-role-guid="+t+"]"),o=e("[bh-paper-pile-dialog-role-title-guid="+t+"]"),s=n.find("div.bh-paper-pile-dialog-container");n.find('div[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]').remove(),s.removeClass("bh-paper-pile-dialog-intoUp").addClass("bh-paper-pile-dialog-outDown"),o.removeClass("bh-paper-pile-dialog-parentTitle-toSmall").removeClass("bh-paper-pile-dialog-parentTitle-change").addClass("bh-paper-pile-dialog-parentTitle-toRestore");var l=o.closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]");setTimeout(function(){if(l.length>0)l.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").show();else{var t=r(),a="";a=t?t:e("[bh-container-role=container]"),a&&a.length>0&&a.removeClass("bh-border-transparent").removeClass("bh-bg-transparent")}s.removeClass("bh-bg-transparent"),m({titleContainer:"",referenceContainer:"",dialogContainer:"",guid:""}),S({titleContainer:"",referenceContainer:""})},b()),setTimeout(function(){if(l.length>0&&l.find(".bh-paper-pile-closeIcon").show(),n.addClass("bh-negative-zIndex").hide(),p(),i.close&&i.close instanceof Function){var e=a(n);i.close(e.dialogHeader,e.dialogSection,e.dialogFooter,e.dialogAside)}(i&&i.destroy||i&&i.autoDestroy)&&v(i)},2*b())}function f(){var t="",a=0,i=e("body").find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");return i.length>0&&i.each(function(){var i=e(this),n=parseInt(i.attr("bh-paper-pile-dialog-role-index"),10);n>a&&(t=i)}),t}function p(){var t=e("[bh-footer-role=footer]"),a=t.attr("bh-footer-role-normal-style");t.attr("style",a)}function m(t){e("[bh-footer-role=footer]").css("top",0);var a="";t.titleContainer?a=t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid"):t.referenceContainer?a=t.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid"):t.guid&&(a=t.guid);var i="";if(i=a?e("[bh-paper-pile-dialog-role-guid="+a+"]"):t.dialogContainer?t.dialogContainer:f()){var n=x(i);C(n)}}function b(){return 450}function v(t){var a=P(t);if(a)g(a);else{var i=e("body").find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");i.each(function(){var t=e(this).attr("bh-paper-pile-dialog-role-guid");g(t)})}}function g(t){var a=e("div[bh-paper-pile-dialog-role-guid="+t+"]");if(0!==a.length){var i=a.attr("bh-paper-pile-dialog-role-index");i=parseInt(i,10),e("[bh-paper-pile-dialog-role-title-guid="+t+"]").removeAttr("bh-paper-pile-dialog-role-title-guid").off("click"),e("[bh-paper-pile-dialog-role-container-guid="+t+"]").removeAttr("bh-paper-pile-dialog-role-container-guid"),a.remove();var n=e("body").data("bh-paper-pile-dialog"),r=n.length;if(1===r)e("body").removeData("bh-paper-pile-dialog");else{for(var o=[],s=0;r>s;s++){var l=n[s],d=l.index;d!=i&&(d>i?(l.index=d-1,o.push(l)):o.push(l))}e("body").data("bh-paper-pile-dialog",o)}}}function y(){var e='<div class="bh-paper-pile-dialog @layoutRole" style="@style" bh-paper-pile-dialog-role="bhPaperPileDialog" bh-paper-pile-dialog-role-guid="@guid"><div class="bh-paper-pile-dialog-container bh-animated-doubleTime bh-paper-pile-dialog-intoUp"><i class="iconfont icon-close bh-pull-right bh-paper-pile-closeIcon" bh-paper-pile-dialog-role="bhPaperPileDialogCloseIcon"></i>@title<div class="bh-paper-pile-body bh-card bh-card-lv1 @layoutClass" bh-paper-pile-dialog-role="bhPaperPileDialogBody" bh-layout-role="@layoutRole" style="@bodyStyle">@content</div><div class="bh-paper-pile-dialog-footer bh-border-v" bh-paper-pile-dialog-role="bhPaperPileDialogFooter">@footer</div></div></div>';return e}function w(e,t,a){var i="";if(t.footer){var n=e.outerWidth(),r=e.offset().left;i="left:"+r+"px;width:"+n+"px;position:fixed;bottom:0;top:auto;display:block;","get"!==a&&e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").css({left:r+"px",width:n+"px",position:"fixed",bottom:"0",top:"auto",display:"block"}).removeClass("bh-paper-pile-dialog-footer-relative")}return i}function x(t){{var a={},i=e(window),n=e("body"),r=i.scrollTop(),o=i.height(),s=0;window.navigator.userAgent}s=window.ActiveXObject||"ActiveXObject"in window?document.documentElement.scrollHeight:n.get(0).scrollHeight;var l=e("[bh-footer-role=footer]").outerHeight();if(t){var d=t.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),c=d.outerHeight(!0),h=t.outerHeight(),u=t.offset(),f=d.offset(),p=0,m=t.find('div[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]');m.length>0&&(p=m.outerHeight(!0)),a.dialogBodyHeight=c,a.dialogBodyOffset=f,a.dialogOffset=u,a.dialogHeight=h,a.dialogFooterHeight=p}return a.windowHeight=o,a.scrollTop=r,a.bodyHeight=s,a.footerHeight=l,a}function k(t){e("[bh-footer-role=footer]").css({top:0,"z-index":-1});var a=x(t),i=t.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]"),n=w(t,{footer:!0},"get");i.attr("bh-paper-pile-dialog-role-footer-fixed",n),C(a);var r=a.bodyHeight-a.footerHeight,o=a.dialogBodyHeight+a.dialogOffset.top;o<a.windowHeight&&(r>o?T(i,"low"):T(i))}function C(t){var a=e("[bh-footer-role=footer]");if(!a.attr("bh-footer-role-normal-style")){var i=a.attr("style");i||(i=" "),a.attr("bh-footer-role-normal-style",i)}var n=t.bodyHeight;n=t.dialogBodyHeight+t.dialogBodyOffset.top>t.windowHeight?t.dialogOffset.top+t.dialogBodyHeight:t.windowHeight-t.footerHeight;var r=e("header[bh-header-role=bhHeader]").find("div.bh-headerBar-content").offset().left;a.css({top:n,left:r,width:"100%",position:"absolute","z-index":"9999"})}function D(e){var t=x(e),a=e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]");if(t.windowHeight+t.scrollTop+t.footerHeight>=t.bodyHeight)T(a,"low");else{var i=a.attr("bh-paper-pile-dialog-role-footer-fixed");a.attr("style",i)}}function T(t,a){if(0!==t.contents().length){var i=e("[bh-footer-role=footer]").outerHeight(),n=t.closest('div[bh-paper-pile-dialog-role="bhPaperPileDialog"]'),r=n.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),o=n.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"),s=t.outerHeight(),l=s+i;"low"===a&&(l=s);var d=0,c="";r.children().each(function(){var t=e(this);if("nav"===t[0].localName&&(c="navLeft"),"navLeft"===c){var a=0;t.children().each(function(){a+=e(this).outerHeight()}),a>d&&(d=a)}else{var i=t.outerHeight();d+=i}});var h=parseInt(r.css("min-height"),10);if(h=h?h:0,h>d+s){t.removeAttr("style");var u=o.length>0?o.outerHeight():0;d+=u,d+=24,t.css({top:d+"px",bottom:"auto"}).addClass("bh-paper-pile-dialog-footer-relative")}else t.css("absolute"!==t.css("position")?{left:0,bottom:l+"px",position:"relative"}:{top:"auto",bottom:"0"});t.show()}}function _(t,a){t.on("click","i[bh-paper-pile-dialog-role=bhPaperPileDialogCloseIcon]",function(){var t=e(this).closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]").attr("bh-paper-pile-dialog-role-guid");a.guid=t,d(a)}),a.hideCloseIcon?a.titleContainer.css({cursor:"default"}):a.titleContainer.on("click",function(){var t=e(this).attr("bh-paper-pile-dialog-role-title-guid");a.guid=t,d(a)}),a.footer&&e(window).scroll(function(e){D(t)})}function S(t){var a=P(t);a&&setTimeout(function(){var t=e("div[bh-paper-pile-dialog-role-guid="+a+"]");if(t.find('[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]').html()){var i=x(t),n=i.dialogBodyHeight+i.dialogOffset.top;n<i.windowHeight?k(t):w(t,{footer:!0})}},50)}function I(){return B()+B()+"-"+B()+"-"+B()+"-"+B()+"-"+B()+B()+B()}function B(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function M(t){var a=P(t);if(a){var i=e("div[bh-paper-pile-dialog-role-guid="+a+"]"),n=i.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]");s(n)}}function P(e){var t="";if(e.titleContainer)t=e.titleContainer.attr("bh-paper-pile-dialog-role-title-guid");else if(e.referenceContainer)t=e.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid");else if(e.guid)t=e.guid;else{var a=f();a.length>0&&(t=a.attr("bh-paper-pile-dialog-role-guid"))}return t}e.bhPaperPileDialog={show:function(a){var i={titleContainer:"",insertContainer:e("#levityPlaceholder"),referenceContainer:"",addDialogFlagClass:"",toHideContainer:"",hideCloseIcon:!1,title:"",content:"",footer:"",aside:"",close:null,autoDestroy:!0,closeBefore:null,open:null,openBefore:null,ready:null,render:null};a=e.extend({},i,a),t(a)},resetPageFooter:function(t){var a={titleContainer:"",referenceContainer:"",dialogContainer:"",guid:""};t=e.extend({},a,t),m(t)},resetMinHeight:function(t){var a={titleContainer:"",referenceContainer:"",guid:""};t=e.extend({},a,t),M(t)},resetDialogFooter:function(t){var a={titleContainer:"",referenceContainer:""};t=e.extend({},a,t),S(t)},hide:function(t){var a={titleContainer:"",referenceContainer:"",guid:"",isHideAll:!1,ignoreAllCallback:!1,ignoreCloseCallback:!1,ignoreCloseBeforeCallback:!1,destroy:!0};t=e.extend({},a,t),d(t)},destroy:function(t){var a={titleContainer:"",referenceContainer:"",guid:""};t=e.extend({},a,t),v(t)}}}(jQuery),function(e){function t(){var t=a(),n=e(t);o.dom.append(n),o.options.readonly||i(n)}function a(){var e=parseInt(o.options.score,10),t="";o.options.size&&(t="font-size: "+o.options.size+"px");for(var a='<i class="iconfont icon-star" style="'+t+'"></i><i class="iconfont icon-staroutline" style="'+t+'"></i>',i="",n=0;5>n;n++)i+=e>=n+1?'<div class="bh-star-item bh-active">'+a+"</div>":'<div class="bh-star-item">'+a+"</div>";i='<div class="bh-star-list '+o.options.starClass+'">'+i+"</div>";var r="";return o.options.isShowNum&&(r='<div class="bh-star-num '+o.options.textClass+'"><span bh-star-role="number">'+e+"</span><span>"+o.options.text+"</span></div>"),'<div class="bh-star" bh-star-role="bhStar">'+i+r+"</div>"}function i(t){t.on("click",".bh-star-item",function(){var a=e(this).index()+1;o.options.score=a,n(t,a)}),t.on("mouseover",".bh-star-item",function(){var a=e(this).index()+1;n(t,a)}),t.on("mouseout",".bh-star-list",function(){var e=parseInt(o.options.score,10);n(t,e)})}function n(t,a){t.find("div.bh-star-item").each(function(t){a>t?e(this).addClass("bh-active"):e(this).removeClass("bh-active")}),o.options.isShowNum&&t.find('span[bh-star-role="number"]').html(a)}var r,o={options:null,dom:null};r=function(){function a(a,i){this.settings=e.extend({},e.fn.bhStar.defaults,i),o.options=this.settings,this.$element=e(a),o.dom=this.$element,t()}return a.prototype.getScore=function(){return o.options.score},a}(),e.fn.bhStar=function(t,a){var i;return i=this.data("bhStar"),i?t===!0?i:"string"===e.type(t)?i[t](a):this:this.each(function(){return e(this).data("bhStar",new r(this,t))})},e.fn.bhStar.defaults={score:0,size:0,isShowNum:!0,text:"分",textClass:"",starClass:"",readonly:!1}}(jQuery),function(e){function t(t,n){var r=n.html(),o=i(t);n.html(o);var s=e(".bh-collapsible-panel-content",n);s.append(r),n.show(),s.data("height",s.outerHeight()),s.css("height",0).hide(),a(n,t)}function a(t,a){t.on("click",".bh-collapsible-panel",function(t){t=t||window.event;var i=t.target||t.srcElement;if("switch"==e(i).attr("bh-collapsible-panel-flag"))"expand"==e(i).attr("bh-collapsible-panel-role")?r(e(i),a):n(e(i),a);else if(e(i).hasClass("bh-collapsible-panel")){var o=e(this).find('[bh-collapsible-panel-flag="switch"]');"expand"==o.attr("bh-collapsible-panel-role")&&r(o,a)}else if(0==e(i).closest(".bh-collapsible-panel-toolbar").length){var s=e(i).closest(".bh-collapsible-panel"),o=s.find('[bh-collapsible-panel-flag="switch"]');"expand"==o.attr("bh-collapsible-panel-role")&&r(o,a)}})}function i(e){var t="bh-collapsible-panel";e.hasBorder&&(t+=" has-border");var a='<div class="'+t+'"><h3 class="bh-collapsible-panel-title">'+e.title+"</h3>"+e.tag+'<div class="bh-text-caption bh-caption-default">'+e.caption+'</div><div class="bh-collapsible-panel-toolbar">'+e.toolbar+'<a href="javascript:void(0);" class="bh-btn-link" bh-collapsible-panel-flag="switch" bh-collapsible-panel-role="expand">展开</a></div><div class="bh-collapsible-panel-content bh-collapsible-panel-animate"></div></div>';return a}function n(t,a){a&&a.beforeCollapse&&a.beforeCollapse(t);var i=e(t).closest(".bh-collapsible-panel").find(".bh-collapsible-panel-content");i.css({height:0});var n=i.parent();setTimeout(function(){i.hide(),n.removeClass("bh-card bh-card-lv2")},o());var r=n.find("[bh-collapsible-panel-flag='switch']");r.text("展开"),r.attr("bh-collapsible-panel-role","expand"),a&&a.afterCollapse&&setTimeout(function(){a.afterCollapse(t)},o())}function r(t,a){a&&a.beforeExpand&&a.beforeExpand(t);var i=e(t).closest(".bh-collapsible-panel").find(".bh-collapsible-panel-content"),n=i.parent();n.addClass("bh-card bh-card-lv2");var r=i.data("height");i.show(),setTimeout(function(){i.css({height:r})},1),e(t).text("收起"),e(t).attr("bh-collapsible-panel-role","collapse"),a&&a.afterExpand&&setTimeout(function(){a.afterExpand(t)},o())}function o(){return 450}var s;s=function(){function a(a,i){this.settings=e.extend({},e.fn.bhCollapsiblePanel.defaults,i),this.$element=e(a),t(this.settings,this.$element)}return a.prototype.expandPanel=function(){var e=this.$element.find('[bh-collapsible-panel-flag="switch"]');r(e,this.settings)},a.prototype.collapsePanel=function(){var e=this.$element.find('[bh-collapsible-panel-flag="switch"]');n(e,this.settings)},a}(),e.fn.bhCollapsiblePanel=function(t,a){var i;return(i=this.data("bhCollapsiblePanel"))?t===!0?i:("string"===e.type(t)&&i[t](a),this):this.each(function(){return e(this).data("bhCollapsiblePanel",new s(this,t))})},e.fn.bhCollapsiblePanel.defaults={title:"",tag:"",caption:"",toolbar:"",hasBorder:!0,beforeExpand:null,afterExpand:null,beforeCollapse:null,
afterCollapse:null}}(jQuery),function(e){function t(){return 450}function a(a){if(a.insertContainer&&0===a.insertContainer.length)return void("undefined"!=typeof window.console&&window.console.error("insertContainer 要插入的容器不存在"));var o=e("div[bh-property-dialog-role=bhPropertyDialog]");if(a=f(a),a=i(a),0===o.length){var s=r(),l="";a.footer&&(l="default"===a.footer?n():a.footer),s=s.replace("@title",a.title).replace("@content",a.content).replace("@footer",a.footer),o=e(s),l||o.find("[bh-property-dialog-role=footer]").hide(),a.insertContainer.append(o),d(),h(o,a),setTimeout(function(){if("undefined"!=typeof a.ready&&a.ready instanceof Function){var e=o.find("[bh-property-dialog-role=header]").children(),t=o.find("[bh-property-dialog-role=body]").children(),i=o.find("[bh-property-dialog-role=footer]").children();a.ready(e,t,i)}BH_UTILS&&BH_UTILS.wavesInit(),o.find("[bh-property-dialog-role=body]").niceScroll({zindex:99999,horizrailenabled:!1})},t())}else setTimeout(function(){"undefined"!=typeof a.open&&a.open instanceof Function&&a.open()},t());a.hideCover||o.find(".bh-property-dialog-cover").show().removeClass("bh-property-dialog-cover-fadeOut").addClass("bh-property-dialog-cover-fadeIn"),p(o,a),o.show(),o.find("div.bh-property-dialog-container").removeClass("bh-outRight").addClass("bh-intoRight"),setTimeout(function(){e("body").addClass("sc-overflow-hide").getNiceScroll().remove()},t()+50)}function i(t){var a=null;if(t.content){var i=e(t.content)[0];i&&"section"!==i.localName&&(a=e("<section>"+t.content+"</section>"))}else{var r=t.insertContainer;r&&r[0]&&"aside"===r[0].localName&&(a=e(t.selector?"<div>"+r.find(t.selector).html()+"</div>":"<div>"+r.find("script").html()+"</div>"))}if(t.title){var o=e("<h3>"+t.title+"</h3>"),s=o.children();0===s.length||s.length>1?t.title=o[0].outerHTML:1===s.length&&"h3"!==s[0].localName&&(t.title=o[0].outerHTML)}else{var l=a.children("h3");l.length>0&&(t.title=l[0].outerHTML)}var d=a.children("section");if(d.length>0&&(t.content=d[0].outerHTML),t.footer)"default"===t.footer&&(t.footer=n());else{var c=a.children("footer");c.length>0&&(t.footer=c.children().length>0?c[0].outerHTML:n())}return t}function n(){var e='<footer><a class="bh-btn bh-btn-primary bh-btn-large" bh-property-dialog-role="okBtn">确定</a><a class="bh-btn bh-btn-default bh-btn-large" bh-property-dialog-role="cancelBtn">取消</a></footer>';return e}function r(){var e='<div class="bh-property-dialog" bh-property-dialog-role="bhPropertyDialog"><div class="bh-property-dialog-container bh-animated bh-outRight bh-card bh-card-lv2"><i class="iconfont icon-close bh-pull-right bh-cursor-point" bh-property-dialog-role="closeIcon"></i><div class="bh-mb-16" bh-property-dialog-role="header">@title</div><div bh-property-dialog-role="body">@content</div><div class="bh-property-dialog-footer bh-animated bh-outDown" bh-property-dialog-role="footer">@footer</div></div><div class="bh-property-dialog-cover bh-animated bh-property-dialog-cover-fadeIn"></div></div>';return e}function o(a){if("undefined"!=typeof a.close&&a.close instanceof Function){var i=a.close();if("boolean"==typeof i&&!i)return}var n=e("div[bh-property-dialog-role=bhPropertyDialog]");n.length>0&&(n.find("div.bh-property-dialog-container").removeClass("bh-intoRight").addClass("bh-outRight"),n.find("div.bh-property-dialog-cover").removeClass("bh-property-dialog-cover-fadeIn").addClass("bh-property-dialog-cover-fadeOut"),setTimeout(function(){n.hide(),n.find("div.bh-property-dialog-footer").hide().removeClass("bh-intoUp").addClass("bh-outDown"),(a.destroy||a.autoDestroy)&&n.remove(),setTimeout(function(){e("body").removeClass("sc-overflow-hide").niceScroll({zindex:99999,horizrailenabled:!1})},50)},t()))}function s(){e("div[bh-property-dialog-role=bhPropertyDialog]").find("div.bh-property-dialog-footer").removeClass("bh-intoUp").addClass("bh-outDown"),d()}function l(){var t=e("div[bh-property-dialog-role=bhPropertyDialog]").find("div.bh-property-dialog-footer");t.removeClass("bh-outDown").addClass("bh-intoUp").show(),d(!0)}function d(a){var i="100% - 56px";a&&(i="100% - 56px - 52px"),e("div[bh-property-dialog-role=bhPropertyDialog]").find("[bh-property-dialog-role=body]").attr("style","height: -moz-calc("+i+");height: -webkit-calc("+i+");height: calc("+i+");overflow: hidden;"),setTimeout(function(){e("body").addClass("sc-overflow-hide").getNiceScroll().remove()},t()+50)}function c(){var t=e("div[bh-property-dialog-role=bhPropertyDialog]");t.length>0&&(u(t),t.remove())}function h(t,a){t.on("click","i[bh-property-dialog-role=closeIcon]",function(){a.close=a.hide,e.bhPropertyDialog.hide(a)}),t.on("click","[bh-property-dialog-role=okBtn]",function(){a.close=a.ok,e.bhPropertyDialog.hide(a)}),t.on("click","[bh-property-dialog-role=cancelBtn]",function(){a.close=a.cancel,e.bhPropertyDialog.hide(a)})}function u(e){e.off("click")}function f(t){var a=e("body");if(!t.insertContainer){var i=a.find("[bh-paper-pile-dialog-role=bhPaperPileDialog]");if(i.length>0){var n="",r=0,o=a.find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");o.length>0&&o.each(function(){var t=e(this),a=parseInt(t.attr("bh-paper-pile-dialog-role-index"),10);a>r&&(n=t)}),n.length>0&&(t.insertContainer=n.children().children("aside"))}else if(a.children("main").length>0){var s=a.children("main").children("article");if(s.length>0){var l=s.children("aside");l.length>0?t.insertContainer=l:(t.insertContainer=e("<aside></aside>"),s.append(t.insertContainer))}}}return t}function p(t,a){var i=e(window),n=i.height(),r=i.scrollTop(),o=m(a.insertContainer),s=e('header[bh-header-role="bhHeader"]'),l=s.outerHeight(),d=e('header[bh-header-role="bhHeaderMini"]'),c=d.outerHeight(),h=s.hasClass("bh-normalHeader-hide")?!0:!1,u=h?c:l,f=e("body").get(0).scrollHeight,p=e('[bh-footer-role="footer"]'),b=p.offset().top,v=p.outerHeight(),g=0,y=4,w=l-c;r>o.top&&(g=r-o.top+u);var x=o.height;h?x=n+r+v>=f?f-r-v-y-w:n-c:b>n&&(x=n-o.top),t.css({top:g,height:x})}function m(e){var t=e.outerHeight();return t?{top:e.offset().top,height:t}:m(e.parent())}e.bhPropertyDialog={show:function(t){var i={insertContainer:"",title:"",content:"",footer:"",selector:"",hideCover:!1,autoDestroy:!0,ok:null,cancel:null,open:null,hide:null,ready:null},n=e.extend({},i,t);a(n)},hide:function(t){var a={close:null,destroy:!0},i=e.extend({},a,t);o(i)},footerHide:function(){s()},footerShow:function(){l()},destroy:function(){c()}}}(jQuery);var JPlaceHolder={_check:function(){return"placeholder"in document.createElement("input")},init:function(){this._check()||this.fix()},fix:function(e){e=e||document,jQuery("input[placeholder]",$(e)).each(function(e,t){var a=$(this),i=a.attr("placeholder");a.wrap($("<div></div>").css({position:"relative",zoom:"1",border:"none",background:"none",padding:"none",margin:"none"}));var n=a.position(),r=a.height(),o=r,s=parseInt(a.css("padding-left")),l=parseInt(a.css("padding-top")),d=parseInt(a.css("margin-left")),c=parseInt(a.css("margin-top"));"TEXTAREA"===a[0].tagName&&(o=14);var h=a.css("font-size")?a.css("font-size"):"14px",u=a.css("line-height")?a.css("line-height"):o+"px",f=$("<span></span>").text(i).css({"font-size":h,zIndex:"2",position:"absolute",left:n.left+d+"px",top:n.top+c+l+"px",height:r+"px",lineHeight:u,paddingLeft:s+"px",color:"#aaa",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","max-width":"100%"}).appendTo(a.parent());a.focusin(function(e){f.hide()}).focusout(function(e){a.val()?f.hide():f.show()}).keyup(function(e){a.val()&&f.hide()}),f.click(function(e){f.hide(),a.focus()})})}};!function(e){"use strict";function t(t){var n=new Date,o=a(t,n),s=e(o);t.rangeBoxDom=s,t.$rootElement.html(s),r(s,t);var c=i(t,n),h=e(c);t.popupBoxDom=h;var u=e("body");u.append(h),d(t,n),l(t),u.on("click",function(a){var i=e(a.target||a.srcElement);if(i.closest('div[bh-time-picker-role="rangeBox"]').length>0||i.closest('div[bh-time-picker-role="selectBoxCont"]').length>0||i.closest("div.jqx-calendar").length>0||i.closest("div.jqx-listbox").length>0)return void u.removeData("bhTimePick");var n=t.rangeBoxDom;if(n.hasClass("bh-active")){if(u.data("bhTimePick"))return void u.removeData("bhTimePick");n.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click()}})}function a(e,t){var a,i;a=e.settings.time.start&&"today"!==e.settings.time.start?M(e.settings.time.start):t,i=e.settings.time.end&&"today"!==e.settings.time.end?M(e.settings.time.end):t;var n=T(a,e),r=T(i,e),o=n+"-"+r,s="";e.settings.width&&(s="width: "+parseInt(e.settings.width,10)+"px;");var l="";e.settings.isDisable&&(l='<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>');var d='<div class="bh-timePicker-rangeBox bh-clearfix" bh-time-picker-role="rangeBox" style="'+s+'"><div class="bh-timePicker-rangeBox-selectIcon bh-left" bh-time-picker-role="rangeBoxPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="rangeBoxSelectTime">'+o+'</div><div class="bh-timePicker-rangeBox-selectIcon bh-right" bh-time-picker-role="rangeBoxNext">&gt;</div>'+l+'</div><div class="bh-clearfix"></div>';return d}function i(e,t){var a=n(e,t),i=0,r=t.getFullYear(),o=e.settings.range.max&&"today"!==e.settings.range.max?M(e.settings.range.max).getFullYear():r,s=e.settings.range.min&&"today"!==e.settings.range.min?M(e.settings.range.min).getFullYear():r,l=e.settings.range.max&&r>=o,d=e.settings.range.min&&s>=r;i=o,i>r&&(i=r);var c='<div class="bh-timePick-selectBoxCont" bh-time-picker-role="selectBoxCont"><div class="bh-timePick-selectBox bh-card bh-card-lv2" bh-time-picker-role="selectBox"><ul class="bh-timePick-tab" bh-time-picker-role="selectTab"><li class="bh-timePick-tabItem bh-active">自定义选择</li><li class="bh-timePick-tabItem">按月选择</li></ul><div class="bh-timePick-tabContent" bh-time-picker-role="selectTabContent"><div class="bh-timePick-custom bh-active"><div class="bh-timePick-customTime bh-clearfix" bh-time-picker-role="selectCustom"><div class="bh-timePick-selectType" bh-time-picker-role="selectType"></div><div class="bh-timePick-selectStart" bh-time-picker-role="selectStart"></div><div class="bh-timePick-selectConnect"></div><div class="bh-timePick-selectEnd" bh-time-picker-role="selectEnd"></div></div><a class="bh-btn bh-btn-primary bh-btn-block" bh-time-picker-role="selectOk" href="javascript:void(0);">确定</a></div><div class="bh-timePick-selectMonthCont" bh-time-picker-role="selectMonthBlock"><div class="bh-timePick-selectMonth bh-timePicker-rangeBox bh-clearfix"><div class="bh-timePicker-rangeBox-selectIcon bh-left '+(d?"bh-disabled":"")+'" bh-time-picker-role="selectMonthPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="selectMonthYear">'+i+'年</div><div class="bh-timePicker-rangeBox-selectIcon bh-right '+(l?"bh-disabled":"")+'" bh-time-picker-role="selectMonthNext">&gt;</div></div><div class="bh-timePicker-selectMonthList bh-clearfix" bh-time-picker-role="selectMonthList">'+a+"</div></div></div></div></div>";return c}function n(e,t,a){var i="",n=t.getFullYear(),r=0,o=0,s=0,l=0;if(e.settings.range.max)if("today"!==e.settings.range.max){var d=M(e.settings.range.max);r=d.getFullYear(),o=d.getMonth()}else{var c=new Date;r=c.getFullYear(),o=c.getMonth()}if(e.settings.range.min)if("today"!==e.settings.range.min){var h=M(e.settings.range.min);s=h.getFullYear(),l=h.getMonth()}else{var c=new Date;s=c.getFullYear(),l=c.getMonth()}for(var u=0;12>u;u++){var f=u+1,p="";r&&s?s!==r?n>s&&r>n?p="bh-pre":s===n?u>=l&&(p="bh-pre"):n===r&&o>=u&&(p="bh-pre"):u>=l&&o>=u&&(p="bh-pre"):r?r>n?p="bh-pre":o>=u&&(p="bh-pre"):s?n>s?p="bh-pre":u>=l&&(p="bh-pre"):p="bh-pre",i+='<div class="bh-timePick-monthItem '+p+'" data-month="'+f+'" bh-time-picker-role="selectMonthItem">'+f+"月</div>"}return i}function r(t,a){t.on("click",function(i){a.$rootElement.removeData("selectType");var n=e(i.target||i.srcElement),r=n.attr("bh-time-picker-role");switch(r){case"rangeBoxPre":B("pre",a);break;case"rangeBoxNext":B("next",a);break;case"rangeBoxSelectTime":o(a,t)}})}function o(t,a){var i=t.popupBoxDom,n=i.children('div[bh-time-picker-role="selectBox"]');if(a.hasClass("bh-active"))s(t);else{var r=BH_UTILS.getElementPosition(a),o=9999,l={top:r.bottom,left:r.left+20,display:"block"},d=0;e("body").find(".jqx-window").each(function(){var t=parseInt(e(this).css("z-index"),10);t>d&&(d=t)}),d>o&&(l["z-index"]=d),i.css(l),a.addClass("bh-active"),setTimeout(function(){n.addClass("bh-active")},10)}}function s(e){var t=e.popupBoxDom,a=t.children('div[bh-time-picker-role="selectBox"]');a.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(),a.removeClass("bh-active"),setTimeout(function(){t.hide()},450),e.rangeBoxDom.removeClass("bh-active")}function l(t){t.popupBoxDom.on("click",".bh-timePick-tabItem",function(){var a=e(this);if(!a.hasClass("bh-active")){var i=a.index(),n=a.closest("ul");n.find("li").removeClass("bh-active"),a.addClass("bh-active");var r=t.popupBoxDom.children('div[bh-time-picker-role="selectBox"]').children('div[bh-time-picker-role="selectTabContent"]').children();r.removeClass("bh-active"),r.eq(i).addClass("bh-active")}});var a=t.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),i=a.children('div[bh-time-picker-role="selectStart"]'),n=a.children('div[bh-time-picker-role="selectEnd"]'),r=a.find('div[bh-time-picker-role="selectType"]');i.on("change",function(e){S(t,a),I(a,"start",t)}),n.on("change",function(e){S(t,a),I(a,"end",t)}),i.on("mouseover",function(e){t.$rootElement.removeData("selectType")}),n.on("mouseover",function(e){t.$rootElement.removeData("selectType")}),r.on("change",function(e){var a=e.args;if(a){var i=a.item.value;t.$rootElement.data("selectType","fixed"),u({value:i},t)}}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectOk"]',function(){var e=i.jqxDateTimeInput("getDate"),a=n.jqxDateTimeInput("getDate"),r=t.getValue(),o=r.startTime,l=r.endTime;D(t,e,a),s(t),t.$rootElement.trigger("selectedTime",[o,l]),"undefined"!=typeof t.settings.selectedTime&&t.settings.selectedTime instanceof Function&&t.settings.selectedTime(o,l)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthPre"]',function(){e(this).hasClass("bh-disabled")||k(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'),"pre",t)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthNext"]',function(){e(this).hasClass("bh-disabled")||k(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'),"next",t)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthItem"]',function(){C(e(this),t)})}function d(e,t){var a=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),i=a.find('div[bh-time-picker-role="selectType"]'),n=a.find('div[bh-time-picker-role="selectStart"]'),r=a.find('div[bh-time-picker-role="selectEnd"]');e.startTimeDom=n,e.endTimeDom=r,c(i,e),h(n,t,"start",e),h(r,t,"end",e),u({value:e.settings.defaultType},e)}function c(t,a){var i=[{name:"自定义",value:"custom"},{name:"全部",value:"all"},{name:"本周",value:"currentWeek"},{name:"上周",value:"lastWeek"},{name:"本月",value:"currentMonth"},{name:"上月",value:"lastMonth"},{name:"本季度",value:"currentQuarter"},{name:"上季度",value:"lastQuarter"},{name:"今年",value:"currentYear"},{name:"去年",value:"lastYear"},{name:"近7天",value:"last7Day"},{name:"近30天",value:"last30Day"}],n=0;e.grep(i,function(e,t){return a.settings.defaultType===e.value?(n=t,!0):void 0}),t.jqxDropDownList({width:"80px",source:i,selectedIndex:n,autoDropDownHeight:!0,valueMember:"value",displayMember:"name"})}function h(e,t,a,i){var n;n="start"===a?i.settings.time.start&&"today"!==i.settings.time.start?M(i.settings.time.start):t:i.settings.time.end&&"today"!==i.settings.time.end?M(i.settings.time.end):t,e.jqxDateTimeInput({value:n,width:"124px",culture:"zh-CN",formatString:i.settings.format})}function u(e,t){var a=864e5,i=new Date,n=p(i),r=0,o=0,s=e.value;switch(s){case"custom":break;case"all":r=null,o=null;break;case"currentWeek":r=new Date(n.time-(n.week-1)*a),o=i;break;case"lastWeek":var l=n.time-(n.week-1)*a;r=new Date(l-7*a),o=new Date(l-1*a);break;case"currentMonth":r=new Date(n.time-(n.day-1)*a),o=i;break;case"lastMonth":var d=b(n);r=d.startTime,o=d.endTime;break;case"currentQuarter":var c=y(n);r=c.startTime,o=i;break;case"lastQuarter":var h=w(n);r=h.startTime,o=h.endTime;break;case"currentYear":r=M(n.year+"/1/1"),o=i;break;case"lastYear":r=M(parseInt(n.year-1)+"/1/1"),o=M(parseInt(n.year-1)+"/12/31");break;case"last7Day":r=new Date(n.time-7*a),o=i;break;case"last30Day":r=new Date(n.time-30*a),o=i}f(t,r,o)}function f(e,t,a,i){var n=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),r=n.children('div[bh-time-picker-role="selectStart"]'),o=n.children('div[bh-time-picker-role="selectEnd"]'),s=o.jqxDateTimeInput("getDate");if(!(t&&a||(r.jqxDateTimeInput(null===t?{disabled:!0}:{disabled:!1}),o.jqxDateTimeInput(null===a?{disabled:!0}:{disabled:!1}),t||a))){var l=e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),d=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),c=d.jqxDropDownList("getSelectedItem");if("all"===c.value)return void l.html(c.label)}r.jqxDateTimeInput("disabled")&&r.jqxDateTimeInput({disabled:!1}),o.jqxDateTimeInput("disabled")&&o.jqxDateTimeInput({disabled:!1}),t>s?(o.jqxDateTimeInput("setDate",a),r.jqxDateTimeInput("setDate",t)):(r.jqxDateTimeInput("setDate",t),o.jqxDateTimeInput("setDate",a));var h=r.jqxDateTimeInput("getDate"),u=o.jqxDateTimeInput("getDate"),f=e.getValue(),p=f.startTime,m=f.endTime;D(e,h,u),i&&(e.$rootElement.trigger("selectedTime",[p,m]),"undefined"!=typeof e.settings.selectedTime&&e.settings.selectedTime instanceof Function&&e.settings.selectedTime(p,m))}function p(e){var t=new Date(e),a={};return a.year=t.getFullYear(),a.month=t.getMonth(),a.day=t.getDate(),a.hour=t.getHours(),a.minute=t.getMinutes(),a.second=t.getSeconds(),a.week=t.getDay(),a.time=t.getTime(),a}function m(e){return 0==e%4&&(e%100!=0||e%400==0)}function b(e){var t=e.month,a=e.year,i=t-1;0===t&&(a-=1,i=11);var n=g(a,i+1),r=new Date(v({year:a,month:i+1,day:1})),o=new Date(v({year:a,month:i+1,day:n}));return{startTime:r,endTime:o}}function v(e){return e.year+"/"+e.month+"/"+e.day}function g(e,t){var a=0;return a=1===t||3===t||5===t||7===t||8===t||10===t||12===t?31:4===t||6===t||9===t||11===t?30:m(e)?29:28}function y(e){var t=x(e.month),a=new Date(v({year:e.year,month:t.startMonth+1,day:1}));return{startTime:a}}function w(e){var t=x(e.month).startMonth,a=t-1,i=e.year;0===t&&(a=11,i-=1);var n=x(a),r=g(i,n.endMonth+1),o=new Date(v({year:i,month:n.startMonth+1,day:1})),s=new Date(v({year:i,month:n.endMonth+1,day:r}));return{startTime:o,endTime:s}}function x(e){var t=0,a=2;return e>=9?(t=9,a=11):e>=6?(t=6,a=8):e>=3&&(t=3,a=5),{startMonth:t,endMonth:a}}function k(e,t,a){var i=e.find('[bh-time-picker-role="selectMonthPre"]').removeClass("bh-disabled"),r=e.find('[bh-time-picker-role="selectMonthNext"]').removeClass("bh-disabled"),o=e.find('div[bh-time-picker-role="selectMonthYear"]'),s=parseInt(o.text(),10),l=0;a.settings.range.max&&(l="today"===a.settings.range.max?(new Date).getFullYear():new Date(a.settings.range.max).getFullYear());var d=0;a.settings.range.min&&(d="today"===a.settings.range.min?(new Date).getFullYear():new Date(a.settings.range.min).getFullYear()),"pre"===t?s--:s++,o.html(s+"年");var c=n(a,M(s+"/12/1"),t);e.find('div[bh-time-picker-role="selectMonthList"]').html(c),"pre"===t?s===d&&i.addClass("bh-disabled"):s===l&&r.addClass("bh-disabled")}function C(e,t){if(e.hasClass("bh-pre")){var a=e.closest('div[bh-time-picker-role="selectMonthBlock"]'),i=parseInt(a.find('div[bh-time-picker-role="selectMonthYear"]').text(),10),n=parseInt(e.attr("data-month"),10),r=g(i,n);t.$rootElement.removeData("selectType"),t.rangeBoxDom.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(),f(t,new Date(i+"/"+n+"/1"),new Date(i+"/"+n+"/"+r),!0)}}function D(e,t,a){var i=e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),n=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),r=n.jqxDropDownList("getSelectedItem");if("all"===r.value)return void i.html(r.label);var o=T(t,e),s=T(a,e);i.html(o+"-"+s)}function T(e,t){return/dd/i.test(t.format)?e.getFullYear()+"年"+_(e.getMonth()+1)+"月"+e.getDate()+"日":e.getFullYear()+"年"+_(e.getMonth()+1)+"月"}function _(e){return 10>e?"0"+e:e}function S(e,t){var a=e.$rootElement.data("selectType");("undefined"==typeof a||"fixed"!==a)&&t.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectIndex",0)}function I(t,a,i){e("body").data("bhTimePick","selectTime");var n=t.children('div[bh-time-picker-role="selectStart"]'),r=t.children('div[bh-time-picker-role="selectEnd"]'),o=n.jqxDateTimeInput("getDate"),s=r.jqxDateTimeInput("getDate");if(o>s)if("end"===a){var l=p(o);r.jqxDateTimeInput("setDate",new Date(l.year,l.month,l.day))}else{var d=p(s);n.jqxDateTimeInput("setDate",new Date(d.year,d.month,d.day))}else if("start"===a){if(i.settings.range.min){var c;c="today"!==i.settings.range.min?new Date(i.settings.range.min):new Date,c>o&&n.jqxDateTimeInput("setDate",c)}}else if(i.settings.range.max){var h;h="today"!==i.settings.range.max?new Date(i.settings.range.max):new Date,s>h&&r.jqxDateTimeInput("setDate",h)}}function B(e,t){var a=t.popupBoxDom.find('div[bh-time-picker-role="selectBox"]'),i=t.$rootElement.find('div[bh-time-picker-role="rangeBox"]');i.hasClass("bh-active")&&i.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click();var n;n="pre"===e?a.find('div[bh-time-picker-role="selectStart"]').jqxDateTimeInput("getDate"):a.find('div[bh-time-picker-role="selectEnd"]').jqxDateTimeInput("getDate");var r,o=p(n),s=864e5;if("pre"===e){if(0===o.month?(o.month=11,o.year=o.year-1):o.month=o.month-1,t.settings.range.min){var l="today"===t.settings.range.min?new Date:M(t.settings.range.min);r=p(l),l>new Date(n.getTime()-30*s)&&(o=r)}}else if(11===o.month?(o.month=0,o.year=o.year+1):o.month=o.month+1,t.settings.range.max){var d="today"===t.settings.range.max?new Date:M(t.settings.range.max);r=p(d),d<new Date(n.getTime()+30*s)&&(o=r)}var c={},h={};r&&o.year===r.year?o.month!==r.month?(c={year:o.year,month:o.month,day:1},h={year:o.year,month:o.month,day:g(o.year,o.month+1)}):"pre"===e?(c={year:o.year,month:o.month,day:r.day},h={year:o.year,month:o.month,day:g(o.year,o.month+1)}):(c={year:o.year,month:o.month,day:1},h={year:o.year,month:o.month,day:r.day}):(c={year:o.year,month:o.month,day:1},h={year:o.year,month:o.month,day:g(o.year,o.month+1)});var u=o.month+1<10?"0"+parseInt(o.month+1,10):o.month+1,m=c.year+"/"+u+"/"+_(c.day),b=h.year+"/"+u+"/"+h.day;f(t,M(m),M(b),!0)}function M(e){var t=Date.parse(e),a=new Date(t);if(isNaN(a)){var i=e.split("-");a=new Date(i[0],--i[1],i[2])}return a}var P;e.fn.bhTimePicker=function(t,a){var i;return i=this.data("bhTimePicker"),i?t===!0?i:"string"===e.type(t)?i[t](a):this:this.each(function(){return e(this).data("bhTimePicker",new P(this,t))})},e.fn.bhTimePicker.defaults={defaultType:"",width:"",format:"yyyy-MM-dd",range:{max:"",min:""},time:{start:"",end:""},isDisable:!1,selectedTime:null,ready:null},P=function(){function a(a,i){this.settings=e.extend({},e.fn.bhTimePicker.defaults,i),this.settings.format=this.settings.format.replace(/mm/g,"MM"),this.$rootElement=e(a),t(this)}return a.prototype.getValue=function(){var e=null,t=null;return this.startTimeDom.jqxDateTimeInput("disabled")||(e=this.startTimeDom.jqxDateTimeInput("getText")),this.endTimeDom.jqxDateTimeInput("disabled")||(t=this.endTimeDom.jqxDateTimeInput("getText")),{startTime:e,endTime:t}},a.prototype.setValue=function(e){var t=e.startTime?M(e.startTime):this.startTimeDom.jqxDateTimeInput("getDate"),a=e.endTime?M(e.endTime):this.endTimeDom.jqxDateTimeInput("getDate");f(this,t,a)},a.prototype.setDisable=function(){this.$rootElement.children('div[bh-time-picker-role="rangeBox"]').append('<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>')},a.prototype.setEnable=function(){this.$rootElement.find('div[bh-time-picker-role="disableBlock"]').remove()},a}()}(jQuery),function(e){function t(t,i){x.items=t.items,x.activeItemStepId=t.active,x.finishedItemStepIds=t.finished,x.wizardContainer=i,x.contentContainer=t.contentContainer,x.change=t.change,e(t.items).each(function(e,a){d(e,a,t.items.length)}),x.wizardElement=e(x.wizardContainer).children(".bh-wizard-item"),e(t.items).each(function(e,t){p(e)}),t.isAddClickEvent&&b(),a(),x.wizardElement.each(function(t,a){x.wizardElement&&x.wizardElement.length>0&&(e(a).hasClass("active")?e("#"+e(a).attr("stepid")).removeClass("bh-hide"):e("#"+e(a).attr("stepid")).addClass("bh-hide"))})}function a(){var t=x.wizardElement.length;if(t>0){var a=x.wizardContainer,i=a.width(),n=e(".bh-wizard-item:hidden",a).length,r=t-n,o=Math.floor(i/r);x.wizardElement.find(".title").width(o-40);var s=0;x.wizardElement.each(function(){e(this).is(":hidden")||(s+=e(this).outerWidth())});var l=i-s,d=o-40+l;x.wizardElement.find(".title").last().width(d)}}function i(e){x.activeItemStepId=e}function n(){var e=g(),t=r(e);null!=t&&l(t)}function r(e){var t=null,a=e-1;if(null!=x.items[a]){var i=x.items[a].stepId;t=x.wizardElement.parent().find("[stepid='"+i+"']").is(":hidden")?r(a):i}return t}function o(e){var t=null,a=e+1;if(null!=x.items[a]){var i=x.items[a].stepId;t=x.wizardElement.parent().find("[stepid='"+i+"']").is(":hidden")?o(a):i}return t}function s(){var e=g(),t=o(e);null!=t&&l(t)}function l(e){var t=x.activeItemStepId,a=g();i(e),p(a),x.contentContainer.find("#"+t).addClass("bh-hide");var n=g();p(n),x.contentContainer.find("#"+x.activeItemStepId).removeClass("bh-hide"),"undefined"!=typeof x.change&&x.change instanceof Function&&x.change({stepId:e})}function d(t,a,i){var n=e('<div class="bh-wizard-item" stepid="'+a.stepId+'"><div class="left-arrow"></div><div class="title bh-str-cut" title="'+a.title+'"><i></i>'+a.title+'</div><div class="right-arrow"></div></div>');0==t?e(n).addClass("bh-wizard-item-first"):t==i-1&&e(n).addClass("bh-wizard-item-last"),x.wizardContainer.append(n)}function c(e){for(var t=!1,a=0;a<x.finishedItemStepIds.length;a++)if(x.finishedItemStepIds[a]==e){t=!0;break}return t}function h(e){if(x.finishedItemStepIds){var t=x.finishedItemStepIds.length;t>0?x.finishedItemStepIds[t]=e:x.finishedItemStepIds[0]=e}}function u(e){var t=v(x.activeItemStepId);return t==e?!0:!1}function f(e){var t=x.finishedItemStepIds.length,a=!1;if(t>0)for(var i=0;t>i;i++)if(e==v(x.finishedItemStepIds[i])){a=!0;break}return a}function p(t){var a=x.wizardElement[t],i=e("i",e(a));i.removeClass(),f(t)?(e(a).addClass("finished"),i.addClass("iconfont icon-checkcircle")):e(a).removeClass("finished"),u(t)?(e(a).addClass("active"),i.addClass("iconfont icon-edit")):e(a).removeClass("active")}function m(e){return e==x.activeItemStepId?!0:!1}function b(){x.wizardElement.unbind("click").click(function(){var t=e(this),a=t.attr("stepid");m(a)||l(a)})}function v(e){for(var t=-1,a=0;a<x.items.length;a++)if(x.items[a].stepId==e){t=a;break}return t}function g(){for(var e=0,t=0;t<x.items.length;t++)if(x.items[t].stepId==x.activeItemStepId){e=t;break}return e}function y(t,i){if(null!=t&&void 0!=t){var n=x.items[0].stepId,r=x.items[x.items.length-1].stepId,o=x.wizardContainer.find(".bh-wizard-item[stepid="+t+"]");o.length>0&&i(o),x.wizardElement=e(x.wizardContainer).children(".bh-wizard-item"),t==n?x.wizardElement.eq(0).addClass("bh-wizard-item-first"):t==r&&x.wizardElement.last().addClass("bh-wizard-item-last"),a()}}e.fn.bhStepWizard=function(t,a){var i;if(i=this.data("bhStepWizard"),!i)return this.each(function(){return e(this).data("bhStepWizard",new w(this,t))});if(t===!0)return i;if("string"===e.type(t)){var n=i[t](a);return n}},e.fn.bhStepWizard.defaults={items:[],active:"",finished:[],isAddClickEvent:!0,contentContainer:e("body"),change:null};var w,x={};w=function(){function i(a,i){this.settings=e.extend({},e.fn.bhStepWizard.defaults,i),this.$element=e(a),t(this.settings,this.$element)}return i.prototype.resetFinishedItems=function(e){x.finishedItemStepIds=e;for(var t=0;t<x.finishedItemStepIds.length;t++){var a=x.finishedItemStepIds[t],i=v(a);p(i)}},i.prototype.activeNextItem=function(){s()},i.prototype.activePrevItem=function(){n()},i.prototype.changeToActive=function(e){l(e)},i.prototype.changeToFinished=function(e){if((void 0==e||null==e)&&(e=x.activeItemStepId),!c(e)){h(e);var t=v(e);p(t)}},i.prototype.resetWidth=function(){a()},i.prototype.isLastStep=function(){var e=x.items[x.items.length-1].stepId,t=!1;return t=x.activeItemStepId==e?!0:!1},i.prototype.getFinishedIndexs=function(){var e=[];if(x.finishedItemStepIds&&x.finishedItemStepIds.length>0)for(var t=0;t<x.finishedItemStepIds.length;t++)e.push(v(x.finishedItemStepIds[t]));return e},i.prototype.getStepIdByIndex=function(e){var t=-1;return x.items&&x.items.length>0&&x.items[e]&&(t=x.items[e].stepId),t},i.prototype.deleteItem=function(e){y(e,function(e){e.remove()})},i.prototype.showItem=function(e){y(e,function(e){e.show()})},i.prototype.hideItem=function(e){y(e,function(e){e.hide()})},i.prototype.getActiveItem=function(){return x.activeItemStepId},i}()}(jQuery),"undefined"==typeof BhUIManagers&&(BhUIManagers={}),function(e){e.fn.bhGetWizardManager=function(){return BhUIManagers[this[0].id+"_Wizard"]},e.bhDefaults=e.bhDefaults||{},e.bhDefaults.wizard={items:[],active:"",active2:null,finished:[],isAddClickEvent:!0,contentContainer:e("body"),change:null},e.bhWizard=e.bhWizard||{},e.fn.bhWizard=function(t){var a=e.extend({},e.bhDefaults.wizard,t||{});if(this.each(function(){e.bhWizard.bhAddWizard(this,a)}),0==this.length)return null;if(1==this.length)return e(this[0]).bhGetWizardManager();var i=[];return this.each(function(){i.push(e(this).bhGetWizardManager())}),i},e.bhWizard.bhAddWizard=function(t,a){if(!t.userWizard){var i={addItem:function(t,a,n){var r=e('<div class="bh-wizard-item" stepid="'+a.stepId+'"><div class="left-arrow"></div><div class="title bh-str-cut" title="'+a.title+'"><i></i>'+a.title+'</div><div class="right-arrow"></div></div>');0==t?e(r).addClass("bh-wizard-item-first"):t==n-1&&e(r).addClass("bh-wizard-item-last"),i.wizardContainer.append(r)},resetActiveItem:function(e){i.activeItemStepId=e},resetFinishedItems:function(e){i.finishedItemStepIds=e;for(var t=0;t<i.finishedItemStepIds.length;t++){var a=i.finishedItemStepIds[t],r=n.getIndexByStepId(a);n.refreshElementByIndex(r)}},activeNextItem:function(){var e=n.getActiveItemIndex(),t=e+1,a=i.items[t].stepId;i.changeToActive(a)},activePrevItem:function(){var e=n.getActiveItemIndex(),t=e-1,a=i.items[t].stepId;i.changeToActive(a)},changeToActive:function(e){var t=i.activeItemStepId,r=n.getActiveItemIndex();i.resetActiveItem(e),n.refreshElementByIndex(r),i.contentContainer.find("#"+t).addClass("bh-hide");var o=n.getActiveItemIndex();n.refreshElementByIndex(o),i.contentContainer.find("#"+i.activeItemStepId).removeClass("bh-hide"),a&&"undefined"!=typeof a.change&&a.change instanceof Function&&a.change({stepId:e})},changeToFinished:function(e){if(!n.isExistInFinisheds(e)){n.addToFinisheds(e);var t=n.getIndexByStepId(e);n.refreshElementByIndex(t)}}},n={isExistInFinisheds:function(e){for(var t=!1,a=0;a<i.finishedItemStepIds.length;a++)if(i.finishedItemStepIds[a]==e){t=!0;break}return t},addToFinisheds:function(e){if(i.finishedItemStepIds){var t=i.finishedItemStepIds.length;t>0?i.finishedItemStepIds[t]=e:i.finishedItemStepIds[0]=e}},init:function(){i.wizardElement.each(function(t,a){e(a).hasClass("active")?e("#"+e(a).attr("stepid")).removeClass("bh-hide"):e("#"+e(a).attr("stepid")).addClass("bh-hide")})},isActive:function(e){var t=n.getIndexByStepId(i.activeItemStepId);return t==e?!0:!1},isFinished:function(e){var t=i.finishedItemStepIds.length,a=!1;if(t>0)for(var r=0;t>r;r++)if(e==n.getIndexByStepId(i.finishedItemStepIds[r])){a=!0;break}return a},refreshElementByIndex:function(t){var a=i.wizardElement[t],r=e("i",e(a));r.removeClass(),n.isFinished(t)?(e(a).addClass("finished"),r.addClass("iconfont icon-checkcircle")):e(a).removeClass("finished"),n.isActive(t)?(e(a).addClass("active"),r.addClass("iconfont icon-edit")):e(a).removeClass("active");

},isActiveItem:function(e){return e==i.activeItemStepId?!0:!1},addClickEvent:function(){i.wizardElement.unbind("click").click(function(){var t=e(this),a=t.attr("stepid");n.isActiveItem(a)||i.changeToActive(a)})},getIndexByStepId:function(e){for(var t=0,a=0;a<i.items.length;a++)if(i.items[a].stepId==e){t=a;break}return t},getActiveItemIndex:function(){for(var e=0,t=0;t<i.items.length;t++)if(i.items[t].stepId==i.activeItemStepId){e=t;break}return e}};i.items=a.items,i.activeItemStepId=a.active||a.active2,i.finishedItemStepIds=a.finished,i.wizardContainer=e(t),i.contentContainer=a.contentContainer,i.wizardContainer.addClass("bh-wizard-container"),e(a.items).each(function(e,t){i.addItem(e,t,a.items.length)}),i.wizardElement=e(i.wizardContainer).children(".bh-wizard-item"),e(a.items).each(function(e,t){n.refreshElementByIndex(e)}),n.init(),a.isAddClickEvent&&n.addClickEvent(),a.active2&&i.changeToActive(a.active2);var r=i.wizardElement.length;if(r>0){var o=i.wizardContainer,s=o.width(),l=e(".bh-wizard-item:hidden",o).length,d=r-l,c=Math.floor(s/d);i.wizardElement.find(".title").width(c-40)}void 0==t.id&&(t.id="BhUI_"+(new Date).getTime()),BhUIManagers[t.id+"_Wizard"]=i,t.userWizard=!0}}}(jQuery),function(e){"use strict";e.bhTip=function(t){function a(t){t=c(t);var a=i(t),o=e(a);n(o);var d=+new Date,h=r(o,t.hideWaitTime);s(o,h,d,t.hideWaitTime),l(o,t)}function i(e){var t="",a=e.options,i=a.length;if(i>=1&&""!==a[0].text&&null!==a[0].text){for(var n=0;i>n;n++)t+='<a href="javascript:void(0);" class="bh-tip-btn" bh-tip-btn-role="tipBtn">'+a[n].text+"</a>";t='<div class="bh-tip-btn-group">'+t+"</div>"}var r='<div class="bh-tip bh-tip-animate-top-opacity bh-tip-'+e.state+'" bh-tip-role="bhTip"><div class="bh-tip-top-bar"></div><div class="bh-card bh-card-lv4"><a class="bh-tip-closeIcon" bh-tip-btn-role="closeIcon">×</a><div class="bh-tip-content"><i class="iconfont '+e.iconClass+'" ></i> <span>'+e.content+"</span> "+t+"</div></div></div>";return r}function n(t){var a=e("body"),i=a.find("div.jqx-window");if(0==i.length)a.append(t),t.css({position:"fixed"});else{var n=null,r=0;i.each(function(){if("none"!==this.style.display){var e=parseInt(this.style.zIndex,10);e>r&&(r=e,n=this)}}),n?(e(n).append(t),t.css({position:"absolute"})):(a.append(t),t.css({position:"fixed"}))}var o=t.outerWidth();t.css({top:"16px",left:"calc(50% - "+o/2+"px)",opacity:1});var s=t.find(".bh-tip-content"),l=e.trim(s.text()),d=l.length,c=12*d+16+8;s.css({width:c+"px"}),c>192&&s.css({"margin-right":"16px"})}function r(e,t){if(f){var a=setTimeout(function(){e&&o(e)},t);return a}}function o(e){e.css({opacity:0,top:"-40px"}),setTimeout(function(){e.remove(),u.onClosed&&u.onClosed()},d())}function s(e,t,a,i){var n,o,l=a,i=i,t=t;e.off("mouseenter").on("mouseenter",function(){f=!1,n=+new Date,clearTimeout(t);var e=n-l;console.log("remainTime: "+e),i>e&&(i-=e)}),e.off("mouseleave").on("mouseleave",function(){f=!0,o=+new Date,t=r(e,i),s(e,t,o,i)})}function l(t,a){t.off("click","a[bh-tip-btn-role=closeIcon]").on("click","a[bh-tip-btn-role=closeIcon]",function(){o(t,a)}),t.off("click","a[bh-tip-btn-role=tipBtn]").on("click","a[bh-tip-btn-role=tipBtn]",function(t){var i=e(t.target).index(),n={};n=a.options[i],"undefined"!=typeof n.callback&&n.callback instanceof Function&&n.callback()})}function d(){return 250}function c(e){var t="";switch(e.state){case"success":t="icon-checkcircle";break;case"warning":t="icon-erroroutline";break;case"danger":t="icon-error";break;case"primary":t="icon-info"}return e.iconClass=e.iconClass?e.iconClass:t,e}var h={content:"",state:"success",iconClass:"",options:[{text:"",callback:null}],hideWaitTime:5e3,onClosed:function(){}},u=e.extend({},h,t),f=!0;a(u)}}(jQuery),function(e){function t(t){this.options=e.extend({},e.bh_choose["default"],t),this.$element=this.getChooseLayout(),this.selectedRecords=[]}e.bh_choose=function(e){return new t(e)},e.bh_choose["default"]={insertContainer:"",leftSourceUrl:"",leftSourceAction:"",leftLocalData:null,rightSourceUrl:"",rightSourceAction:"",rightLocalData:null,localSearchField:"",id:"",params:{},type:"post",multiSelect:!0,showOrder:!1,title:"添加应用",showSelectedTip:!0,placeholder:"输入关键字搜索",maxSelect:null,height:"500px",width:"900px",topHtml:"",bottomHtml:"",searchKeyName:"SEARCHKEY",leftDataAdapter:null,buttons:null,searchKeyNeedConvert:!1,callback:function(){},rightcellsRenderer:function(){},leftcellsRenderer:function(){},afterDelete:function(){},afterSelect:function(){}},t.prototype={getSelectedRecords:function(){return this.$rightGrid.jqxDataTable("getRows")},show:function(){this.options.insertContainer?e(this.options.insertContainer).html(this.$element):this.showJqxWindow(),this.$leftGrid=this.$element.find(".leftGrid"),this.$rightGrid=this.$element.find(".rightGrid"),this.initSelectedRecords(this.options.rightLocalData),this.initLeftTable(),this.initRightTable(),this.bindSearchEvent()},close:function(){this.$element.jqxWindow("close")},showJqxWindow:function(){var t=this;e("body").append(this.$element),this.$element.on("open",function(){e("body").getNiceScroll().remove(),e("body").css({overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"})});var a=t.options.height||"500px";a=parseInt(a.replace("px",""))/2+"px",this.$element.jqxWindow(e.extend({resizable:!1,isModal:!0,draggable:!1,modalOpacity:.3,maxHeight:3e3,maxWidth:3e3,height:t.options.height||"500px",width:t.options.width||"900px",autoOpen:!1},{})).jqxWindow("open"),this.$element.css({position:"fixed",top:"50%","margin-top":"-"+a}),this.$element.on("close",function(){t.$element.jqxWindow("destroy"),e("body").niceScroll()})},initSelectedRecords:function(e){e&&(this.selectedRecords=e,this.refreshSelectedCount())},bindSearchEvent:function(){var e=this,t=window._&&_.debounce(function(){e.reloadLeftTable()},500);this.$element.find(".leftSearch").on("keyup",function(a){13==a.keyCode?(e.reloadLeftTable(),window._&&t.cancel()):window._&&t()})},initLeftTable:function(){var t=this;this.leftSource=this.getLeftSource();var a=null;this.leftSource.url?a=new e.jqx.dataAdapter(this.leftSource,t.options.leftDataAdapter||{formatData:function(a){return a.pageSize=a.pagesize,a.pageNumber=a.pagenum+1,e.extend(a,t.options.leftSourceParams),delete a.pagesize,delete a.pagenum,delete a.filterslength,a},downloadComplete:function(e){var a=t.options.leftSourceAction,i=a?e.datas[a]:e.datas;return t.leftSource.totalRecords=i.totalSize,e.recordsTotal=i.totalSize,e.data=i.rows,delete e.datas,delete e.code,e}}):this.leftSource.localdata&&(a=new e.jqx.dataAdapter(this.leftSource));var i=e.extend({},this.getNormalWindowOptions(),{source:a,pageable:this.leftSource.localdata?!1:!0,height:308,columns:t.options.leftColumns||[{dataField:"onlineDate",cellsRenderer:function(a,i,n,r){var o=e(t.options.leftcellsRenderer(a,i,n,r));return e(o.children()[0]).addClass("gm-member-user"),o.prop("outerHTML")}}],rendered:function(){t.leftRenderEventListener()}});t.$element.find(".leftGrid").jqxDataTable(i)},getNormalWindowOptions:function(){return{showHeader:!1,pagerButtonsCount:3,serverProcessing:!0,showStatusbar:!1,showToolbar:!1,pagerMode:"advanced",localization:Globalize.culture("zh-CN"),pageSizeOptions:["10","20","50","100"],width:"100%",pagerHeight:28}},getLeftSource:function(){var e=null;return e=this.options.leftLocalData?{localdata:this.options.leftLocalData,datatype:"array",data:this.options.params}:{id:"id",datatype:"json",url:this.options.leftSourceUrl,type:this.options.type,data:this.options.params,contentType:"application/x-www-form-urlencoded; charset=utf-8"}},addSelectAllButton:function(){var e=this;if(this.options.multiSelect!==!1&&null===this.options.maxSelect){var t=this.$element.find(".leftGrid").find(".jqx-grid-pager");t.find(".leftgrid-select-all").length>0||(t.append('<div class="select-all-wrap"><div class="leftgrid-select-all" style="display:inline-block"></div><div class="select-all-text">全选</div></div>'),t.find(".leftgrid-select-all").jqxCheckBox().on("change",function(t){var a=t.args.checked,i=e.$element.find(".leftGrid .gm-member-user");a?i.jqxCheckBox("check"):a===!1&&i.jqxCheckBox("uncheck")}))}},leftRenderEventListener:function(){var t=this,a=this.options.id,i=this.$leftGrid,n=this.$rightGrid,r=t.selectedRecords,o=t.$element.find(".leftGrid .gm-member-user");i.find("tr").removeAttr("data-key"),this.addSelectAllButton(),this.leftGridRows=i.jqxDataTable("getRows"),this.rightGridRows=n.jqxDataTable("getRows"),o.length>0&&o.jqxCheckBox().on("change",function(i){var r=t.selectedRecords,o=i.args.checked,s=i.target.getAttribute("row"),l=t.leftGridRows[s][a],d=!1,c=t.leftGridRows[s];if(o){if(_.each(r,function(e){return e[a]+""==c[a]+""?(d=!0,!1):void 0}),d)return;if(t.options.multiSelect===!1&&t.$element.find(".rightgrid-delete").trigger("click"),null!==t.options.maxSelect&&t.options.maxSelect<=r.length)return e.bhTip({content:"最多只能选中"+t.options.maxSelect+"条记录"}),void e(this).jqxCheckBox("uncheck");t.options.afterSelect(c),r.push(c),n.jqxDataTable("addRow",null,c)}else _.each(r,function(e,t){return e[a]+""==l+""?(r.splice(t,1),!1):void 0}),t.refreshTable(n),t.resetSelectALLStatus();t.refreshSelectedCount()});for(var s=0;s<r.length;s++)for(var l=0;l<this.leftGridRows.length;l++)t.selectedRecords[s][a]+""==this.leftGridRows[l][a]+""&&e(o[l]).jqxCheckBox("check");t.resetSelectALLStatus()},refreshSelectedCount:function(){this.options.showSelectedTip&&this.$rightGrid.prev().html("已选中 "+this.selectedRecords.length)},getRightSource:function(){var e=null;return e=this.options.rightLocalData?{localdata:this.options.rightLocalData,datatype:"array"}:this.options.rightSourceUrl?{id:"id",datatype:"json",url:this.options.rightSourceUrl,type:this.options.type}:{localdata:this.selectedRecords,datatype:"array"}},initRightTable:function(){var t=this,a=this.options.id,i=this.getRightSource(),n=[];i.url?n=new e.jqx.dataAdapter(i,{formatData:function(e){return e.pageSize=e.pagesize,e.pageNumber=e.pagenum+1,delete e.pagesize,delete e.pagenum,delete e.filterslength,e},downloadComplete:function(a){var n=t.options.rightSourceAction,r=n?a.datas[n]:a.datas;return i.totalRecords=r.totalSize,e.extend(a,t.options.leftSourceParams),a.recordsTotal=r.totalSize,a.data=r.rows,t.initSelectedRecords(r.rows),delete a.datas,delete a.code,a}}):i.localdata&&(n=new e.jqx.dataAdapter(i));var r=e.extend({},this.getNormalWindowOptions(),{source:n,pagerMode:"advanced",height:315,pageable:!1,columns:t.options.rightColumns||[{dataField:"onlineDate",cellsRenderer:function(i,n,r,o){var s=e(t.options.rightcellsRenderer(i,n,r,o)),l=t.options.showOrder?'<i class="iconfont icon-keyboardarrowup rightgrid-up"></i><i class="iconfont icon-keyboardarrowdown rightgrid-down"></i>':"",d=s.append('<a class="gm-member-delete" data-x-id="'+o[a]+'" href="javascript:void(0)">'+l+'<i class="iconfont icon-delete rightgrid-delete"></i></a>');return d.prop("outerHTML")}}],rendered:function(){t.rightRenderEventListener()}});t.$element.find(".rightGrid").jqxDataTable(r)},rightRenderEventListener:function(){var t=this,a=this.options.id,i=t.$element.find(".rightGrid");i.find("tr").removeAttr("data-key"),t.$element.find(".rightgrid-down").on("click",function(){for(var i=e(this).parent(),n=i.attr("data-x-id"),r=0;r<t.selectedRecords.length;r++)if(t.selectedRecords[r][a]+""==n+""&&r<t.selectedRecords.length-1){var o=t.selectedRecords[r];t.selectedRecords[r]=t.selectedRecords[r+1],t.selectedRecords[r+1]=o;break}t.refreshTable(t.$element.find(".rightGrid"))}),t.$element.find(".rightgrid-up").on("click",function(){for(var i=e(this).parent(),n=i.attr("data-x-id"),r=0;r<t.selectedRecords.length;r++)if(t.selectedRecords[r][a]+""==n+""&&r>0){var o=t.selectedRecords[r];t.selectedRecords[r]=t.selectedRecords[r-1],t.selectedRecords[r-1]=o;break}t.refreshTable(t.$element.find(".rightGrid"))}),t.$element.find(".rightgrid-delete").on("click",function(){for(var i=t.$element.find(".leftGrid"),n=e(this).parent(),r=n.attr("data-x-id"),o=t.leftGridRows,s=!1,l=t.selectedRecords,d=i.find(".gm-member-user"),c=0;c<d.length;c++){var h=e(d[c]).jqxCheckBox("val");if(h&&o[c][a]+""==r+""){t.options.afterDelete(o[c]);for(var u=0;u<t.selectedRecords.length;u++)t.selectedRecords[u][a]+""==r&&(e(d[c]).jqxCheckBox("uncheck"),t.resetSelectALLStatus(),s=!0)}}s||(_.each(l,function(e,t){return e[a]+""==r+""?(l.splice(t,1),!1):void 0}),t.refreshTable(t.$rightGrid),t.refreshSelectedCount())})},clear:function(){for(var t=this,a=t.$element.find(".leftGrid"),i=t.leftGridRows,n=t.selectedRecords,r=a.find(".gm-member-user"),o=0;o<r.length;o++){var s=e(r[o]).jqxCheckBox("val");if(s)for(var l=0;l<t.selectedRecords.length;l++)t.selectedRecords[l][id]+""==i[o][id]+""&&(e(r[o]).jqxCheckBox("uncheck"),t.resetSelectALLStatus())}n.splice(0,n.length),t.refreshTable(t.$rightGrid),t.options.showSelectedTip&&$rightGrid.prev().html("已选中 "+n.length)},resetSelectALLStatus:function(){if(this.options.multiSelect!==!1&&null===this.options.maxSelect){for(var t=this.$element.find(".leftGrid").find(".jqx-grid-pager"),a=this.$element.find(".leftGrid"),i=a.find(".gm-member-user"),n=0,r=0;r<i.length;r++)e(i[r]).jqxCheckBox("val")&&n++;0==n&&t.find(".leftgrid-select-all").jqxCheckBox("val")!==!1?t.find(".leftgrid-select-all").jqxCheckBox("uncheck"):n==i.length&&n>0?t.find(".leftgrid-select-all").jqxCheckBox("check"):t.find(".leftgrid-select-all").jqxCheckBox("val")===!0&&t.find(".leftgrid-select-all").jqxCheckBox("indeterminate")}},reload:function(e,t){this.querySetting=e,this.params=t,e.querySetting&&(this.querySetting=e.querySetting),e.params&&(this.params=e.params),this.reloadLeftTable()},reloadLeftTable:function(){var t=this,a=e.trim(t.$element.find(".leftSearch").val()),i=this.options.localSearchField.split(","),n=this.options.leftLocalData;if(this.options.searchKeyNeedConvert&&(a=a.toLowerCase()),n){for(var r=[],o=0;o<n.length;o++)for(var s=0;s<i.length;s++){var l=n[o][i[s]];if(l&&(l=l.toLowerCase(),l.indexOf(a)>=0)){r.push(n[o]);break}}t.leftSource.localdata=r}else{a?t.leftSource.data[this.options.searchKeyName]=a:t.leftSource.data&&delete t.leftSource.data[this.options.searchKeyName];var d=e.extend({},t.options.params,t.params,{querySetting:"object"==typeof this.querySetting?JSON.stringify(this.querySetting):this.querySetting});_.each(_.keys(d),function(e){t.leftSource.data[e]=d[e]})}t.refreshTable(t.$element.find(".leftGrid"))},refreshTable:function(e){e.jqxDataTable("goToPage",0)||e.jqxDataTable("updateBoundData")},getChooseLayout:function(){var t=this,a=this.options.rightLocalData?this.options.rightLocalData.length:0,i=e('<div><div class="head"></div><div><div class="content">   <div class="content-top">'+this.options.topHtml+'</div>   <div class="gm-add-block bh-clearfix">        <div class="bh-col-md-6" style="background: #fff;padding-left:0px;padding-right:0px;">            <div class="gm-add-search bh-mb-8" style="margin:7px 8px 0 8px">                <input class="leftSearch" type="text" placeholder="'+this.options.placeholder+'">                 <button style="border:0px;width:0px;height:0px;position: absolute;padding:0;top: 0px;"></button>              <a href="javascript:void(0)"><i class="iconfont">&#xe895;</i></a>          </div>         <div class="noBorderGrid leftGrid leftgrid-container"></div>      </div>     <div class="bh-col-md-6 rightgrid-container">'+(this.options.showSelectedTip===!1?"<h3>已选择字段</h3>":"<h3>已选中 "+a+"</h3>")+'           <div class="noBorderGrid transparentGrid rightGrid"></div>      </div></div><div class="content-bottom">'+this.options.bottomHtml+'</div><div id="buttons" style="position: absolute;bottom:32px;width: 100%;left: 0;float: right;padding: 0 24px;"></div></div></div></div>');if(this.options.insertContainer)return i;e(".head",i).append(e("<h2></h2>").append(this.options.title));var n=[{text:"确定",className:"bh-btn-primary",callback:function(){return t.options.callback(t.getSelectedRecords())}},{text:"取消",className:"bh-btn-default",callback:function(){i.jqxWindow("close")}}];n=this.options.buttons||n;for(var r=n.length-1;r>=0;r--){var o=e('<button class="bh-btn '+n[r].className+' bh-pull-right">'+n[r].text+"</button>");if(n[r].callback){var s=n[r].callback;o.data("callback",s),o.click(function(){var t=e(this).data("callback"),a=t.apply(i,[i]);a!==!1&&i.jqxWindow("close")})}e("#buttons",i).append(o)}return i}}}(jQuery),function(e){function t(e,t,a){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:a;default:throw new Error("Implement me")}}function a(e,t){return Te.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e){ye.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var a=!0;return u(function(){return a&&(n(e),a=!1),t.apply(this,arguments)},t)}function o(e,t){bt[e]||(n(t),bt[e]=!0)}function s(e,t){return function(a){return m(e.call(this,a),t)}}function l(e,t){return function(a){return this.localeData().ordinal(e.call(this,a),t)}}function d(){}function c(e,t){t!==!1&&P(e),f(this,e),this._d=new Date(+e._d)}function h(e){var t=D(e),a=t.year||0,i=t.quarter||0,n=t.month||0,r=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*d+6e4*l+36e5*s,this._days=+o+7*r,this._months=+n+3*i+12*a,this._data={},this._locale=ye.localeData(),this._bubble()}function u(e,t){for(var i in t)a(t,i)&&(e[i]=t[i]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t){var a,i,n;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ye.length>0)for(a in Ye)i=Ye[a],n=t[i],"undefined"!=typeof n&&(e[i]=n);return e}function p(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e,t,a){for(var i=""+Math.abs(e),n=e>=0;i.length<t;)i="0"+i;return(n?a?"+":"":"-")+i}function b(e,t){var a={milliseconds:0,months:0};return a.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+e.clone().add(a.months,"M"),a}function v(e,t){var a;return t=O(t,e),e.isBefore(t)?a=b(e,t):(a=b(t,e),a.milliseconds=-a.milliseconds,a.months=-a.months),a}function g(e,t){return function(a,i){var n,r;return null===i||isNaN(+i)||(o(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=a,a=i,i=r),a="string"==typeof a?+a:a,n=ye.duration(a,i),y(this,n,e),this}}function y(e,t,a,i){var n=t._milliseconds,r=t._days,o=t._months;i=null==i?!0:i,n&&e._d.setTime(+e._d+n*a),r&&fe(e,"Date",ue(e,"Date")+r*a),o&&he(e,ue(e,"Month")+o*a),i&&ye.updateOffset(e,r||o)}function w(e){return"[object Array]"===Object.prototype.toString.call(e)}function x(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function k(e,t,a){var i,n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(i=0;n>i;i++)(a&&e[i]!==t[i]||!a&&_(e[i])!==_(t[i]))&&o++;return o+r}function C(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=dt[e]||ct[t]||t}return e}function D(e){var t,i,n={};for(i in e)a(e,i)&&(t=C(i),t&&(n[t]=e[i]));return n}function T(t){var a,i;if(0===t.indexOf("week"))a=7,i="day";else{if(0!==t.indexOf("month"))return;a=12,i="month"}ye[t]=function(n,r){var o,s,l=ye._locale[t],d=[];if("number"==typeof n&&(r=n,n=e),s=function(e){var t=ye().utc().set(i,e);return l.call(ye._locale,t,n||"")},null!=r)return s(r);for(o=0;a>o;o++)d.push(s(o));return d}}function _(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=t>=0?Math.floor(t):Math.ceil(t)),a}function S(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function I(e,t,a){return se(ye([e,11,31+t-a]),t,a).week}function B(e){return M(e)?366:365}function M(e){return e%4===0&&e%100!==0||e%400===0}function P(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Se]<0||e._a[Se]>11?Se:e._a[Ie]<1||e._a[Ie]>S(e._a[_e],e._a[Se])?Ie:e._a[Be]<0||e._a[Be]>24||24===e._a[Be]&&(0!==e._a[Me]||0!==e._a[Pe]||0!==e._a[He])?Be:e._a[Me]<0||e._a[Me]>59?Me:e._a[Pe]<0||e._a[Pe]>59?Pe:e._a[He]<0||e._a[He]>999?He:-1,e._pf._overflowDayOfYear&&(_e>t||t>Ie)&&(t=Ie),e._pf.overflow=t)}function H(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function A(e){return e?e.toLowerCase().replace("_","-"):e}function Y(e){for(var t,a,i,n,r=0;r<e.length;){for(n=A(e[r]).split("-"),t=n.length,a=A(e[r+1]),a=a?a.split("-"):null;t>0;){if(i=E(n.slice(0,t).join("-")))return i;if(a&&a.length>=t&&k(n,a,!0)>=t-1)break;t--}r++}return null}function E(e){var t=null;if(!Ae[e]&&Ee)try{t=ye.locale(),require("./locale/"+e),ye.locale(t)}catch(a){}return Ae[e]}function O(e,t){var a,i;return t._isUTC?(a=t.clone(),i=(ye.isMoment(e)||x(e)?+e:+ye(e))-+a,a._d.setTime(+a._d+i),ye.updateOffset(a,!1),a):ye(e).local()}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,a,i=e.match(je);for(t=0,a=i.length;a>t;t++)i[t]=mt[i[t]]?mt[i[t]]:z(i[t]);return function(n){var r="";for(t=0;a>t;t++)r+=i[t]instanceof Function?i[t].call(n,e):i[t];return r}}function j(e,t){return e.isValid()?(t=N(t,e.localeData()),ht[t]||(ht[t]=L(t)),ht[t](e)):e.localeData().invalidDate()}function N(e,t){function a(e){return t.longDateFormat(e)||e}var i=5;for(Ne.lastIndex=0;i>=0&&Ne.test(e);)e=e.replace(Ne,a),Ne.lastIndex=0,i-=1;return e}function F(e,t){var a,i=t._strict;switch(e){case"Q":return Je;case"DDDD":return Xe;case"YYYY":case"GGGG":case"gggg":return i?et:$e;case"Y":case"G":case"g":return at;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?tt:qe;case"S":if(i)return Je;case"SS":if(i)return Ke;case"SSS":if(i)return Xe;case"DDD":return We;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Re;case"a":case"A":return t._locale._meridiemParse;case"x":return Qe;case"X":return Ze;case"Z":case"ZZ":return Ue;case"T":return Ve;case"SSSS":return Ge;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Ke:Fe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Fe;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return a=new RegExp(Z(Q(e.replace("\\","")),"i"))}}function W(e){e=e||"";var t=e.match(Ue)||[],a=t[t.length-1]||[],i=(a+"").match(st)||["-",0,0],n=+(60*i[1])+_(i[2]);return"+"===i[0]?-n:n}function $(e,t,a){var i,n=a._a;switch(e){case"Q":null!=t&&(n[Se]=3*(_(t)-1));break;case"M":case"MM":null!=t&&(n[Se]=_(t)-1);break;case"MMM":case"MMMM":i=a._locale.monthsParse(t,e,a._strict),null!=i?n[Se]=i:a._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(n[Ie]=_(t));break;case"Do":null!=t&&(n[Ie]=_(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(a._dayOfYear=_(t));break;case"YY":n[_e]=ye.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":n[_e]=_(t);break;case"a":case"A":a._isPm=a._locale.isPM(t);break;case"h":case"hh":a._pf.bigHour=!0;case"H":case"HH":n[Be]=_(t);break;case"m":case"mm":n[Me]=_(t);break;case"s":case"ss":n[Pe]=_(t);break;case"S":case"SS":case"SSS":case"SSSS":n[He]=_(1e3*("0."+t));break;case"x":a._d=new Date(_(t));break;case"X":a._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":a._useUTC=!0,a._tzm=W(t);break;case"dd":case"ddd":case"dddd":i=a._locale.weekdaysParse(t),null!=i?(a._w=a._w||{},a._w.d=i):a._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(a._w=a._w||{},a._w[e]=_(t));break;case"gg":case"GG":a._w=a._w||{},a._w[e]=ye.parseTwoDigitYear(t)}}function q(e){var a,i,n,r,o,s,l;a=e._w,null!=a.GG||null!=a.W||null!=a.E?(o=1,s=4,i=t(a.GG,e._a[_e],se(ye(),1,4).year),n=t(a.W,1),r=t(a.E,1)):(o=e._locale._week.dow,s=e._locale._week.doy,i=t(a.gg,e._a[_e],se(ye(),o,s).year),n=t(a.w,1),null!=a.d?(r=a.d,o>r&&++n):r=null!=a.e?a.e+o:o),l=le(i,n,r,s,o),e._a[_e]=l.year,e._dayOfYear=l.dayOfYear}function G(e){var a,i,n,r,o=[];if(!e._d){for(n=U(e),e._w&&null==e._a[Ie]&&null==e._a[Se]&&q(e),e._dayOfYear&&(r=t(e._a[_e],n[_e]),e._dayOfYear>B(r)&&(e._pf._overflowDayOfYear=!0),i=ie(r,0,e._dayOfYear),e._a[Se]=i.getUTCMonth(),e._a[Ie]=i.getUTCDate()),a=0;3>a&&null==e._a[a];++a)e._a[a]=o[a]=n[a];for(;7>a;a++)e._a[a]=o[a]=null==e._a[a]?2===a?1:0:e._a[a];24===e._a[Be]&&0===e._a[Me]&&0===e._a[Pe]&&0===e._a[He]&&(e._nextDay=!0,e._a[Be]=0),e._d=(e._useUTC?ie:ae).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[Be]=24)}}function R(e){var t;e._d||(t=D(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],G(e))}function U(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function V(t){if(t._f===ye.ISO_8601)return void K(t);t._a=[],t._pf.empty=!0;var a,i,n,r,o,s=""+t._i,l=s.length,d=0;for(n=N(t._f,t._locale).match(je)||[],a=0;a<n.length;a++)r=n[a],i=(s.match(F(r,t))||[])[0],i&&(o=s.substr(0,s.indexOf(i)),o.length>0&&t._pf.unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),d+=i.length),mt[r]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(r),$(r,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=l-d,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Be]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[Be]<12&&(t._a[Be]+=12),t._isPm===!1&&12===t._a[Be]&&(t._a[Be]=0),G(t),P(t)}function Q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,a,i,n){return t||a||i||n})}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,a,n,r,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)o=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[r],V(t),H(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==n||n>o)&&(n=o,a=t));u(e,a||t)}function K(e){var t,a,i=e._i,n=it.exec(i);if(n){for(e._pf.iso=!0,t=0,a=rt.length;a>t;t++)if(rt[t][1].exec(i)){e._f=rt[t][0]+(n[6]||" ");break}for(t=0,a=ot.length;a>t;t++)if(ot[t][1].exec(i)){e._f+=ot[t][0];break}i.match(Ue)&&(e._f+="Z"),V(e)}else e._isValid=!1}function X(e){K(e),e._isValid===!1&&(delete e._isValid,ye.createFromInputFallback(e))}function ee(e,t){var a,i=[];for(a=0;a<e.length;++a)i.push(t(e[a],a));return i}function te(t){var a,i=t._i;i===e?t._d=new Date:x(i)?t._d=new Date(+i):null!==(a=Oe.exec(i))?t._d=new Date(+a[1]):"string"==typeof i?X(t):w(i)?(t._a=ee(i.slice(0),function(e){return parseInt(e,10)}),G(t)):"object"==typeof i?R(t):"number"==typeof i?t._d=new Date(i):ye.createFromInputFallback(t)}function ae(e,t,a,i,n,r,o){var s=new Date(e,t,a,i,n,r,o);return 1970>e&&s.setFullYear(e),s}function ie(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ne(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function re(e,t,a,i,n){return n.relativeTime(t||1,!!a,e,i)}function oe(e,t,a){var i=ye.duration(e).abs(),n=De(i.as("s")),r=De(i.as("m")),o=De(i.as("h")),s=De(i.as("d")),l=De(i.as("M")),d=De(i.as("y")),c=n<ut.s&&["s",n]||1===r&&["m"]||r<ut.m&&["mm",r]||1===o&&["h"]||o<ut.h&&["hh",o]||1===s&&["d"]||s<ut.d&&["dd",s]||1===l&&["M"]||l<ut.M&&["MM",l]||1===d&&["y"]||["yy",d];return c[2]=t,c[3]=+e>0,c[4]=a,re.apply({},c)}function se(e,t,a){var i,n=a-t,r=a-e.day();return r>n&&(r-=7),n-7>r&&(r+=7),i=ye(e).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function le(e,t,a,i,n){var r,o,s=ie(e,0,1).getUTCDay();return s=0===s?7:s,a=null!=a?a:n,r=n-s+(s>i?7:0)-(n>s?7:0),o=7*(t-1)+(a-n)+r+1,{year:o>0?e:e-1,dayOfYear:o>0?o:B(e-1)+o}}function de(t){var a,i=t._i,n=t._f;return t._locale=t._locale||ye.localeData(t._l),null===i||n===e&&""===i?ye.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),ye.isMoment(i)?new c(i,!0):(n?w(n)?J(t):V(t):te(t),a=new c(t),a._nextDay&&(a.add(1,"d"),a._nextDay=e),a))}function ce(e,t){var a,i;if(1===t.length&&w(t[0])&&(t=t[0]),!t.length)return ye();for(a=t[0],i=1;i<t.length;++i)t[i][e](a)&&(a=t[i]);return a}function he(e,t){var a;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(a=Math.min(e.date(),S(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,a),e)}function ue(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function fe(e,t,a){return"Month"===t?he(e,a):e._d["set"+(e._isUTC?"UTC":"")+t](a)}function pe(e,t){return function(a){return null!=a?(fe(this,e,a),ye.updateOffset(this,t),this):ue(this,e)}}function me(e){return 400*e/146097}function be(e){return 146097*e/400}function ve(e){ye.duration.fn[e]=function(){return this._data[e]}}function ge(e){"undefined"==typeof ender&&(we=Ce.moment,Ce.moment=e?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ye):ye)}for(var ye,we,xe,ke="2.8.4",Ce="undefined"!=typeof global?global:this,De=Math.round,Te=Object.prototype.hasOwnProperty,_e=0,Se=1,Ie=2,Be=3,Me=4,Pe=5,He=6,Ae={},Ye=[],Ee="undefined"!=typeof module&&module&&module.exports,Oe=/^\/?Date\((\-?\d+)/i,ze=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Le=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,je=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fe=/\d\d?/,We=/\d{1,3}/,$e=/\d{1,4}/,qe=/[+\-]?\d{1,6}/,Ge=/\d+/,Re=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ue=/Z|[\+\-]\d\d:?\d\d/gi,Ve=/T/i,Qe=/[\+\-]?\d+/,Ze=/[\+\-]?\d+(\.\d{1,3})?/,Je=/\d/,Ke=/\d\d/,Xe=/\d{3}/,et=/\d{4}/,tt=/[+-]?\d{6}/,at=/[+-]?\d+/,it=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nt="YYYY-MM-DDTHH:mm:ssZ",rt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ot=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],st=/([\+\-]|\d\d)/gi,lt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),dt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ct={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ht={},ut={s:45,m:45,h:22,d:26,M:11},ft="DDD w W M D d".split(" "),pt="M D H h m s w W".split(" "),mt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){
return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return _(this.milliseconds()/100)},SS:function(){return m(_(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(_(e/60),2)+":"+m(_(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(_(e/60),2)+m(_(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},bt={},vt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ft.length;)xe=ft.pop(),mt[xe+"o"]=l(mt[xe],xe);for(;pt.length;)xe=pt.pop(),mt[xe+xe]=s(mt[xe],2);mt.DDDD=s(mt.DDD,3),u(d.prototype,{set:function(e){var t,a;for(a in e)t=e[a],"function"==typeof t?this[a]=t:this["_"+a]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,a){var i,n,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(n=ye.utc([2e3,i]),a&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),a||this._monthsParse[i]||(r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),a&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(a&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!a&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,a,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(a=ye([2e3,1]).day(t),i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,a){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[a]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,a,i){var n=this._relativeTime[a];return"function"==typeof n?n(e,t,a,i):n.replace(/%d/i,e)},pastFuture:function(e,t){var a=this._relativeTime[e>0?"future":"past"];return"function"==typeof a?a(t):a.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return se(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ye=function(t,a,n,r){var o;return"boolean"==typeof n&&(r=n,n=e),o={},o._isAMomentObject=!0,o._i=t,o._f=a,o._l=n,o._strict=r,o._isUTC=!1,o._pf=i(),de(o)},ye.suppressDeprecationWarnings=!1,ye.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),ye.min=function(){var e=[].slice.call(arguments,0);return ce("isBefore",e)},ye.max=function(){var e=[].slice.call(arguments,0);return ce("isAfter",e)},ye.utc=function(t,a,n,r){var o;return"boolean"==typeof n&&(r=n,n=e),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=n,o._i=t,o._f=a,o._strict=r,o._pf=i(),de(o).utc()},ye.unix=function(e){return ye(1e3*e)},ye.duration=function(e,t){var i,n,r,o,s=e,l=null;return ye.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(l=ze.exec(e))?(i="-"===l[1]?-1:1,s={y:0,d:_(l[Ie])*i,h:_(l[Be])*i,m:_(l[Me])*i,s:_(l[Pe])*i,ms:_(l[He])*i}):(l=Le.exec(e))?(i="-"===l[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},s={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(o=v(ye(s.from),ye(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),n=new h(s),ye.isDuration(e)&&a(e,"_locale")&&(n._locale=e._locale),n},ye.version=ke,ye.defaultFormat=nt,ye.ISO_8601=function(){},ye.momentProperties=Ye,ye.updateOffset=function(){},ye.relativeTimeThreshold=function(t,a){return ut[t]===e?!1:a===e?ut[t]:(ut[t]=a,!0)},ye.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return ye.locale(e,t)}),ye.locale=function(e,t){var a;return e&&(a="undefined"!=typeof t?ye.defineLocale(e,t):ye.localeData(e),a&&(ye.duration._locale=ye._locale=a)),ye._locale._abbr},ye.defineLocale=function(e,t){return null!==t?(t.abbr=e,Ae[e]||(Ae[e]=new d),Ae[e].set(t),ye.locale(e),Ae[e]):(delete Ae[e],null)},ye.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return ye.localeData(e)}),ye.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ye._locale;if(!w(e)){if(t=E(e))return t;e=[e]}return Y(e)},ye.isMoment=function(e){return e instanceof c||null!=e&&a(e,"_isAMomentObject")},ye.isDuration=function(e){return e instanceof h};for(xe=vt.length-1;xe>=0;--xe)T(vt[xe]);ye.normalizeUnits=function(e){return C(e)},ye.invalid=function(e){var t=ye.utc(0/0);return null!=e?u(t._pf,e):t._pf.userInvalidated=!0,t},ye.parseZone=function(){return ye.apply(null,arguments).parseZone()},ye.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)},u(ye.fn=c.prototype,{clone:function(){return ye(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ye(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return H(this)},isDSTShifted:function(){return this._a?this.isValid()&&k(this._a,(this._isUTC?ye.utc(this._a):ye(this._a)).toArray())>0:!1},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=j(this,e||ye.defaultFormat);return this.localeData().postformat(t)},add:g(1,"add"),subtract:g(-1,"subtract"),diff:function(e,t,a){var i,n,r,o=O(e,this),s=6e4*(this.zone()-o.zone());return t=C(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+o.daysInMonth()),n=12*(this.year()-o.year())+(this.month()-o.month()),r=this-ye(this).startOf("month")-(o-ye(o).startOf("month")),r-=6e4*(this.zone()-ye(this).startOf("month").zone()-(o.zone()-ye(o).startOf("month").zone())),n+=r/i,"year"===t&&(n/=12)):(i=this-o,n="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),a?n:p(n)},from:function(e,t){return ye.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(ye(),e)},calendar:function(e){var t=e||ye(),a=O(t,this).startOf("day"),i=this.diff(a,"days",!0),n=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(n,this,ye(t)))},isLeapYear:function(){return M(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ne(e,this.localeData()),this.add(e-t,"d")):t},month:pe("Month",!0),startOf:function(e){switch(e=C(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=C(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var a;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=ye.isMoment(e)?e:ye(e),+this>+e):(a=ye.isMoment(e)?+e:+ye(e),a<+this.clone().startOf(t))},isBefore:function(e,t){var a;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=ye.isMoment(e)?e:ye(e),+e>+this):(a=ye.isMoment(e)?+e:+ye(e),+this.clone().endOf(t)<a)},isSame:function(e,t){var a;return t=C(t||"millisecond"),"millisecond"===t?(e=ye.isMoment(e)?e:ye(e),+this===+e):(a=+ye(e),+this.clone().startOf(t)<=a&&a<=+this.clone().endOf(t))},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=ye.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=ye.apply(null,arguments),e>this?this:e}),zone:function(e,t){var a,i=this._offset||0;return null==e?this._isUTC?i:this._dateTzOffset():("string"==typeof e&&(e=W(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(a=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=a&&this.subtract(a,"m"),i!==e&&(!t||this._changeInProgress?y(this,ye.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ye.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ye(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return S(this.year(),this.month())},dayOfYear:function(e){var t=De((ye(this).startOf("day")-ye(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=se(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return I(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return I(this.year(),e.dow,e.doy)},get:function(e){return e=C(e),this[e]()},set:function(e,t){return e=C(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var a;return t===e?this._locale._abbr:(a=ye.localeData(t),null!=a&&(this._locale=a),this)},lang:r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),ye.fn.millisecond=ye.fn.milliseconds=pe("Milliseconds",!1),ye.fn.second=ye.fn.seconds=pe("Seconds",!1),ye.fn.minute=ye.fn.minutes=pe("Minutes",!1),ye.fn.hour=ye.fn.hours=pe("Hours",!0),ye.fn.date=pe("Date",!0),ye.fn.dates=r("dates accessor is deprecated. Use date instead.",pe("Date",!0)),ye.fn.year=pe("FullYear",!0),ye.fn.years=r("years accessor is deprecated. Use year instead.",pe("FullYear",!0)),ye.fn.days=ye.fn.day,ye.fn.months=ye.fn.month,ye.fn.weeks=ye.fn.week,ye.fn.isoWeeks=ye.fn.isoWeek,ye.fn.quarters=ye.fn.quarter,ye.fn.toJSON=ye.fn.toISOString,u(ye.duration.fn=h.prototype,{_bubble:function(){var e,t,a,i=this._milliseconds,n=this._days,r=this._months,o=this._data,s=0;o.milliseconds=i%1e3,e=p(i/1e3),o.seconds=e%60,t=p(e/60),o.minutes=t%60,a=p(t/60),o.hours=a%24,n+=p(a/24),s=p(me(n)),n-=p(be(s)),r+=p(n/30),n%=30,s+=p(r/12),r%=12,o.days=n,o.months=r,o.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)},humanize:function(e){var t=oe(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var a=ye.duration(e,t);return this._milliseconds+=a._milliseconds,this._days+=a._days,this._months+=a._months,this._bubble(),this},subtract:function(e,t){var a=ye.duration(e,t);return this._milliseconds-=a._milliseconds,this._days-=a._days,this._months-=a._months,this._bubble(),this},get:function(e){return e=C(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,a;if(e=C(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,a=this._months+12*me(t),"month"===e?a:a/12;switch(t=this._days+Math.round(be(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:ye.fn.lang,locale:ye.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),a=Math.abs(this.days()),i=Math.abs(this.hours()),n=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(a?a+"D":"")+(i||n||r?"T":"")+(i?i+"H":"")+(n?n+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}}),ye.duration.fn.toString=ye.duration.fn.toISOString;for(xe in lt)a(lt,xe)&&ve(xe.toLowerCase());ye.duration.fn.asMilliseconds=function(){return this.as("ms")},ye.duration.fn.asSeconds=function(){return this.as("s")},ye.duration.fn.asMinutes=function(){return this.as("m")},ye.duration.fn.asHours=function(){return this.as("h")},ye.duration.fn.asDays=function(){return this.as("d")},ye.duration.fn.asWeeks=function(){return this.as("weeks")},ye.duration.fn.asMonths=function(){return this.as("M")},ye.duration.fn.asYears=function(){return this.as("y")},ye.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,a=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+a}}),function(e){e(ye)}(function(e){return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,a=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+a},week:{dow:1,doy:4}})}),function(e){e(ye)}(function(e){return e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t,a){var i=100*e+t;return 600>i?"凌晨":900>i?"早上":1130>i?"上午":1230>i?"中午":1800>i?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,a;return t=e().startOf("week"),a=this.unix()-t.unix()>=604800?"[下]":"[本]",0===this.minutes()?a+"dddAh点整":a+"dddAh点mm"},lastWeek:function(){var t,a;return t=e().startOf("week"),a=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?a+"dddAh点整":a+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),ye.locale("en"),Ee?module.exports=ye:"function"==typeof define&&define.amd?(define("moment",function(e,t,a){return a.config&&a.config()&&a.config().noGlobal===!0&&(Ce.moment=we),ye}),ge(!0)):ge()}.call(this),function(){function e(e){this.options=e,this.$element=t(e),a(this.$element,e)}function t(e){var t=WIS_EMAP_SERV._sortModel(e.model),a=e.columns,i='<div class="bh-customize-column-search bh-mb-16"><input type="text" class="bh-form-control" placeholder="搜索字段"><i class="iconfont icon-search bh-import-step" style="position: absolute;left: 6px;top: 6px;"></i><span class="bh-color-caption"></span></div>',n="";$(t).each(function(){var t=[],i=0,r=0,o=e.colNum||6,s=100/o+"%";$.each(a,function(a,n){void 0===n.datafield&&n.name&&(n.datafield=n.name),n.text=e.model[a].caption;var o=n.datafield&&n.datafield.replace("_DISPLAY","");if("undefined"!==$.type(o)){var l=!1;e.alwaysHide&&e.alwaysHide.length&&(l=$.inArray(o,e.alwaysHide)>-1);var d=void 0!==e.model[a]["grid.hidden"]?e.model[a]["grid.hidden"]:e.model[a].hidden,c=void 0!==e.model[a]["grid.fixed"]?e.model[a]["grid.fixed"]:e.model[a].fixed;d&&c&&(l=!0),t.push(' <li class="cell bh-bColor-info-3" style="width:'+s+";"+(l?"display: none;":"")+'"><div class="bh-checkbox bh-str-cut" title="'+n.text+'"><label><input type="checkbox" name="'+o+'" '+(n.hidden?"":"checked")+'><i class="bh-choice-helper"></i><span class="filed-name">'+n.text+"</span></label></div></li>"),n.hidden||r++,l||i++}});var l=i%o;if(l)for(var d=0;o-l>d;d++)t.push('<li class="cell bh-bColor-info-3" style="width:'+s+'">');this.groupName&&(n+='<div class="group-select bh-mb-8"><div class="bh-checkbox"><label><input type="checkbox" name="'+this.groupName+'" title="'+this.groupName+'"><i class="bh-choice-helper"></i><b>'+this.groupName+'</b></label><span class="bh-text-caption bh-color-caption">已选择：<span class="bh-color-warning">'+r+"</span></span></div></div>"),n+='<div class="bh-customize-column-grid bh-bColor-info-3"><ul class="bh-clearfix" style="list-style:none">'+t.join("")+"</ul></div>"});var o=i+n,s=e.title||"添加/删除字段",l=[{text:"保存",className:"bh-btn-primary",callback:function(){r.call(this,e)}},{text:"取消",className:"bh-btn-default",callback:$.noop}],d=$.extend({width:"944px"},e.params);return BH_UTILS.bhWindow(o,s,l,d)}function a(e){i(e),n(e)}function i(e){e.find(".bh-customize-column-search input").on("input",function(){var e=$(this).val(),t=0,a=$(this).closest(".content");a.find("li .bh-checkbox").each(function(){var a=$(this),i=a.attr("title");e&&i.indexOf(e)>-1&&(i=i.replace(e,'<i class="bh-bg-warning-3">'+e+"</i>"),t++),a.find(".filed-name").html(i)}),$(this).nextAll("span").text(e?"共"+t+"条":"")})}function n(e){e.find(".group-select input").on("change",function(){var e=$(this).prop("checked");$(this).closest(".group-select").next().find("input").prop("checked",e)})}function r(e){var t=[];$(this).find('li input[type="checkbox"]').each(function(){t.push({name:$(this).attr("name"),hidden:!$(this).prop("checked")})}),e.callback&&e.callback.call(this,t)}$.bhCustomizeColumn=function(t){var a=$.extend({},$.bhCustomizeColumn["default"],t);return new e(a)},$.bhCustomizeColumn["default"]={modelType:"grid"};var o=e.prototype;o.getValue=function(){var e={};return this.$element.find('li input[type="checkbox"]').each(function(){e[$(this).attr("name")]={hidden:!$(this).prop("checked")}}),e}}.call(this),function(){var e,t=function(t,a){return a.mode&&(a.model=a.mode),this.options=$.extend({},$.fn.bhDateTimePicker.defaults,a),this.$element=$(t),e(this.$element,this.options),this};t.prototype.val=function(e){return this.$element.bhDateTimePicker(void 0===e?"getValue":"setValue")},t.prototype.setValue=function(e){return $('[bh-form-role="dateTimeInput"]',this.$element).val(e),this.$element},t.prototype.getValue=function(){return $('[bh-form-role="dateTimeInput"]',this.$element).val()},t.prototype.disabled=function(e){var t=this.$element;return e===!0?(t.addClass("bh-disabled"),$('[bh-form-role="dateTimeInput"]',t).attr("disabled",!0)):e===!1&&(t.removeClass("bh-disabled"),$('[bh-form-role="dateTimeInput"]',t).attr("disabled",!1)),t},e=function(e,t){e.html('<input bh-form-role="dateTimeInput" type="text" class="bh-form-control"/><span class="bhtc-input-group-addon"><i class="iconfont icon-daterange"></i></span>').addClass("bhtc-input-group"),$("[bh-form-role=dateTimeInput]",e).datetimepicker(t),$("[bh-form-role=dateTimeInput]",e).on("blur",function(){e.trigger("dateInputBlur")})},$.fn.bhDateTimePicker=function(e,a){var i;return i=this.data("bhdatetimepicker"),i?e===!0?i:"string"===$.type(e)?i[e](a):this:this.each(function(){return $(this).data("bhdatetimepicker",new t(this,e))})},$.fn.bhDateTimePicker.defaults={format:"yyyy-mm-dd"},$.fn.bhDateTimePicker.prototype.constructor=t}.call(this),function(){var e,t=function(t,a){return a.mode&&(a.model=a.mode),this.options=$.extend({},$.fn.bhDateTimePicker.defaults,a),this.$element=$(t),e(this.$element,this.options),this};t.prototype.val=function(e){return this.$element.bhDateTimePicker(void 0===e?"getValue":"setValue")},t.prototype.setValue=function(e){return $('[bh-form-role="dateTimeInput"]',this.$element).val(e),this.$element},t.prototype.getValue=function(){return $('[bh-form-role="dateTimeInput"]',this.$element).val()},t.prototype.disabled=function(e){var t=this.$element;return e===!0?(t.addClass("bh-disabled"),$('[bh-form-role="dateTimeInput"]',t).attr("disabled",!0)):e===!1&&(t.removeClass("bh-disabled"),$('[bh-form-role="dateTimeInput"]',t).attr("disabled",!1)),t},e=function(e,t){e.html('<input bh-form-role="dateTimeInput" type="text" class="bh-form-control"/><span class="bhtc-input-group-addon"><i class="iconfont icon-daterange"></i></span>').addClass("bhtc-input-group"),$("[bh-form-role=dateTimeInput]",e).datetimepicker(t),$("[bh-form-role=dateTimeInput]",e).on("blur",function(){e.trigger("dateInputBlur")})},$.fn.bhDateTimePicker=function(e,a){var i;return i=this.data("bhdatetimepicker"),i?e===!0?i:"string"===$.type(e)?i[e](a):this:this.each(function(){return $(this).data("bhdatetimepicker",new t(this,e))})},$.fn.bhDateTimePicker.defaults={format:"yyyy-mm-dd"},$.fn.bhDateTimePicker.prototype.constructor=t}.call(this),function(){$.bhDefaults=$.bhDefaults||{},$.bhDefaults.Dialog={type:"",title:"",content:"",buttons:[],width:"auto",height:"auto"},$.bhDialog=function(e){var t=$("body"),a=$.extend({},$.bhDefaults.Dialog,e||{}),i={},n={_init:function(){var e=$("<div></div>"),i=n.NewGuid();e.attr("id","dialog"+i);var r=$("<div class='bh-modal'></div>"),o=$("<div class='bh-pop bh-card bh-card-lv4 bh-dialog-con'></div>");a.className&&o.addClass(a.className),n._createDialogIcon(o),n._createDialogBody(o,i),n._createDialogBtn(o,i),r.append(o),e.append(r),e.append($('<div class="bh-modal-backdrop"></div>')),t.append(e),n._resetPos(o),n._checkScrollbar(),t.addClass("bh-has-modal-body")},_resetPos:function(e){var t=document.documentElement.clientHeight,a=e.height();e.css("margin-top",(t-a)/2)},_checkScrollbar:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}var a=document.body.clientWidth<e,i=n._measureScrollbar();n._setScrollbar(a,i)},_setScrollbar:function(e,a){var n=parseInt(t.css("padding-right")||0,10);i.originalBodyPad=document.body.style.paddingRight||"",e&&t.css("padding-right",n+a)},_resetScrollbar:function(){t.css("padding-right",i.originalBodyPad)},_measureScrollbar:function(){var e=document.createElement("div");e.className="bh-modal-scrollbar-measure",t.append(e);var a=e.offsetWidth-e.clientWidth;return t[0].removeChild(e),a},_removeDialog:function(e){$("#dialog"+e).remove(),n._resetScrollbar(),t.removeClass("bh-has-modal-body")},_createDialogBody:function(e,t){var i=$("<div class='bh-dialog-content'></div>"),n=$('<div class="content"></div>');n.html(a.content),i.append(n),e.find("#bh-dialog-exceptBtn-chilid").append(i)},_createDialogBtn:function(e,t){var i=$('<div class="bh-dialog-center"></div>');if(a.buttons&&a.buttons.length>0)for(var r=a.buttons.length,o=0;r>o;o++){var s=n._createBtn(a.buttons[o],t);i.append(s)}else n._getDefalutDialog(t,i);n._setDialogClass(i),e.append(i)},_setDialogClass:function(e){var t="",i=e.find(".bh-dialog-btn");1==i.length?i.css("width","100%"):(t=i[0],"success"==a.type?$(t).addClass("bh-dialog-success-btn"):"warning"==a.type?$(t).addClass("bh-dialog-warning-btn"):"danger"==a.type&&$(t).addClass("bh-dialog-danger-btn"))},_createBtn:function(e,t){var a=$("<a href='javascript:void(0);' class='bh-dialog-btn'></a>");return e&&e.text&&a.text(e.text),e&&e.className&&a.addClass(e.className),a.click(function(){n._removeDialog(t),e.callback&&e.callback()}),a},_getDefalutDialog:function(e,t){var i=[],r=[];return"success"==a.type?(i=n._createBtn({text:"关闭"},e),t.append(i)):"warning"==a.type?(r=[{text:"确定",callback:null},{text:"取消",callback:null}],n._appendDefaultDialog(r,t,e)):"danger"==a.type&&(r=[{text:"重试",callback:null},{text:"取消",callback:null}],n._appendDefaultDialog(r,t,e)),i},_appendDefaultDialog:function(e,t,a){for(var i=[],r=0;r<e.length;r++)i=n._createBtn(e[r],a),t.append(i)},_createDialogIcon:function(e){if(""!=a.type){var t=n._getDialogIconDom(a.type);e.append(t)}},_getDialogIconDom:function(e){var t="";"success"==e?t="checkcircle":"warning"==e?t="info":"danger"==e&&(t="cancel");var i='<div class="bh-dialog-exceptBtn-con bh-dialog-icon-color'+e+'" id="bh-dialog-exceptBtn-con"><div class="bh-dialog-exceptBtn-chilid" id="bh-dialog-exceptBtn-chilid"><div class="bh-dialog-img-con bh-mb-16"><i class="iconfont icon-setstyle icon-'+t+'"></i></div><h2 class="bh-dialog-title-text bh-mb-16">'+a.title+"</h2></div></div>";return i},NewGuid:function(){return n.S4()+n.S4()+"-"+n.S4()+"-"+n.S4()+"-"+n.S4()+"-"+n.S4()+n.S4()+n.S4()},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}};""==a.type&&a.iconType&&(a.type=a.iconType),(""===a.content||void 0===a.content)&&(a.content=a.title,a.title="提示"),n._init()}}.call(this),function(){$.bhPopOver=function(e){$("#bhPopover").length&&$("#bhPopover").remove(),e=$.extend({},$.bhPopOver.prototype.dafaults,e),"string"==typeof e.selector&&(e.selector=$(e.selector));var t=$('<div style="display: none" id="bhPopover"><div>'+e.content+"</div></div>");$("body").append(t);var a=document.documentElement.clientWidth,i=$(e.selector).offset().left,n=e.width||300,r=0;24>i-n/2&&(r=Math.abs(i-n/2-24)),i+n/2>a-24&&(r=a-100-i-n/2);var o=$(e.selector).offset().top,s=0,l="bottom";window.scrollY+document.documentElement.clientHeight-o<200&&(l="top",s=30),t.jqxPopover({offset:{left:r,top:s},arrowOffsetValue:-r,showArrow:e.showArrow,autoClose:e.autoClose,isModal:e.isModal,title:e.title,selector:e.selector,width:e.width,height:e.height,showCloseButton:e.showCloseButton,position:l}),setTimeout(function(){t.jqxPopover("open");var a=$("#bhPopover");(null==e.title||""==e.title)&&($(".jqx-popover-title h4",a).hide(),$(".jqx-popover-title",a).css("padding-top","6px")),a.on("close",function(){e.beforeClose&&e.beforeClose(a),$(this).jqxPopover("destroy"),e.close&&e.close(a)}),e.ready&&e.ready(a)},0)},$.bhPopOver.close=function(){var e=$("#bhPopover");e.length&&e.jqxPopover("close")},$.bhPopOver.prototype.dafaults={width:300,height:null,autoClose:!0,showCloseButton:!0,isModal:!1,ready:null,beforeClose:null,close:null}}(),function(e){function t(e,t){k.ele=t,k.width=e.width,k.type=e.type,k.max=e.max,k.min=e.min,k.value=e.value,k.step=e.step,k.disabled=e.disabled,k.rangeNum=k.max-k.min,k.fraction=k.rangeNum/k.step,k.isRange="range"===e.type,a(),n(),h(),g()}function a(){k.guid=y();var e='<div class="bh-slider-base"></div><div class="bh-slider-value"></div><div class="bh-slider-dot" flag="unactive"></div>';k.ele.html(e),k.ele.attr("bh-slider-guid",k.guid),
k.baseEle=k.ele.find(".bh-slider-base"),k.valueEle=k.ele.find(".bh-slider-value"),k.isRange&&i(),k.dot=k.ele.find(".bh-slider-dot")}function i(){var e='<div class="bh-slider-dot" flag="unactive"></div>';k.valueEle.before(e)}function n(){k.baseEle.parent().addClass("bh-slider-container"),k.baseEle.css("width",k.width),k.baseWidth=k.baseEle.width(),k.stepEDis=k.baseWidth/k.fraction,k.tipTop=k.valueEle.offset().top,k.nomalLeft=k.ele.offset().left,r(),l()}function r(){k.isRange?s():o()}function o(){var e=v(k.value);k.dot.css("left",e+"px"),k.valueEle.css("width",e+"px")}function s(){var t=k.value[1]-k.value[0],a=v(k.value[0]),i=v(k.value[1]),n=v(t);e(k.dot[0]).css("left",a+"px"),e(k.dot[1]).css("left",i+"px"),k.valueEle.css("width",n),k.valueEle.css("left",a+8+"px")}function l(){k.disabled?d():c()}function d(){k.baseEle.addClass("bh-slider-disable-base"),k.valueEle.addClass("bh-slider-disable-variety"),k.dot.each(function(t){var a=e(k.dot[t]);a.addClass("bh-slider-disable-dot")})}function c(){k.baseEle.addClass("bh-slider-active-base"),k.valueEle.addClass("bh-slider-active-variety"),k.dot.each(function(t){var a=e(k.dot[t]);a.addClass("bh-slider-active-dot")})}function h(){var t='<div class="bh-slider-tip bh-animate-opacity" bh-slider-guid="'+k.guid+'"></div>';e("body").append(t);var a=e('[bh-slider-guid="'+k.guid+'"]');k.tip=a.filter(function(t){return e(a[t]).hasClass("bh-slider-tip")?e(a[t]):""})}function u(){var e=k.ele.find('.bh-slider-dot[flag="active"]'),t=f(e),a=p(e);k.tip.text(t).css({left:a.left+"px",top:a.top+"px"})}function f(e){var t=0,a=e.offset().left-k.nomalLeft,i=Math.round(a/k.stepEDis);return t=i*k.step}function p(e){var t=parseInt(e.width()/2,10),a=e.offset(),i=a.left+t,n=parseInt(k.tip.width()/2,10),r=k.tip.height(),o=i-n,s=a.top-r-8-2;return{top:s,left:o}}function m(){k.disabled||(C=!0)}function b(e){var t=k.valueEle.width(),a=k.ele.find('.bh-slider-dot[flag="active"]'),i=a.offset().left-k.nomalLeft,n=v(e,!0);if(!(0>n||n>k.baseWidth)){var r=n;if(k.isRange){var o=k.ele.find('.bh-slider-dot[flag="unactive"]');unactiveDot_left=o.offset().left-k.nomalLeft,n-=unactiveDot_left,0>n&&(n=-n),i<unactiveDot_left?k.valueEle.css("left",i+8+"px"):i>unactiveDot_left&&k.valueEle.css("left",unactiveDot_left+8+"px")}console.log("left="+(i-r)),console.log("width="+(n-t)),a.css("left",r),k.valueEle.css("width",n)}}function v(e,t){var a=e/k.step;return t&&(a=e/k.stepEDis),Math.round(a*k.stepEDis)}function g(){var t=(k.valueEle.width(),e("body"));k.dot.on("mouseover",function(t){C||(k.tip.css("opacity","1"),e(t.target).attr("flag","active")),u()}),k.dot.on("mouseout",function(t){C||(e(t.target).attr("flag","unactive"),k.tip.css("opacity","0"))}),k.dot.on("mousedown",function(t){e(t.target).attr("flag","active"),m()}),t.on("mouseup",function(){k.dot.each(function(t){var a=e(k.dot[t]);a.attr("flag","unactive")}),C=!1,k.tip.css("opacity","0")}),t.on("mousemove",function(e){C&&(b(e.pageX-k.nomalLeft),u())}),k.dot[0].ondragstart=function(e){C=!1},k.valueEle[0].ondragstart=function(e){C=!1},k.baseEle[0].ondragstart=function(e){C=!1}}function y(){return w()+w()+"-"+w()+"-"+w()+"-"+w()+"-"+w()+w()+w()}function w(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.fn.bhSlider=function(t,a){var i;if(i=this.data("bhSlider"),!i)return this.each(function(){return e(this).data("bhSlider",new x(this,t))});if(t===!0)return i;if("string"===e.type(t)){var n=i[t](a);return n}},e.fn.bhSlider.defaults={type:"default",width:"100%",min:0,max:100,step:1,value:50,disabled:!1};var x,k={},C=!1;x=function(){function a(a,i){this.settings=e.extend({},e.fn.bhSlider.defaults,i),this.$element=e(a),t(this.settings,this.$element)}return a}()}(jQuery),function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var a=function(a,i){var n,r,o,s,l,d,c,h={},u=!0,f=!1,p=!1,m=0,b=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],g=["top","bottom","auto"],y=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},k={},C=function(e){var a,n,r,o,s,l=!1;return void 0!==t.tz&&void 0!==i.timeZone&&null!==i.timeZone&&""!==i.timeZone&&(l=!0),void 0===e||null===e?a=l?t().tz(i.timeZone).startOf("d"):t().startOf("d"):l?(n=t().tz(i.timeZone).utcOffset(),r=t(e,d,i.useStrict).utcOffset(),r!==n?(o=t().tz(i.timeZone).format("Z"),s=t(e,d,i.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+o,a=t(s,d,i.useStrict).tz(i.timeZone)):a=t(e,d,i.useStrict).tz(i.timeZone)):a=t(e,d,i.useStrict),a},D=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},T=function(){return D("h")||D("m")||D("s")},_=function(){return D("y")||D("M")||D("d")},S=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("bhtc-prev").attr("data-action","previous").append(e("<span>").addClass(i.icons.previous))).append(e("<th>").addClass("bhtc-picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(e("<th>").addClass("bhtc-next").attr("data-action","next").append(e("<span>").addClass(i.icons.next)))),a=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[e("<div>").addClass("bhtc-datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("bhtc-datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("bhtc-datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("bhtc-datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone()))]},I=function(){var t=e("<tr>"),a=e("<tr>"),n=e("<tr>");return D("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("bhtc-btn").attr("data-action","incrementHours").append(e("<span>").addClass(i.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),n.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("bhtc-btn").attr("data-action","decrementHours").append(e("<span>").addClass(i.icons.down))))),D("m")&&(D("h")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),n.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("bhtc-btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(i.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),n.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("bhtc-btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(i.icons.down))))),D("s")&&(D("m")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),n.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("bhtc-btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(i.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),n.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("bhtc-btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(i.icons.down))))),e("<div>").addClass("bhtc-timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,a,n])).append(e("<div>").addClass("bhtc-toggle-period").append(e("<button>").addClass("bh-btn bh-btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod})))},B=function(){var t=e("<div>").addClass("bhtc-timepicker-hours").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("bhtc-timepicker-minutes").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("bhtc-timepicker-seconds").append(e("<table>").addClass("table-condensed")),n=[I()];return D("h")&&n.push(t),D("m")&&n.push(a),D("s")&&n.push(i),n},M=function(){var t=[];return i.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(e("<span>").addClass(i.icons.today)))),!i.sideBySide&&_()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(e("<span>").addClass(i.icons.time)))),i.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(e("<span>").addClass(i.icons.clear)))),i.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(e("<span>").addClass(i.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},P=function(){var t=e("<div>").addClass("bhtc-datetimepicker-widget bhtc-dropdown-menu"),a=e("<div>").addClass("bhtc-datepicker").append(S()),n=e("<div>").addClass("bhtc-timepicker").append(B()),r=e("<ul>").addClass("bhtc-list-unstyled"),o=e("<li>").addClass("bhtc-picker-switch"+(i.collapse?" accordion-toggle":"")).append(M());return i.inline&&t.removeClass("bhtc-dropdown-menu"),s&&t.addClass("bhtc-usetwentyfour"),D("s")&&!s&&t.addClass("wider"),i.sideBySide&&_()&&T()?(t.addClass("bhtc-timepicker-sbs"),"top"===i.toolbarPlacement&&t.append(o),t.append(e("<div>").addClass("row").append(a.addClass("col-md-6")).append(n.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&t.append(o),t):("top"===i.toolbarPlacement&&r.append(o),_()&&r.append(e("<li>").addClass(i.collapse&&T()?"bhtc-collapse in":"").append(a)),"default"===i.toolbarPlacement&&r.append(o),T()&&r.append(e("<li>").addClass(i.collapse&&_()?"bhtc-collapse":"").append(n)),"bottom"===i.toolbarPlacement&&r.append(o),t.append(r))},H=function(){var t,n={};return t=a.is("input")||i.inline?a.data():a.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(n=e.extend(!0,n,t.dateOptions)),e.each(i,function(e){var a="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[a]&&(n[e]=t[a])}),n},A=function(){var t,n=(a.position(),a.offset()),r=i.widgetPositioning.vertical,o=i.widgetPositioning.horizontal;if(i.widgetParent)t=i.widgetParent;else if(a.is("input"))t=a.parent();else{if(i.inline)return void(t=a);t=a}if(e("body").append(p),"auto"===r&&(r=n.top+1.5*p.height()>=e(window).height()+e(window).scrollTop()&&p.height()+a.outerHeight()<n.top?"top":"bottom"),"auto"===o&&(o=t.width()<n.left+p.outerWidth()/2&&n.left+p.outerWidth()>e(window).width()?"right":"left"),"top"===r?p.addClass("bhtc-top").removeClass("bhtc-bottom"):p.addClass("bhtc-bottom").removeClass("bhtc-top"),"right"===o?p.addClass("bhtc-pull-right"):p.removeClass("bhtc-pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");p.css({top:"top"===r?n.top-p.outerHeight()-8:n.top+a.outerHeight()+8,left:"left"===o?t===a?0:n.left:"auto",right:"left"===o?"auto":t.outerWidth()-a.outerWidth()-(t===a?0:n.left)})},Y=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||a.trigger(e)},E=function(e){"y"===e&&(e="YYYY"),Y({type:"dp.update",change:e,viewDate:r.clone()})},O=function(e){p&&(e&&(c=Math.max(m,Math.min(3,c+e))),p.find(".bhtc-datepicker > div").hide().filter(".bhtc-datepicker-"+b[c].clsName).show())},z=function(){var t=e("<tr>"),a=r.clone().startOf("w").startOf("d");for(i.calendarWeeks===!0&&t.append(e("<th>").addClass("bhtc-cw").text("#"));a.isBefore(r.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(a.format("dd"))),a.add(1,"d");p.find(".bhtc-datepicker-days thead").append(t)},L=function(e){return i.disabledDates[e.format("YYYY-MM-DD")]===!0},j=function(e){return i.enabledDates[e.format("YYYY-MM-DD")]===!0},N=function(e){return i.disabledHours[e.format("H")]===!0},F=function(e){return i.enabledHours[e.format("H")]===!0},W=function(t,a){if(!t.isValid())return!1;if(i.disabledDates&&"d"===a&&L(t))return!1;if(i.enabledDates&&"d"===a&&!j(t))return!1;if(i.minDate&&t.isBefore(i.minDate,a))return!1;if(i.maxDate&&t.isAfter(i.maxDate,a))return!1;if(i.daysOfWeekDisabled&&"d"===a&&-1!==i.daysOfWeekDisabled.indexOf(t.day()))return!1;if(i.disabledHours&&("h"===a||"m"===a||"s"===a)&&N(t))return!1;if(i.enabledHours&&("h"===a||"m"===a||"s"===a)&&!F(t))return!1;if(i.disabledTimeIntervals&&("h"===a||"m"===a||"s"===a)){var n=!1;if(e.each(i.disabledTimeIntervals,function(){return t.isBetween(this[0],this[1])?(n=!0,!1):void 0}),n)return!1}return!0},$=function(){for(var t=[],a=r.clone().startOf("y").startOf("d");a.isSame(r,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(a.format("MMM"))),a.add(1,"M");p.find(".bhtc-datepicker-months td").empty().append(t)},q=function(){var t=p.find(".bhtc-datepicker-months"),a=t.find("th"),o=t.find("tbody").find("span");a.eq(0).find("span").attr("title",i.tooltips.prevYear),a.eq(1).attr("title",i.tooltips.selectYear),a.eq(2).find("span").attr("title",i.tooltips.nextYear),t.find(".bhtc-disabled").removeClass("bhtc-disabled"),W(r.clone().subtract(1,"y"),"y")||a.eq(0).addClass("bhtc-disabled"),a.eq(1).text(r.year()),W(r.clone().add(1,"y"),"y")||a.eq(2).addClass("bhtc-disabled"),o.removeClass("bhtc-active"),n.isSame(r,"y")&&!u&&o.eq(n.month()).addClass("bhtc-active"),o.each(function(t){W(r.clone().month(t),"M")||e(this).addClass("bhtc-disabled")})},G=function(){var e=p.find(".bhtc-datepicker-years"),t=e.find("th"),a=r.clone().subtract(5,"y"),o=r.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",i.tooltips.prevDecade),t.eq(1).attr("title",i.tooltips.selectDecade),t.eq(2).find("span").attr("title",i.tooltips.nextDecade),e.find(".bhtc-disabled").removeClass("bhtc-disabled"),i.minDate&&i.minDate.isAfter(a,"y")&&t.eq(0).addClass("bhtc-disabled"),t.eq(1).text(a.year()+"-"+o.year()),i.maxDate&&i.maxDate.isBefore(o,"y")&&t.eq(2).addClass("bhtc-disabled");!a.isAfter(o,"y");)s+='<span data-action="selectYear" class="year'+(a.isSame(n,"y")&&!u?" bhtc-active":"")+(W(a,"y")?"":" bhtc-disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(s)},R=function(){var e=p.find(".bhtc-datepicker-decades"),a=e.find("th"),o=t({y:r.year()-r.year()%100-1}),s=o.clone().add(100,"y"),l=o.clone(),d="";for(a.eq(0).find("span").attr("title",i.tooltips.prevCentury),a.eq(2).find("span").attr("title",i.tooltips.nextCentury),e.find(".bhtc-disabled").removeClass("bhtc-disabled"),(o.isSame(t({y:1900}))||i.minDate&&i.minDate.isAfter(o,"y"))&&a.eq(0).addClass("bhtc-disabled"),a.eq(1).text(o.year()+"-"+s.year()),(o.isSame(t({y:2e3}))||i.maxDate&&i.maxDate.isBefore(s,"y"))&&a.eq(2).addClass("bhtc-disabled");!o.isAfter(s,"y");)d+='<span data-action="selectDecade" class="decade'+(o.isSame(n,"y")?" bhtc-active":"")+(W(o,"y")?"":" bhtc-disabled")+'" data-selection="'+(o.year()+6)+'">'+(o.year()+1)+" - "+(o.year()+12)+"</span>",o.add(12,"y");d+="<span></span><span></span><span></span>",e.find("td").html(d),a.eq(1).text(l.year()+1+"-"+o.year())},U=function(){var t,a,o,s,l=p.find(".bhtc-datepicker-days"),d=l.find("th"),c=[];if(_()){for(d.eq(0).find("span").attr("title",i.tooltips.prevMonth),d.eq(1).attr("title",i.tooltips.selectMonth),d.eq(2).find("span").attr("title",i.tooltips.nextMonth),l.find(".bhtc-disabled").removeClass("bhtc-disabled"),d.eq(1).text(r.format(i.dayViewHeaderFormat)),W(r.clone().subtract(1,"M"),"M")||d.eq(0).addClass("bhtc-disabled"),W(r.clone().add(1,"M"),"M")||d.eq(2).addClass("bhtc-disabled"),t=r.clone().startOf("M").startOf("w").startOf("d"),s=0;42>s;s++)0===t.weekday()&&(a=e("<tr>"),i.calendarWeeks&&a.append('<td class="bhtc-cw">'+t.week()+"</td>"),c.push(a)),o="",t.isBefore(r,"M")&&(o+=" bhtc-old"),t.isAfter(r,"M")&&(o+=" bhtc-new"),t.isSame(n,"d")&&!u&&(o+=" bhtc-active"),W(t,"d")||(o+=" bhtc-disabled"),t.isSame(C(),"d")&&(o+=" today"),(0===t.day()||6===t.day())&&(o+=" weekend"),a.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+o+'">'+t.date()+"</td>"),t.add(1,"d");l.find("tbody").empty().append(c),q(),G(),R()}},V=function(){var t=p.find(".bhtc-timepicker-hours table"),a=r.clone().startOf("d"),i=[],n=e("<tr>");for(r.hour()>11&&!s&&a.hour(12);a.isSame(r,"d")&&(s||r.hour()<12&&a.hour()<12||r.hour()>11);)a.hour()%4===0&&(n=e("<tr>"),i.push(n)),n.append('<td data-action="selectHour" class="hour'+(W(a,"h")?"":" bhtc-disabled")+'">'+a.format(s?"HH":"hh")+"</td>"),a.add(1,"h");t.empty().append(i)},Q=function(){for(var t=p.find(".bhtc-timepicker-minutes table"),a=r.clone().startOf("h"),n=[],o=e("<tr>"),s=1===i.stepping?5:i.stepping;r.isSame(a,"h");)a.minute()%(4*s)===0&&(o=e("<tr>"),n.push(o)),o.append('<td data-action="selectMinute" class="minute'+(W(a,"m")?"":" bhtc-disabled")+'">'+a.format("mm")+"</td>"),a.add(s,"m");t.empty().append(n)},Z=function(){for(var t=p.find(".bhtc-timepicker-seconds table"),a=r.clone().startOf("m"),i=[],n=e("<tr>");r.isSame(a,"m");)a.second()%20===0&&(n=e("<tr>"),i.push(n)),n.append('<td data-action="selectSecond" class="second'+(W(a,"s")?"":" bhtc-disabled")+'">'+a.format("ss")+"</td>"),a.add(5,"s");t.empty().append(i)},J=function(){var e,t,a=p.find(".bhtc-timepicker span[data-time-component]");s||(e=p.find(".bhtc-timepicker [data-action=togglePeriod]"),t=n.clone().add(n.hours()>=12?-12:12,"h"),e.text(n.format("A")),W(t,"h")?e.removeClass("bhtc-disabled"):e.addClass("bhtc-disabled")),a.filter("[data-time-component=hours]").text(n.format(s?"HH":"hh")),a.filter("[data-time-component=minutes]").text(n.format("mm")),a.filter("[data-time-component=seconds]").text(n.format("ss")),V(),Q(),Z()},K=function(){p&&(U(),J())},X=function(e){var t=u?null:n;return e?(e=e.clone().locale(i.locale),1!==i.stepping&&e.minutes(Math.round(e.minutes()/i.stepping)*i.stepping%60).seconds(0),void(W(e)?(n=e,r=n.clone(),o.val(n.format(l)),a.data("date",n.format(l)),u=!1,K(),Y({type:"dp.change",date:n.clone(),oldDate:t})):(i.keepInvalid||o.val(u?"":n.format(l)),Y({type:"dp.error",date:e})))):(u=!0,o.val(""),a.data("date",""),Y({type:"dp.change",date:!1,oldDate:t}),void K())},ee=function(){var t=!1;return p?(p.find(".bhtc-collapse").each(function(){var a=e(this).data("collapse");return a&&a.transitioning?(t=!0,!1):!0}),t?h:(f&&f.hasClass("bhtc-btn")&&f.toggleClass("bhtc-active"),p.hide(),e(window).off("resize",A),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,Y({type:"dp.hide",date:n.clone()}),o.blur(),h)):h},te=function(){X(null)},ae={next:function(){var e=b[c].navFnc;r.add(b[c].navStep,e),U(),E(e)},previous:function(){var e=b[c].navFnc;r.subtract(b[c].navStep,e),U(),E(e)},pickerSwitch:function(){O(1)},selectMonth:function(t){var a=e(t.target).closest("tbody").find("span").index(e(t.target));r.month(a),c===m?(X(n.clone().year(r.year()).month(r.month())),i.inline||ee()):(O(-1),U()),E("M")},selectYear:function(t){var a=parseInt(e(t.target).text(),10)||0;r.year(a),c===m?(X(n.clone().year(r.year())),i.inline||ee()):(O(-1),U()),E("YYYY")},selectDecade:function(t){var a=parseInt(e(t.target).data("selection"),10)||0;r.year(a),c===m?(X(n.clone().year(r.year())),i.inline||ee()):(O(-1),U()),E("YYYY")},selectDay:function(t){var a=r.clone();e(t.target).is(".bhtc-old")&&a.subtract(1,"M"),e(t.target).is(".bhtc-new")&&a.add(1,"M"),X(a.date(parseInt(e(t.target).text(),10))),T()||i.keepOpen||i.inline||ee()},incrementHours:function(){var e=n.clone().add(1,"h");W(e,"h")&&X(e)},incrementMinutes:function(){var e=n.clone().add(i.stepping,"m");W(e,"m")&&X(e)},incrementSeconds:function(){var e=n.clone().add(1,"s");W(e,"s")&&X(e)},decrementHours:function(){var e=n.clone().subtract(1,"h");W(e,"h")&&X(e)},decrementMinutes:function(){var e=n.clone().subtract(i.stepping,"m");W(e,"m")&&X(e)},decrementSeconds:function(){var e=n.clone().subtract(1,"s");W(e,"s")&&X(e)},togglePeriod:function(){X(n.clone().add(n.hours()>=12?-12:12,"h"))},togglePicker:function(t){var a,n=e(t.target),r=n.closest("ul"),o=r.find(".in"),s=r.find(".bhtc-collapse:not(.in)");if(o&&o.length){if(a=o.data("collapse"),a&&a.transitioning)return;o.collapse?(o.collapse("hide"),s.collapse("show")):(o.removeClass("in"),s.addClass("in")),n.is("span")?n.toggleClass(i.icons.time+" "+i.icons.date):n.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){p.find(".bhtc-timepicker > div:not(.bhtc-timepicker-picker)").hide(),p.find(".bhtc-timepicker .bhtc-timepicker-picker").show()},showHours:function(){p.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(),p.find(".bhtc-timepicker .bhtc-timepicker-hours").show()},showMinutes:function(){p.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(),p.find(".bhtc-timepicker .bhtc-timepicker-minutes").show()},showSeconds:function(){p.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(),p.find(".bhtc-timepicker .bhtc-timepicker-seconds").show()},selectHour:function(t){var a=parseInt(e(t.target).text(),10);s||(n.hours()>=12?12!==a&&(a+=12):12===a&&(a=0)),X(n.clone().hours(a)),ae.showPicker.call(h)},selectMinute:function(t){X(n.clone().minutes(parseInt(e(t.target).text(),10))),ae.showPicker.call(h)},selectSecond:function(t){X(n.clone().seconds(parseInt(e(t.target).text(),10))),ae.showPicker.call(h)},clear:te,today:function(){var e=C();W(e,"d")&&X(e)},close:ee},ie=function(t){return e(t.currentTarget).is(".bhtc-disabled")?!1:(ae[e(t.currentTarget).data("action")].apply(h,arguments),!1)},ne=function(){var t,a={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return o.prop("bhtc-disabled")||!i.ignoreReadonly&&o.prop("readonly")||p?h:(void 0!==o.val()&&0!==o.val().trim().length?X(oe(o.val().trim())):i.useCurrent&&u&&(o.is("input")&&0===o.val().trim().length||i.inline)&&(t=C(),"string"==typeof i.useCurrent&&(t=a[i.useCurrent](t)),X(t)),p=P(),z(),$(),p.find(".bhtc-timepicker-hours").hide(),p.find(".bhtc-timepicker-minutes").hide(),p.find(".bhtc-timepicker-seconds").hide(),K(),O(),e(window).on("resize",A),p.on("click","[data-action]",ie),p.on("mousedown",!1),f&&f.hasClass("bhtc-btn")&&f.toggleClass("bhtc-active"),p.show(),A(),i.focusOnShow&&!o.is(":focus")&&o.focus(),Y({type:"dp.show"}),h)},re=function(){return p?ee():ne()},oe=function(e){return e=void 0===i.parseInputDate?t.isMoment(e)||e instanceof Date?t(e):C(e):i.parseInputDate(e),e.locale(i.locale),e},se=function(e){var t,a,n,r,o=null,s=[],l={},d=e.which,c="p";k[d]=c;for(t in k)k.hasOwnProperty(t)&&k[t]===c&&(s.push(t),parseInt(t,10)!==d&&(l[t]=!0));for(t in i.keyBinds)if(i.keyBinds.hasOwnProperty(t)&&"function"==typeof i.keyBinds[t]&&(n=t.split(" "),n.length===s.length&&x[d]===n[n.length-1])){for(r=!0,a=n.length-2;a>=0;a--)if(!(x[n[a]]in l)){r=!1;break}if(r){o=i.keyBinds[t];break}}o&&(o.call(h,p),e.stopPropagation(),e.preventDefault())},le=function(e){k[e.which]="r",e.stopPropagation(),e.preventDefault()},de=function(t){var a=e(t.target).val().trim(),i=a?oe(a):null;return X(i),t.stopImmediatePropagation(),!1},ce=function(){o.on({change:de,blur:i.debug?"":ee,keydown:se,keyup:le,focus:i.allowInputToggle?ne:""}),a.is("input")?o.on({focus:ne}):f&&(f.on("click",re),f.on("mousedown",!1))},he=function(){o.off({change:de,blur:blur,keydown:se,keyup:le,focus:i.allowInputToggle?ee:""}),a.is("input")?o.off({focus:ne}):f&&(f.off("click",re),f.off("mousedown",!1))},ue=function(t){var a={};return e.each(t,function(){var e=oe(this);e.isValid()&&(a[e.format("YYYY-MM-DD")]=!0)}),Object.keys(a).length?a:!1},fe=function(t){var a={};return e.each(t,function(){a[this]=!0}),Object.keys(a).length?a:!1},pe=function(){var e=i.format||"L LT";l=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=n.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return n.localeData().longDateFormat(e)||e})}),d=i.extraFormats?i.extraFormats.slice():[],d.indexOf(e)<0&&d.indexOf(l)<0&&d.push(l),s=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,D("y")&&(m=2),D("M")&&(m=1),D("d")&&(m=0),c=Math.max(m,c),u||X(n)};if(h.destroy=function(){ee(),he(),a.removeData("DateTimePicker"),a.removeData("date")},h.toggle=re,h.show=ne,h.hide=ee,h.disable=function(){return ee(),f&&f.hasClass("bhtc-btn")&&f.addClass("bhtc-disabled"),o.prop("bhtc-disabled",!0),h},h.enable=function(){return f&&f.hasClass("bhtc-btn")&&f.removeClass("bhtc-disabled"),o.prop("bhtc-disabled",!1),h},h.ignoreReadonly=function(e){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=e,h},h.options=function(t){if(0===arguments.length)return e.extend(!0,{},i);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,i,t),e.each(i,function(e,t){if(void 0===h[e])throw new TypeError("option "+e+" is not recognized!");h[e](t)}),h},h.date=function(e){if(0===arguments.length)return u?null:n.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return X(null===e?null:oe(e)),h},h.format=function(e){if(0===arguments.length)return i.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return i.format=e,l&&pe(),h},h.timeZone=function(e){return 0===arguments.length?i.timeZone:(i.timeZone=e,h)},h.dayViewHeaderFormat=function(e){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=e,h},h.extraFormats=function(e){if(0===arguments.length)return i.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=e,d&&pe(),h},h.disabledDates=function(t){if(0===arguments.length)return i.disabledDates?e.extend({},i.disabledDates):i.disabledDates;if(!t)return i.disabledDates=!1,K(),h;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=ue(t),i.enabledDates=!1,K(),h},h.enabledDates=function(t){if(0===arguments.length)return i.enabledDates?e.extend({},i.enabledDates):i.enabledDates;if(!t)return i.enabledDates=!1,K(),h;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=ue(t),i.disabledDates=!1,K(),h},h.daysOfWeekDisabled=function(e){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return i.daysOfWeekDisabled=!1,K(),h;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var t=0;!W(n,"d");){if(n.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}X(n)}return K(),h},h.maxDate=function(e){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof e&&e===!1)return i.maxDate=!1,K(),h;"string"==typeof e&&("now"===e||"moment"===e)&&(e=C());var t=oe(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(i.minDate&&t.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(l));return i.maxDate=t,i.useCurrent&&!i.keepInvalid&&n.isAfter(e)&&X(i.maxDate),r.isAfter(t)&&(r=t.clone().subtract(i.stepping,"m")),K(),h},h.minDate=function(e){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof e&&e===!1)return i.minDate=!1,K(),h;"string"==typeof e&&("now"===e||"moment"===e)&&(e=C());var t=oe(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(i.maxDate&&t.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(l));return i.minDate=t,i.useCurrent&&!i.keepInvalid&&n.isBefore(e)&&X(i.minDate),r.isBefore(t)&&(r=t.clone().add(i.stepping,"m")),K(),h},h.defaultDate=function(e){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!e)return i.defaultDate=!1,h;"string"==typeof e&&("now"===e||"moment"===e)&&(e=C());var t=oe(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!W(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=t,(i.defaultDate&&i.inline||""===o.val().trim())&&X(i.defaultDate),h},h.locale=function(e){if(0===arguments.length)return i.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return i.locale=e,n.locale(i.locale),r.locale(i.locale),l&&pe(),p&&(ee(),ne()),h},h.stepping=function(e){return 0===arguments.length?i.stepping:(e=parseInt(e,10),(isNaN(e)||1>e)&&(e=1),i.stepping=e,h)},h.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return i.useCurrent=e,h},h.collapse=function(e){if(0===arguments.length)return i.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===e?h:(i.collapse=e,p&&(ee(),ne()),h)},h.icons=function(t){if(0===arguments.length)return e.extend({},i.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(i.icons,t),p&&(ee(),ne()),h},h.tooltips=function(t){if(0===arguments.length)return e.extend({},i.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(i.tooltips,t),p&&(ee(),ne()),h},h.useStrict=function(e){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=e,h},h.sideBySide=function(e){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=e,p&&(ee(),ne()),h},h.viewMode=function(e){if(0===arguments.length)return i.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=e,c=Math.max(v.indexOf(e),m),
O(),h},h.toolbarPlacement=function(e){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return i.toolbarPlacement=e,p&&(ee(),ne()),h},h.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===y.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===g.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+g.join(", ")+")");i.widgetPositioning.vertical=t.vertical}return K(),h},h.calendarWeeks=function(e){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=e,K(),h},h.showTodayButton=function(e){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=e,p&&(ee(),ne()),h},h.showClear=function(e){if(0===arguments.length)return i.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=e,p&&(ee(),ne()),h},h.widgetParent=function(t){if(0===arguments.length)return i.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=t,p&&(ee(),ne()),h},h.keepOpen=function(e){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=e,h},h.focusOnShow=function(e){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=e,h},h.inline=function(e){if(0===arguments.length)return i.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return i.inline=e,h},h.clear=function(){return te(),h},h.keyBinds=function(e){return i.keyBinds=e,h},h.getMoment=function(e){return C(e)},h.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return i.debug=e,h},h.allowInputToggle=function(e){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=e,h},h.showClose=function(e){if(0===arguments.length)return i.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=e,h},h.keepInvalid=function(e){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=e,h},h.datepickerInput=function(e){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=e,h},h.parseInputDate=function(e){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=e,h},h.disabledTimeIntervals=function(t){if(0===arguments.length)return i.disabledTimeIntervals?e.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!t)return i.disabledTimeIntervals=!1,K(),h;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=t,K(),h},h.disabledHours=function(t){if(0===arguments.length)return i.disabledHours?e.extend({},i.disabledHours):i.disabledHours;if(!t)return i.disabledHours=!1,K(),h;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=fe(t),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var a=0;!W(n,"h");){if(n.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}X(n)}return K(),h},h.enabledHours=function(t){if(0===arguments.length)return i.enabledHours?e.extend({},i.enabledHours):i.enabledHours;if(!t)return i.enabledHours=!1,K(),h;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=fe(t),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var a=0;!W(n,"h");){if(n.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}X(n)}return K(),h},h.viewDate=function(e){if(0===arguments.length)return r.clone();if(!e)return r=n.clone(),h;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return r=oe(e),E(),h},a.is("input"))o=a;else if(o=a.find(i.datepickerInput),0===o.size())o=a.find("input");else if(!o.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("bhtc-input-group")&&(f=a.find(0===a.find(".bhtc-datepickerbutton").size()?".bhtc-input-group-addon":".bhtc-datepickerbutton")),!i.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return n=C(),r=n.clone(),e.extend(!0,i,H()),h.options(i),pe(),ce(),o.prop("bhtc-disabled")&&h.disable(),o.is("input")&&0!==o.val().trim().length?X(oe(o.val().trim())):i.defaultDate&&void 0===o.attr("placeholder")&&X(i.defaultDate),i.inline&&ne(),h};e.fn.datetimepicker=function(t){return this.each(function(){var i=e(this);i.data("DateTimePicker")||(t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),i.data("DateTimePicker",a(i,t)))})},e.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"YYYY MMMM",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:"zh-cn",defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"iconfont icon-accesstime",date:"iconfont icon-daterange",up:"iconfont icon-keyboardarrowup",down:"iconfont icon-keyboardarrowdown",previous:"iconfont icon-keyboardarrowleft",next:"iconfont icon-keyboardarrowright",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".bhtc-datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();this.date(e.find(".bhtc-datepicker").is(":visible")?t.clone().subtract(7,"d"):t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();this.date(e.find(".bhtc-datepicker").is(":visible")?t.clone().add(7,"d"):t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();this.date(e.find(".bhtc-datepicker").is(":visible")?t.clone().subtract(1,"y"):t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();this.date(e.find(".bhtc-datepicker").is(":visible")?t.clone().add(1,"y"):t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".bhtc-timepicker").is(":visible")&&e.find('.bhtc-btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}(jQuery,moment),function(e){"use strict";function t(t){var n=new Date,r=a(t,n),s=e(r);t.rangeBoxDom=s,t.$rootElement.html(s),o(s,t);var l=i(t,n),h=e(l);t.popupBoxDom=h;var u=e("body");u.append(h),c(t,n),d(t),u.on("click",function(a){var i=e(a.target||a.srcElement);if(i.closest('div[bh-time-picker-role="rangeBox"]').length>0||i.closest('div[bh-time-picker-role="selectBoxCont"]').length>0||i.closest("div.jqx-calendar").length>0||i.closest("div.jqx-listbox").length>0)return void u.removeData("bhTimePick");var n=t.rangeBoxDom;if(n.hasClass("bh-active")){if(u.data("bhTimePick"))return void u.removeData("bhTimePick");n.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click()}})}function a(e,t){var a,i;a=e.settings.time.start&&"today"!==e.settings.time.start?P(e.settings.time.start):t,i=e.settings.time.end&&"today"!==e.settings.time.end?P(e.settings.time.end):t;var n=_(a,e),r=_(i,e),o=n+"-"+r,s="";e.settings.width&&(s="width: "+parseInt(e.settings.width,10)+"px;");var l="";e.settings.isDisable&&(l='<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>');var d='<div class="bh-timePicker-rangeBox bh-clearfix" bh-time-picker-role="rangeBox" style="'+s+'"><div class="bh-timePicker-rangeBox-selectIcon bh-left" bh-time-picker-role="rangeBoxPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="rangeBoxSelectTime">'+o+'</div><div class="bh-timePicker-rangeBox-selectIcon bh-right" bh-time-picker-role="rangeBoxNext">&gt;</div>'+l+'</div><div class="bh-clearfix"></div>';return d}function i(e,t){var a=r(e,t),i=0,o=t.getFullYear(),s=e.settings.range.max&&"today"!==e.settings.range.max?P(e.settings.range.max).getFullYear():o,l=e.settings.range.min&&"today"!==e.settings.range.min?P(e.settings.range.min).getFullYear():o,d=e.settings.range.max&&o>=s,c=e.settings.range.min&&l>=o;i=s,i>o&&(i=o);var h='<div class="bh-timePick-selectBoxCont" bh-time-picker-role="selectBoxCont"><div class="bh-timePick-selectBox bh-card bh-card-lv2" bh-time-picker-role="selectBox"><ul class="bh-timePick-tab" bh-time-picker-role="selectTab"><li class="bh-timePick-tabItem bh-active">自定义选择</li><li class="bh-timePick-tabItem">按月选择</li></ul><div class="bh-timePick-tabContent" bh-time-picker-role="selectTabContent"><div class="bh-timePick-custom bh-active"><div class="bh-timePick-customTime bh-clearfix" bh-time-picker-role="selectCustom"><div class="bh-timePick-selectType" bh-time-picker-role="selectType"></div><div class="bhtc-input-group" bh-time-picker-role="selectStart">'+n()+'</div><div class="bh-timePick-selectConnect"></div><div class="bhtc-input-group" bh-time-picker-role="selectEnd">'+n()+'</div></div><a class="bh-btn bh-btn-primary bh-btn-block" bh-time-picker-role="selectOk" href="javascript:void(0);">确定</a></div><div class="bh-timePick-selectMonthCont" bh-time-picker-role="selectMonthBlock"><div class="bh-timePick-selectMonth bh-timePicker-rangeBox bh-clearfix"><div class="bh-timePicker-rangeBox-selectIcon bh-left '+(c?"bh-disabled":"")+'" bh-time-picker-role="selectMonthPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="selectMonthYear">'+i+'年</div><div class="bh-timePicker-rangeBox-selectIcon bh-right '+(d?"bh-disabled":"")+'" bh-time-picker-role="selectMonthNext">&gt;</div></div><div class="bh-timePicker-selectMonthList bh-clearfix" bh-time-picker-role="selectMonthList">'+a+"</div></div></div></div></div>";return h}function n(){var e='<input type="text" class="bh-form-control"/><span class="bhtc-input-group-addon"><i class="iconfont icon-daterange"></i></span>';return e}function r(e,t,a){var i="",n=t.getFullYear(),r=0,o=0,s=0,l=0;if(e.settings.range.max)if("today"!==e.settings.range.max){var d=P(e.settings.range.max);r=d.getFullYear(),o=d.getMonth()}else{var c=new Date;r=c.getFullYear(),o=c.getMonth()}if(e.settings.range.min)if("today"!==e.settings.range.min){var h=P(e.settings.range.min);s=h.getFullYear(),l=h.getMonth()}else{var c=new Date;s=c.getFullYear(),l=c.getMonth()}for(var u=0;12>u;u++){var f=u+1,p="";r&&s?s!==r?n>s&&r>n?p="bh-pre":s===n?u>=l&&(p="bh-pre"):n===r&&o>=u&&(p="bh-pre"):u>=l&&o>=u&&(p="bh-pre"):r?r>n?p="bh-pre":o>=u&&(p="bh-pre"):s?n>s?p="bh-pre":u>=l&&(p="bh-pre"):p="bh-pre",i+='<div class="bh-timePick-monthItem '+p+'" data-month="'+f+'" bh-time-picker-role="selectMonthItem">'+f+"月</div>"}return i}function o(t,a){t.on("click",function(i){a.$rootElement.removeData("selectType");var n=e(i.target||i.srcElement),r=n.attr("bh-time-picker-role");switch(r){case"rangeBoxPre":M("pre",a);break;case"rangeBoxNext":M("next",a);break;case"rangeBoxSelectTime":s(a,t)}})}function s(t,a){var i=t.popupBoxDom,n=i.children('div[bh-time-picker-role="selectBox"]');if(a.hasClass("bh-active"))l(t);else{var r=BH_UTILS.getElementPosition(a),o=9999,s={top:r.bottom,left:r.left+20,display:"block"},d=0;e("body").find(".jqx-window").each(function(){var t=parseInt(e(this).css("z-index"),10);t>d&&(d=t)}),d>o&&(s["z-index"]=d),i.css(s),a.addClass("bh-active"),setTimeout(function(){n.addClass("bh-active")},10)}}function l(e){var t=e.popupBoxDom,a=t.children('div[bh-time-picker-role="selectBox"]');a.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(),a.removeClass("bh-active"),setTimeout(function(){t.hide()},450),e.rangeBoxDom.removeClass("bh-active")}function d(t){t.popupBoxDom.on("click",".bh-timePick-tabItem",function(){var a=e(this);if(!a.hasClass("bh-active")){var i=a.index(),n=a.closest("ul");n.find("li").removeClass("bh-active"),a.addClass("bh-active");var r=t.popupBoxDom.children('div[bh-time-picker-role="selectBox"]').children('div[bh-time-picker-role="selectTabContent"]').children();r.removeClass("bh-active"),r.eq(i).addClass("bh-active")}});var a=t.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),i=a.children('div[bh-time-picker-role="selectStart"]').children("input"),n=a.children('div[bh-time-picker-role="selectEnd"]').children("input"),r=a.find('div[bh-time-picker-role="selectType"]');i.on("dp.change",function(e){I(t,a),B(a,"start",t)}),n.on("dp.change",function(e){I(t,a),B(a,"end",t)}),i.on("mouseover",function(e){t.$rootElement.removeData("selectType")}),n.on("mouseover",function(e){t.$rootElement.removeData("selectType")}),r.on("change",function(e){var a=e.args;if(a){var i=a.item.value;t.$rootElement.data("selectType","fixed"),f({value:i},t)}}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectOk"]',function(){var e=i.data("DateTimePicker").date()._d,a=n.data("DateTimePicker").date()._d,r=t.getValue(),o=r.startTime,s=r.endTime;T(t,e,a),l(t),t.$rootElement.trigger("selectedTime",[o,s]),"undefined"!=typeof t.settings.selectedTime&&t.settings.selectedTime instanceof Function&&t.settings.selectedTime(o,s)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthPre"]',function(){e(this).hasClass("bh-disabled")||C(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'),"pre",t)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthNext"]',function(){e(this).hasClass("bh-disabled")||C(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'),"next",t)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthItem"]',function(){D(e(this),t)})}function c(e,t){var a=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),i=a.find('div[bh-time-picker-role="selectType"]'),n=a.find('div[bh-time-picker-role="selectStart"]'),r=a.find('div[bh-time-picker-role="selectEnd"]');e.startTimeDom=n,e.endTimeDom=r,h(i,e),u(n,t,"start",e),u(r,t,"end",e),f({value:e.settings.defaultType},e)}function h(t,a){var i=[{name:"自定义",value:"custom"},{name:"全部",value:"all"},{name:"本周",value:"currentWeek"},{name:"上周",value:"lastWeek"},{name:"本月",value:"currentMonth"},{name:"上月",value:"lastMonth"},{name:"本季度",value:"currentQuarter"},{name:"上季度",value:"lastQuarter"},{name:"今年",value:"currentYear"},{name:"去年",value:"lastYear"},{name:"近7天",value:"last7Day"},{name:"近30天",value:"last30Day"}],n=0;e.grep(i,function(e,t){return a.settings.defaultType===e.value?(n=t,!0):void 0}),t.jqxDropDownList({width:"80px",source:i,selectedIndex:n,autoDropDownHeight:!0,valueMember:"value",displayMember:"name"})}function u(e,t,a,i){var n;n="start"===a?i.settings.time.start&&"today"!==i.settings.time.start?P(i.settings.time.start):t:i.settings.time.end&&"today"!==i.settings.time.end?P(i.settings.time.end):t,e.children("input").datetimepicker({format:i.settings.format,defaultDate:n})}function f(e,t){var a=864e5,i=new Date,n=m(i),r=0,o=0,s=e.value;switch(s){case"custom":break;case"all":r=null,o=null;break;case"currentWeek":r=new Date(n.time-(n.week-1)*a),o=i;break;case"lastWeek":var l=n.time-(n.week-1)*a;r=new Date(l-7*a),o=new Date(l-1*a);break;case"currentMonth":r=new Date(n.time-(n.day-1)*a),o=i;break;case"lastMonth":var d=v(n);r=d.startTime,o=d.endTime;break;case"currentQuarter":var c=w(n);r=c.startTime,o=i;break;case"lastQuarter":var h=x(n);r=h.startTime,o=h.endTime;break;case"currentYear":r=P(n.year+"/1/1"),o=i;break;case"lastYear":r=P(parseInt(n.year-1)+"/1/1"),o=P(parseInt(n.year-1)+"/12/31");break;case"last7Day":r=new Date(n.time-7*a),o=i;break;case"last30Day":r=new Date(n.time-30*a),o=i}p(t,r,o)}function p(e,t,a,i){var n=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),r=n.children('div[bh-time-picker-role="selectStart"]').children("input"),o=n.children('div[bh-time-picker-role="selectEnd"]').children("input"),s=o.data("DateTimePicker").date()._d;if(!(t&&a||(null===t?(r.attr("disabled",!0),r.data("DateTimePicker").disable()):(r.removeAttr("disabled"),r.data("DateTimePicker").enable()),null===a?(o.attr("disabled",!0),o.data("DateTimePicker").disable()):(o.removeAttr("disabled"),o.data("DateTimePicker").enable()),t||a))){var l=e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),d=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),c=d.jqxDropDownList("getSelectedItem");if("all"===c.value)return void l.html(c.label)}r.attr("disabled")&&(r.removeAttr("disabled"),r.data("DateTimePicker").enable()),o.attr("disabled")&&(o.removeAttr("disabled"),o.data("DateTimePicker").enable()),t>s?(a=a?a:new Date,t=t?t:new Date,r.data("DateTimePicker").date(t)):(a=a?a:new Date,t=t?t:new Date,r.data("DateTimePicker").date(t),o.data("DateTimePicker").date(a));var h=r.data("DateTimePicker").date()._d,u=o.data("DateTimePicker").date()._d,f=e.getValue(),p=f.startTime,m=f.endTime;T(e,h,u),i&&(e.$rootElement.trigger("selectedTime",[p,m]),"undefined"!=typeof e.settings.selectedTime&&e.settings.selectedTime instanceof Function&&e.settings.selectedTime(p,m))}function m(e){var t=new Date(e),a={};return a.year=t.getFullYear(),a.month=t.getMonth(),a.day=t.getDate(),a.hour=t.getHours(),a.minute=t.getMinutes(),a.second=t.getSeconds(),a.week=t.getDay(),a.time=t.getTime(),a}function b(e){return 0==e%4&&(e%100!=0||e%400==0)}function v(e){var t=e.month,a=e.year,i=t-1;0===t&&(a-=1,i=11);var n=y(a,i+1),r=new Date(g({year:a,month:i+1,day:1})),o=new Date(g({year:a,month:i+1,day:n}));return{startTime:r,endTime:o}}function g(e){return e.year+"/"+e.month+"/"+e.day}function y(e,t){var a=0;return a=1===t||3===t||5===t||7===t||8===t||10===t||12===t?31:4===t||6===t||9===t||11===t?30:b(e)?29:28}function w(e){var t=k(e.month),a=new Date(g({year:e.year,month:t.startMonth+1,day:1}));return{startTime:a}}function x(e){var t=k(e.month).startMonth,a=t-1,i=e.year;0===t&&(a=11,i-=1);var n=k(a),r=y(i,n.endMonth+1),o=new Date(g({year:i,month:n.startMonth+1,day:1})),s=new Date(g({year:i,month:n.endMonth+1,day:r}));return{startTime:o,endTime:s}}function k(e){var t=0,a=2;return e>=9?(t=9,a=11):e>=6?(t=6,a=8):e>=3&&(t=3,a=5),{startMonth:t,endMonth:a}}function C(e,t,a){var i=e.find('[bh-time-picker-role="selectMonthPre"]').removeClass("bh-disabled"),n=e.find('[bh-time-picker-role="selectMonthNext"]').removeClass("bh-disabled"),o=e.find('div[bh-time-picker-role="selectMonthYear"]'),s=parseInt(o.text(),10),l=0;a.settings.range.max&&(l="today"===a.settings.range.max?(new Date).getFullYear():new Date(a.settings.range.max).getFullYear());var d=0;a.settings.range.min&&(d="today"===a.settings.range.min?(new Date).getFullYear():new Date(a.settings.range.min).getFullYear()),"pre"===t?s--:s++,o.html(s+"年");var c=r(a,P(s+"/12/1"),t);e.find('div[bh-time-picker-role="selectMonthList"]').html(c),"pre"===t?s===d&&i.addClass("bh-disabled"):s===l&&n.addClass("bh-disabled")}function D(e,t){if(e.hasClass("bh-pre")){var a=e.closest('div[bh-time-picker-role="selectMonthBlock"]'),i=parseInt(a.find('div[bh-time-picker-role="selectMonthYear"]').text(),10),n=parseInt(e.attr("data-month"),10),r=y(i,n);t.$rootElement.removeData("selectType"),t.rangeBoxDom.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(),p(t,new Date(i+"/"+n+"/1"),new Date(i+"/"+n+"/"+r),!0)}}function T(e,t,a){var i=e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),n=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),r=n.jqxDropDownList("getSelectedItem");if("all"===r.value)return void i.html(r.label);var o=_(t,e),s=_(a,e);i.html(o+"-"+s)}function _(e,t){return/dd/i.test(t.format)?e.getFullYear()+"年"+S(e.getMonth()+1)+"月"+e.getDate()+"日":e.getFullYear()+"年"+S(e.getMonth()+1)+"月"}function S(e){return 10>e?"0"+e:e}function I(e,t){var a=e.$rootElement.data("selectType");("undefined"==typeof a||"fixed"!==a)&&t.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectIndex",0)}function B(t,a,i){e("body").data("bhTimePick","selectTime");var n=t.children('div[bh-time-picker-role="selectStart"]').children("input"),r=t.children('div[bh-time-picker-role="selectEnd"]').children("input"),o=n.data("DateTimePicker").date()._d,s=r.data("DateTimePicker").date()._d;if(o>s)if("end"===a){var l=m(o);r.data("DateTimePicker").date(new Date(l.year,l.month,l.day))}else{var d=m(s);n.data("DateTimePicker").date(new Date(d.year,d.month,d.day))}else if("start"===a){if(i.settings.range.min){var c;c="today"!==i.settings.range.min?new Date(i.settings.range.min):new Date,c>o&&n.data("DateTimePicker").date(c)}}else if(i.settings.range.max){var h;h="today"!==i.settings.range.max?new Date(i.settings.range.max):new Date,s>h&&r.data("DateTimePicker").date(h)}}function M(e,t){var a=t.popupBoxDom.find('div[bh-time-picker-role="selectBox"]'),i=t.$rootElement.find('div[bh-time-picker-role="rangeBox"]');i.hasClass("bh-active")&&i.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click();var n;n="pre"===e?a.find('div[bh-time-picker-role="selectStart"]').children("input").data("DateTimePicker").date()._d:a.find('div[bh-time-picker-role="selectEnd"]').children("input").data("DateTimePicker").date()._d;var r,o=m(n),s=864e5;if("pre"===e){if(0===o.month?(o.month=11,o.year=o.year-1):o.month=o.month-1,t.settings.range.min){var l="today"===t.settings.range.min?new Date:P(t.settings.range.min);r=m(l),l>new Date(n.getTime()-30*s)&&(o=r)}}else if(11===o.month?(o.month=0,o.year=o.year+1):o.month=o.month+1,t.settings.range.max){var d="today"===t.settings.range.max?new Date:P(t.settings.range.max);r=m(d),d<new Date(n.getTime()+30*s)&&(o=r)}var c={},h={};r&&o.year===r.year?o.month!==r.month?(c={year:o.year,month:o.month,day:1},h={year:o.year,month:o.month,day:y(o.year,o.month+1)}):"pre"===e?(c={year:o.year,month:o.month,day:r.day},h={year:o.year,month:o.month,day:y(o.year,o.month+1)}):(c={year:o.year,month:o.month,day:1},h={year:o.year,month:o.month,day:r.day}):(c={year:o.year,month:o.month,day:1},h={year:o.year,month:o.month,day:y(o.year,o.month+1)});var u=o.month+1<10?"0"+parseInt(o.month+1,10):o.month+1,f=c.year+"/"+u+"/"+S(c.day),b=h.year+"/"+u+"/"+h.day;p(t,P(f),P(b),!0)}function P(e){var t=Date.parse(e),a=new Date(t);if(isNaN(a)){var i=e.split("-");a=new Date(i[0],--i[1],i[2])}return a}var H;H=function(){function a(a,i){this.settings=e.extend({},e.fn.bhTimePicker.defaults,i),this.settings.format=this.settings.format.replace(/mm/g,"MM"),this.$rootElement=e(a),t(this)}return a.prototype.getValue=function(){var e=null,t=null,a=this.startTimeDom.children("input"),i=this.endTimeDom.children("input");return a.attr("disabled")||(e=a.data("DateTimePicker").date()._i),i.attr("disabled")||(t=i.data("DateTimePicker").date()._i),{startTime:moment(e).format(this.settings.format),endTime:moment(t).format(this.settings.format)}},a.prototype.setValue=function(e){var t=e.startTime?P(e.startTime):this.startTimeDom.children("input").data("DateTimePicker").date()._d,a=e.endTime?P(e.endTime):this.endTimeDom.children("input").data("DateTimePicker").date()._d;p(this,t,a)},a.prototype.setDisable=function(){this.$rootElement.children('div[bh-time-picker-role="rangeBox"]').append('<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>')},a.prototype.setEnable=function(){this.$rootElement.find('div[bh-time-picker-role="disableBlock"]').remove()},a}(),e.fn.bhTimePicker=function(t,a){var i;return i=this.data("bhTimePicker"),i?t===!0?i:"string"===e.type(t)?i[t](a):this:this.each(function(){return e(this).data("bhTimePicker",new H(this,t))})},e.fn.bhTimePicker.defaults={defaultType:"",width:"",format:"YYYY-MM-DD",range:{max:"",min:""},time:{start:"",end:""},isDisable:!1,selectedTime:null,ready:null}}(jQuery);