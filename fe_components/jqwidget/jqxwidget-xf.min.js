var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance()},e[t].prototype.defineInstance=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var s=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();void 0==t[s]&&null!=t.base;){if(void 0!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s){var n=s.toLowerCase();if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r)}t=t.base}if(void 0!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s){var n=s.toLowerCase();if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r)}}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(void 0==t)return!1;var s=typeof i==Array||i.length>0?i[0]:i;for(typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};void 0==t[s]&&null!=t.base;){if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s){var r=s.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}t=t.base}if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s){var r=s.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]?!0:2!=i.length||"string"!=typeof i[0]||e.jqx.hasFunction(t,i)?!1:!0},e.jqx.validatePropertySetter=function(t,i,s){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var n=t;!n.hasOwnProperty(r)&&n.base;)n=n.base;if(!n||!n.hasOwnProperty(r)){if(!s){var o=n.hasOwnProperty(r.toString().toLowerCase());if(o)return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!s)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!s)throw"Invalid property: "+i[0];return!1}return!0},e.jqx.set=function(t,i){var s=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=t.base?t.base.element:t.element,n=e.data(r,t.widgetName).initArgs;if(JSON&&JSON.stringify&&i[0]&&n[0])try{if(JSON.stringify(i[0])==JSON.stringify(n[0]))return}catch(o){}t.batchUpdate=i[0];var a={},l={};e.each(i[0],function(e,i){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?t[e]!=i&&(a[e]=t[e],l[e]=i,s++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(a[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,s++)}),2>s&&(t.batchUpdate=null)}e.each(i[0],function(i,s){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,s);else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),s);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&s>1&&t.propertiesChangedHandler(t,a,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},e.jqx.get=function(e,t){if(void 0!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var s=0;s<t.length;s++)s>0&&(i+=", "),i+=e.jqx.serialize(t[s]);i+="]"}else if("object"==typeof t){i="{";var r=0;for(var s in t)r++>0&&(i+=", "),i+=s+": "+e.jqx.serialize(t[s]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,s){var r=(e(i),e.data(i,t));if(void 0!=r){var n=r.instance;if(e.jqx.hasFunction(n,s))return e.jqx.invoke(n,s);if(e.jqx.isPropertySetter(n,s)){if(e.jqx.validatePropertySetter(n,s))return void e.jqx.set(n,s)}else{if("object"==typeof s&&0==s.length)return;if("object"==typeof s&&1==s.length&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s[0]);if("string"==typeof s&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(s)+"' does not exist."}},e.jqx.applyWidget=function(t,i,s,r){var n=!1;try{n=void 0!=window.MSApp}catch(o){}var a=e(t);r?(r.host=a,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var l={host:a,element:t,instance:r,initArgs:s};r.widgetName=i,e.data(t,i,l),e.data(t,"jqxWidget",l.instance);for(var h=new Array,r=l.instance;r;)r.isInitialized=!1,h.push(r),r=r.base;h.reverse(),h[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,s);for(var d in h)r=h[d],0==d&&(r.host=a,r.element=t,r.WinJS=n),void 0!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(n?MSApp.execUnsafeLocalFunction(function(){r.createInstance(s)}):r.createInstance(s)));for(var d in h)void 0!=h[d]&&(h[d].isInitialized=!0);n?MSApp.execUnsafeLocalFunction(function(){l.instance.refresh(!0)}):l.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,s){var r=!1;try{jqxArgs=Array.prototype.slice.call(s,0)}catch(n){jqxArgs=""}try{r=void 0!=window.MSApp}catch(n){}var o=t,a="";i&&(a="_"+i),e.jqx.define(e.jqx,"_"+o,a);var l=new Array;if(!window[o]){var h=function(t){if(null==t)return"";var i=e.type(t);switch(i){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var s="";return e.each(t,function(t){var i=this;t>0&&(s+=", "),s+="[";var r=0;if("object"==e.type(i))for(var n in i)r>0&&(s+=", "),s+="{"+n+":"+i[n]+"}",r++;else r>0&&(s+=", "),s+="{"+t+":"+i+"}",r++;s+="]"}),s};window[o]=function(t,i){var s=[];i||(i={}),s.push(i);var r=t;if("object"===e.type(r)&&t[0]&&(r=t[0].id,""===r&&(r=t[0].id=e.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[r]){if(i&&e.each(window.jqxWidgets[r],function(t){var s=e(this.element).data();s&&s.jqxWidget&&e(this.element)[o](i)}),1==window.jqxWidgets[r].length){var n=e(window.jqxWidgets[r][0].widgetInstance.element).data();if(n&&n.jqxWidget)return window.jqxWidgets[r][0]}var n=e(window.jqxWidgets[r][0].widgetInstance.element).data();if(n&&n.jqxWidget)return window.jqxWidgets[r]}var a=e(t);if(0===a.length)throw new Error("Invalid Selector - "+t+"! Please, check whether the used ID or CSS Class name is correct.");var d=[];return e.each(a,function(t){var i=a[t],n=null;if(!l[o]){var c=i.id;i.id="",n=e(i).clone(),i.id=c}if(e.jqx.applyWidget(i,o,s,void 0),!l[o]){var u=e.data(i,"jqxWidget"),p=n[o]().data().jqxWidget.defineInstance(),f=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var s=e.extend(this,i);return s.on=function(e,t){s.addHandler(s.host,e,t)},s.off=function(e){s.removeHandler(s.host,e)},s};l[o]=f,e.each(p,function(e,t){Object.defineProperty(f.prototype,e,{get:function(){return this.widgetInstance?this.widgetInstance[e]:t},set:function(t){if(this.widgetInstance&&this.widgetInstance[e]!=t&&this.widgetInstance[e]!=t&&h(this.widgetInstance[e])!=h(t)){var i={};i[e]=t,this.widgetInstance.host[o](i),this.widgetInstance[e]=t}}})})}var u=new l[o](i);d.push(u),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[r]||(window.jqxWidgets[r]=new Array),window.jqxWidgets[r].push(u)}),1===d.length?d[0]:d}}e.fn[o]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(e(this),this),s=e.data(i,o);null==s?e.jqx.applyWidget(i,o,t,void 0):e.jqx.jqxWidgetProxy(o,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,s=0;return this.each(function(){var r=e.jqx.jqxWidgetProxy(o,this,t);if(0==s)i=r,s++;else{if(1==s){var n=[];n.push(i),i=n}i.push(r)}}),i};try{e.extend(e.jqx["_"+o].prototype,Array.prototype.slice.call(s,0)[0])}catch(n){}e.extend(e.jqx["_"+o].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+o].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+o].prototype.createInstance=function(){},e.jqx["_"+o].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var s=[];s.push(i),i=s}e.jqx.applyWidget(t,o,i,this)},e.jqx["_"+o].prototype.getInstance=function(){return this},e.jqx["_"+o].prototype.propertyChangeMap={},e.jqx["_"+o].prototype.addHandler=function(t,i,s,r){e.jqx.addHandler(t,i,s,r)},e.jqx["_"+o].prototype.removeHandler=function(t,i,s){e.jqx.removeHandler(t,i,s)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",n=0;n<s.length;n++){n>0&&(r+=" ");var o=s[n];r+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,s,r){for(var n=i.split(" "),o=0;o<n.length;o++){var a=n[o];if(window.addEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",s,!1):t[0].addEventListener("mousewheel",s,!1);continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",s,!1);continue}}void 0==r||null==r?t.on?t.on(a,s):t.bind(a,s):t.on?t.on(a,r,s):t.bind(a,r,s)}},e.jqx.removeHandler=function(t,i,s){if(!i)return void(t.off?t.off():t.unbind());for(var r=i.split(" "),n=0;n<r.length;n++){var o=r[n];if(window.removeEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",s,!1):t[0].removeEventListener("mousewheel",s,!1);continue;case"mousemove":if(s){t[0].removeEventListener("mousemove",s,!1);continue}}void 0!=o?void 0==s?t.off?t.off(o):t.unbind(o):t.off?t.off(o,s):t.unbind(o,s):t.off?t.off():t.unbind()}},e.jqx.theme=e.jqx.theme||"",e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,s){if("undefined"!=typeof s){for(var r=s[0].className.split(" "),n=[],o=[],a=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(n.push(r[l]),o.push(r[l].replace(t,i))):o.push(r[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(n,s),this._addNewClasses(o,s);for(var l=0;l<a.length;l+=1)this.setTheme(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]),s=e.jqx.mobile.getTopPos(t[0]);return{top:s,left:i}},resize:function(t,i,s,r){void 0===r&&(r=!0);var n=-1,o=this,a=function(e){if(!o.hiddenWidgets)return-1;for(var t=-1,i=0;i<o.hiddenWidgets.length;i++)if(e.id){if(o.hiddenWidgets[i].id==e.id){t=i;break}}else if(o.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){n=l;break}}else if(this.resizeHandlers[l].id==t[0].id){n=l;break}if(s===!0){if(-1!=n&&this.resizeHandlers.splice(n,1),0==this.resizeHandlers.length){var h=e(window);h.off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var d=a(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}}else if(s===!0){var d=a(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}var o=this,c=function(t,i){if(o.resizeHandlers){var s=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var i=s(e.widget[0]),r=s(t.widget[0]);try{if(r>i)return-1;if(i>r)return 1}catch(n){}return 0},n=function(t){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(r);var s=function(){for(var t=!1,s=new Array,r=0;r<o.hiddenWidgets.length;r++){var n=o.hiddenWidgets[r];e.jqx.isHidden(n.widget)?(t=!0,s.push(n)):n.callback&&n.callback(i)}o.hiddenWidgets=s,t||clearInterval(o.__resizeInterval)};if(0==t)return s(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval(function(){s()},100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&n(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(r);for(var l=0;l<o.resizeHandlers.length;l++){var h=o.resizeHandlers[l],d=h.widget,c=h.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(void 0==u&&(u=c.jqxWidget.base.width),void 0==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var f=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(f=!0),null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),e.jqx.isHidden(d))-1===a(d)&&(f||t===!0)&&h.data.nestedWidget!==!0&&o.hiddenWidgets.push(h);else if((void 0===t||t!==!0)&&(f&&(h.callback(i),o.hiddenWidgets.indexOf(h)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(h),1)),c.jqxWidget.element)){var m=c.jqxWidget.element.className;if((m.indexOf("dropdownlist")>=0||m.indexOf("datetimeinput")>=0||m.indexOf("combobox")>=0||m.indexOf("menu")>=0)&&c.jqxWidget.isOpened){var v=c.jqxWidget.isOpened();if(v){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}n()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var h=e(window);h.on?(this._resizeTimer=null,this._initResize=null,h.on("resize.jqx",function(t){void 0!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._initResize?o._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(o._initResize=!0,c(null,"resize"))}),h.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(h.bind("resize.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")}))}r&&-1===n&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:t.data()}),e.jqx.isHidden(t)&&r===!0&&c(!0),e.jqx.resize=function(){c(null,"resize")}},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var s=t[0]||{},r=0,n=t.length;if(void 0===i)return 1===s.nodeType?s.innerHTML.replace(rinlinejQuery,""):void 0;var o=/<(?:script|style|link)/i,a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,h=/<([\w:]+)/,d=new RegExp("<(?:"+a+")[\\s/>]","i"),c=/^\s+/,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof i&&!o.test(i)&&(e.support.htmlSerialize||!d.test(i))&&(e.support.leadingWhitespace||!c.test(i))&&!u[(h.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(l,"<$1></$2>");try{for(;n>r;r++)s=this[r]||{},1===s.nodeType&&(e.cleanData(s.getElementsByTagName("*")),s.innerHTML=i);s=0}catch(p){}}s&&t.empty().append(i)},null,i,arguments.length)}catch(s){return e(t).html(i)}},hasTransform:function(t){var i="";if(i=t.css("transform"),""==i||"none"==i){if(i=t.parents().css("transform"),""!=i&&"none"!=i)return""!=i&&"none"!=i;var s=e.jqx.utilities.getBrowser();"msie"==s.browser?(i=t.css("-ms-transform"),(""==i||"none"==i)&&(i=t.parents().css("-ms-transform"))):"chrome"==s.browser?(i=t.css("-webkit-transform"),(""==i||"none"==i)&&(i=t.parents().css("-webkit-transform"))):"opera"==s.browser?(i=t.css("-o-transform"),(""==i||"none"==i)&&(i=t.parents().css("-o-transform"))):"mozilla"==s.browser&&(i=t.css("-moz-transform"),(""==i||"none"==i)&&(i=t.parents().css("-moz-transform")))}return(""==i||"none"==i)&&(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i?!0:!1},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,s){if(e.jqx.ariaEnabled)if(void 0==i)e.each(t.aria,function(i,s){var r=t.base?t.base.host.attr(i):t.host.attr(i);if(void 0==r||e.isFunction(r)){var r=t[s.name];e.isFunction(r)&&(r=t[s.name]()),void 0==r&&(r="");try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(n){}}else{var o=r;switch(s.type){case"number":o=new Number(r),isNaN(o)&&(o=r);break;case"boolean":o="true"==r?!0:!1;break;case"date":o=new Date(r),("Invalid Date"==o||isNaN(o))&&(o=r)}t[s.name]=o}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,s.toString()):t.attr(i,s.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,s.toString()):t.host.attr(i,s.toString()):t.attr(i,s.toString()):t.setAttribute&&t.setAttribute(i,s.toString())}catch(r){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),s=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t),n=r[0];i=parseInt(n.pageX),s=parseInt(n.pageY)}return{left:i,top:s}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=i(s[e.type],e);e.target.dispatchEvent(r);var n=e.target["on"+s[e.type]];"function"==typeof n&&n(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var n=function(){for(var e in s)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,n()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var s=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(s.indexOf("Windows Phone")>=0||s.indexOf("WPDesktop")>=0||s.indexOf("IEMobile")>=0||s.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(s.indexOf("Touch")>=0){var r="MSPointerDown"in window||"pointerdown"in window;return r?(this.touchDevice=!0,!0):s.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(n){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,s=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var r=navigator.userAgent.toLowerCase(),n=(-1!=r.indexOf("windows phone")||-1!=r.indexOf("WPDesktop")||-1!=r.indexOf("ZuneWP7")||-1!=r.indexOf("msie 9")||-1!=r.indexOf("msie 11")||-1!=r.indexOf("msie 10"))&&-1!=r.indexOf("touch");return n?s.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?s.top:((-1!=r.indexOf("version/6")||-1!=r.indexOf("version/5"))&&(i+=e(window).scrollTop()),s.top):i},isChromeMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("android");return t},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi");return t},isOperaMiniBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini");return t},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch");return t},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t},isIPadSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad");return t},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android");return t},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;var t=navigator.userAgent.toLowerCase();if(console.log(t),-1!=t.indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var s=document.createEvent("MouseEvent");s.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,s,r,n,o){if(null!=t){var a=this,l=0,h=0,d=0,c=0,u=0,p=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var f=!1,m=e(t),v=["select","input","textarea"],g=0,x=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;var r=r,_=this.getTouchEventName("touchstart")+".touchScroll",b=this.getTouchEventName("touchend")+".touchScroll",y=this.getTouchEventName("touchmove")+".touchScroll",g=function(t){if(!a.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),v)){var i=a.getTouches(t),s=i[0];return 1==i.length&&a.dispatchMouseEvent("mousedown",s,a.getRootNode(s.target)),f=!1,h=s.pageY,u=s.pageX,a.simulatetouches&&void 0!=s._pageY&&(h=s._pageY,u=s._pageX),a.scrolling[r]=!0,l=0,c=0,!0}};m.on?m.on(_,g):m.bind(_,g);var w=function(e){if(!a.enableScrolling[r])return!0;if(!a.scrolling[r])return!0;var t=a.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,m=t[0].pageX;a.simulatetouches&&void 0!=t[0]._pageY&&(i=t[0]._pageY,m=t[0]._pageX);var v=i-h,g=m-u;x=i,touchHorizontalEnd=m,d=v-l,p=g-c,f=!0,l=v,c=g;var _=null!=n?"hidden"!=n[0].style.visibility:!0,b=null!=o?"hidden"!=o[0].style.visibility:!0;return(_||b)&&(0!==p&&_||0!==d&&b)?(s(1*-p,1*-d,g,v,e),e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1):void 0};if(m.on?m.on(y,w):m.bind(y,w),this.simulatetouches){var I=(void 0!=e(window).on||e(window).bind,function(e){a.scrolling[r]=!1});if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",I):e(document).bind("mouseup.touchScroll",I),window.frameElement&&null!=window.top){var j=function(e){a.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",j):e(window.top.document).bind("mouseup",j))}var S=(void 0!=e(document).on||e(document).bind,function(e){if(!a.scrolling[r])return!0;a.scrolling[r]=!1;var t=a.getTouches(e)[0],i=a.getRootNode(t.target);a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i)});void 0!=e(document).on?e(document).on("touchend",S):e(document).bind("touchend",S)}var T=function(e){if(!a.enableScrolling[r])return!0;var t=a.getTouches(e)[0];if(!a.scrolling[r])return!0;if(a.scrolling[r]=!1,!f){var t=a.getTouches(e)[0],i=a.getRootNode(t.target);return a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i),!0}a.dispatchMouseEvent("mouseup",t,i)};m.on&&(m.on("dragstart",function(e){e.preventDefault()}),m.on("selectstart",function(e){e.preventDefault()})),m.on?m.on(b+" touchcancel.touchScroll",T):m.bind(b+" touchcancel.touchScroll",T)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,s){if(arguments.length>1&&"[object Object]"!==String(i)){if(s=e.extend({},s),(null===i||void 0===i)&&(s.expires=-1),"number"==typeof s.expires){var r=s.expires,n=s.expires=new Date;n.setDate(n.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}s=i||{};var o,a=s.raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)s=s.replace(t,i),r=s.indexOf(t);return s},contains:function(e,t){return null==e||null==t?!1:-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null==e||null==t?!1:-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.slice(0,t.length)==t:!1)},equalsIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.toUpperCase().slice(0,t.length)==t.toUpperCase():!1)},startsWith:function(e,t){return null==e||null==t?!1:e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null==e||null==t?!1:e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.slice(-t.length)==t)},endsWithIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.toUpperCase().slice(-t.length)==t.toUpperCase())}}),e.extend(e.easing,{easeOutBack:function(e,t,i,s,r,n){return void 0==n&&(n=1.70158),s*((t=t/r-1)*t*((n+1)*t+n)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend({ischildof:function(t){for(var i=e(this).parents().get(),s=0;s<i.length;s++)if("string"!=typeof t){var r=i[s];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[s]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),s=t.element;return s||(s=t.base.element),
e.jqx.jqxWidgetProxy(t.widgetName,s,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if("undefined"==typeof i){if(e(this).hasClass("jqx-widget")){var s=e(this).data().jqxWidget;if(s&&s.val)return s.val()}return t.call(this)}if(e(this).hasClass("jqx-widget")){var s=e(this).data().jqxWidget;if(s&&s.val)return 2!=arguments.length?s.val(i):s.val(i,arguments[1])}return t.call(this,i)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,s,r={top:0,left:0},n=this[0],o=n&&n.ownerDocument;if(o){if(i=o.documentElement,!e.contains(i,n))return r;void 0!==typeof n.getBoundingClientRect&&(r=n.getBoundingClientRect());var a=function(t){return e.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1};s=a(o);var l=0,h=0,d=navigator.userAgent.toLowerCase(),c=-1!=d.indexOf("ipad")||-1!=d.indexOf("iphone");if(c&&(l=2),1==t&&"static"!=e(document.body).css("position")){var u=e(document.body).coord();l=-u.left,h=-u.top}return{top:h+r.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+r.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(e){function t(t){return function(i,s){"string"!=typeof i&&(s=i,i="*");var r,n,o,a=i.toLowerCase().split(x),l=0,h=a.length;if(e.isFunction(s))for(;h>l;l++)r=a[l],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),n=t[r]=t[r]||[],n[o?"unshift":"push"](s)}}function i(e,t,s,r,n,o){n=n||t.dataTypes[0],o=o||{},o[n]=!0;for(var a,l=e[n],h=0,d=l?l.length:0,c=e===_;d>h&&(c||!a);h++)a=l[h](t,s,r),"string"==typeof a&&(!c||o[a]?a=void 0:(t.dataTypes.unshift(a),a=i(e,t,s,r,a,o)));return!c&&a||o["*"]||(a=i(e,t,s,r,"*",o)),a}function s(t,i){var s,r,n=e.jqx.data.ajaxSettings.flatOptions||{};for(s in i)void 0!==i[s]&&((n[s]?t:r||(r={}))[s]=i[s]);r&&e.extend(!0,t,r)}function r(e,t,i){var s,r,n,o,a=e.contents,l=e.dataTypes,h=e.responseFields;for(r in h)r in i&&(t[h[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}o||(o=r)}n=n||o}return n?(n!==l[0]&&l.unshift(n),i[n]):void 0}function n(e,t){var i,s,r,n,o=e.dataTypes.slice(),a=o[0],l={},h=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=o[++h];)if("*"!==r){if("*"!==a&&a!==r){if(i=l[a+" "+r]||l["* "+r],!i)for(s in l)if(n=s.split(" "),n[1]===r&&(i=l[a+" "+n[0]]||l["* "+n[0]])){i===!0?i=l[s]:l[s]!==!0&&(r=n[0],o.splice(h--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(d){return{state:"parsererror",error:i?d:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}function o(){try{return new window.XMLHttpRequest}catch(e){}}function a(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var s=Object.defineProperty;Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(r){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var s,r=arguments[1];for(s=0;i>s;s++)s in t&&e.call(r,t[s],s,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var r,n=this,o=[];n.notifier=null,n.name="observableArray",n.observing=!0,n.changes=new Array;var i=i;return n.observe=function(){n.observing=!0,1==arguments.length&&(i=arguments[0])},n.unobserve=function(){n.observing=!1},n.toArray=function(){return o.slice(0)},n.toJSON=function(e,t){function i(e){return'"'+e.replace(u,function(e){var t=p[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function s(e){return 10>e?"0"+e:e}function r(e){var t;return t=isFinite(e.valueOf())?e.getUTCFullYear()+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+'Z"':"null"}function n(e){var t,i=e.length,s=[];for(t=0;i>t;t++)s.push(d(t,e)||"null");return"["+s.join(",")+"]"}function a(t){var s,r,n=[];for(s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(""!=s&&e&&-1===e.indexOf(s))continue;r=d(s,t),r&&n.push(i(s)+":"+r)}return"{"+n.join(",")+"}"}function l(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return r(e);case"[object Array]":return n(e)}return a(e)}function h(e,t){switch(t){case"string":return i(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function d(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),s=typeof i),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?h(i,s):l(i)}var c=o;t&&(c=t);var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(c):d("",{"":c})},n.defineIndexProperty=function(t){if(!(t in n)){var i=function(t,i,s,a){var l=t[i],h=l,d=function(){return h},c=function(t){if(l=t,h!==l){var s=h;if(h=l,"function"==typeof r){var d=o.indexOf(a),c="",u=function(t,s){Object.getOwnPropertyNames(t).forEach(function(r){var n=e.type(t[r]);"array"==n||"object"==n?u(t[r],s+"."+r):i===r&&(c=s+"."+r)})};u(a,d),r({object:n,type:"update",path:c,index:d,name:i,newValue:l,oldValue:s})}}return h=l,l};t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:d,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,d),Object.prototype.__defineSetter__.call(t,i,c)))},s=function(t,r,n){var o=e.type(t);/(number|float|int|integer|string|boolean)/.test(o)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(o){var a=e.type(t[o]);"array"==a||"object"==a?(i(t,o,r+"."+o,n),s(t[o],r+"."+o,n)):i(t,o,r+"."+o,n)})};Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var i=o[t];n.toJSON(null,i)!=n.toJSON(null,e)&&(o[t]=e,"function"==typeof r&&r({object:n,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),s(e,t,e))}}),s(n[t],t,n[t])}},n.push=function(){for(var e,t=0,i=arguments.length;i>t;t++)e=o.length,o.push(arguments[t]),n.defineIndexProperty(e),"function"==typeof r&&r({object:n,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},n.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete n[e],"function"==typeof r&&r({object:n,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},n.unshift=function(){for(var e=o.length,t=0,i=arguments.length;i>t;t++)o.splice(t,0,arguments[t]),n.defineIndexProperty(o.length-1);return"function"==typeof r&&r({object:n,type:"add",index:0,name:"length",newValue:o.length,oldValue:e}),o.length},n.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete n[e],"function"==typeof r&&r({object:n,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},n.slice=function(t,i,s){var r=o.slice(t,i),n=new e.jqx.observableArray(r,s);return n},n.splice=function(t,i,s){var a,l=[];for(t=~t?t:o.length-t,i=(null==i?o.length-t:i)||0;i--;)a=o.splice(t,1)[0],l.push(a),delete n[o.length],"function"==typeof r&&r({object:n,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var h=2,d=arguments.length;d>h;h++)o.splice(t,0,arguments[h]),defineIndexProperty(o.length-1),"function"==typeof r&&r({object:n,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;var c=new e.jqx.observableArray(l,s);return c},Object.defineProperty(n,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1===0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?n.splice(t):t>o.length&&n.push.apply(n,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){var s=new e.jqx.observableArray(t,i);return s},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,i);return t.observing=n.observing,t.changes=n.changes,t.notifier=n.notifier,t},n.remove=function(e){if(0>e||e>=n.length)throw new Error("Invalid index : "+e);if(n.hasOwnProperty(e)){var t=n[e];return n[e]=void 0,o[e]=void 0,"function"==typeof r&&r({object:n,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},n.concat=function(t,i){var s=o.concat(t),r=new e.jqx.observableArray(s,i);return r},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in n)){var t=function(){var t=n.observing;n.observing=!1;var i=o[e],s=i.apply(o,arguments);return n.observing=t,s};Object.defineProperty(n,e,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),n.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var s=t.split("."),r=n,o=0;o<s.length;o++){if(0===o&&s[o]>=n.length)throw new Error("Invalid Index: "+t);o<s.length-1?r=r[s[o]]:r[s[o]]=i}return!0}return t>=n.length?n.push(i):n[t]=i,!0},n.get=function(e){return n[e]},t instanceof Array&&n.push.apply(n,t),r=function(){n.observing&&(arguments&&arguments[0]&&n.changes.push(arguments[0]),i&&i.apply(n,arguments),n.notifier&&n.notifier.apply(n,arguments))},n},e.jqx.formatDate=function(t,i,s){var r=e.jqx.dataFormat.formatdate(t,i,s);return r},e.jqx.formatNumber=function(t,i,s){var r=e.jqx.dataFormat.formatnumber(t,i,s);return r},e.jqx.dataAdapter=function(t,i){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var s=t.localdata();if(null!=s){t._localdata=t.localdata;var r=this;t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};(0==r.suspendKO||void 0==r.suspendKO||0==r._oldlocaldata.length)&&(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==r.suspendKO||void 0==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=s}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,s){var r=e.jqx.dataFormat.formatdate(t,i,s);return r},formatNumber:function(t,i,s){var r=e.jqx.dataFormat.formatnumber(t,i,s);return r},dataBind:function(t,i){if(1!=this.isUpdating){var s=this._source;if(s){s.generatedfields&&(s.datafields=null,s.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=s.dataFields&&(s.datafields=s.dataFields),void 0==s.recordstartindex&&(s.recordstartindex=0),void 0==s.recordendindex&&(s.recordendindex=0),void 0==s.loadallrecords&&(s.loadallrecords=!0),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record=""),void 0!=s.sort&&(this.sort=s.sort),void 0!=s.filter?this.filter=s.filter:this.filter=null,void 0!=s.sortcolumn&&(this.sortcolumn=s.sortcolumn),void 0!=s.sortdirection&&(this.sortdirection=s.sortdirection),void 0!=s.sortcomparer&&(this.sortcomparer=s.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=void 0!=r.virtualmode?r.virtualmode:!1,this.totalrecords=void 0!=r.totalrecords?r.totalrecords:0,this.pageable=void 0!=r.pageable?r.pageable:!1,this.pagesize=void 0!=r.pagesize?r.pagesize:0,this.pagenum=void 0!=r.pagenum?r.pagenum:0,this.cachedrecords=void 0!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=r.updaterow?r.updaterow:null,this.addrow=void 0!=r.addrow?r.addrow:null,this.deleterow=void 0!=r.deleterow?r.deleterow:null,this.cache=void 0!=r.cache?r.cache:!1,this.unboundmode=!1,void 0!=s.formatdata&&(r.formatData=s.formatdata),void 0!=s.data&&(void 0==r.data&&(r.data={}),e.extend(r.data,s.data)),void 0!=s.mapchar?this.mapChar=s.mapchar?s.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||s.unboundmode)&&(this.unboundmode=r.unboundmode||s.unboundmode),void 0!=s.cache&&(this.cache=s.cache),this.koSubscriptions)for(var n=0;n<this.koSubscriptions.length;n++)this.koSubscriptions[n].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,a=s.datatype;("csv"===s.datatype||"tab"===s.datatype||"tsv"===s.datatype||"text"==s.datatype)&&(a="text");var l=void 0!=r.async?r.async:!0;switch(void 0!=s.async&&(l=s.async),a){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==s.localdata&&s.length){s.localdata=new Array;for(var h=0;h<s.length;h++)s.localdata[s.localdata.length]=s[h],s[h].uid=h}s.beforeprocessing&&e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata);var d=s.localdata.length;if(this.totalrecords=this.virtualmode?s.totalrecords||d:d,this.unboundmode){this.totalrecords=this.unboundmode?s.totalrecords||d:d;var c=s.datafields?s.datafields.length:0;if(c>0)for(var h=0;h<this.totalrecords;h++){for(var u={},p=0;c>p;p++)u[s.datafields[p].name]="";u.uid=h,s.localdata[s.localdata.length]=u}}void 0==this.totalrecords&&(this.totalrecords=0);var c=s.datafields?s.datafields.length:0,f=function(t,i){for(var r={},n=0;i>n;n++){var a=s.datafields?s.datafields[n]:{},l="";if(void 0!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(t);else{var h=a.map.split(o.mapChar);if(h.length>0){for(var d=t,c=0;c<h.length;c++)d&&(d=d[h[c]]);l=d}else l=t[a.map]}void 0!=l&&null!=l?l=l.toString():void 0==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,l=t[a.name],void 0!=l&&null!=l&&(s._localdata&&l.subscribe?l=l():"array"!=a.type&&(l=l.toString()))),"[object Object]"==l&&a.map&&u&&(l=""),l=o.getvaluebytype(l,a),void 0!=a.displayname?r[a.displayname]=l:r[a.name]=l}}return r};if(s._localdata){this._changedrecords=[],this.records=new Array;var m=s._localdata();if(e.each(m,function(t,r){if("string"==typeof r)o.records.push(r);else{var n={},a=0,l=this;e.each(this,function(i,r){var h=null,d="string",u=i;if(c>0){for(var p=!1,f=!1,m=0;c>m;m++){var v=s.datafields[m];if(void 0!=v&&v.name==i){p=!0,h=v.map,d=v.type,u=v.name;break}if(void 0!=v&&v.map&&v.map.indexOf(i)>=0){p=!0,h=v.map,d=v.type,u=v.name,f=!0;var g=l[i];if(null!=h){var x=h.split(o.mapChar);if(x.length>0){for(var _=l,b=0;b<x.length;b++)_=_[x[b]];g=_}else g=l[h]}"string"!=d&&(g=o.getvaluebytype(g,{type:d})),n[u]=g,void 0!=n[u]&&(a+=n[u].toString().length+n[u].toString().substr(0,1))}}if(!p)return!0;if(f)return!0}var y=e.isFunction(l[i]);if(y){var g=l[i]();if("string"!=d&&(g=o.getvaluebytype(g,{type:d})),n[i]=g,l[i].subscribe){var w=t;o.koSubscriptions[o.koSubscriptions.length]=l[i].subscribe(function(e){var t=w;n[i]=e;var s={index:t,oldrecord:n,record:n};return o._changedrecords.push(s),o.isUpdating?void 0:(o.callBindingUpdate("update"),o._changedrecords=[],!1)})}}else{var g=l[i];if(null!=h){var x=h.split(o.mapChar);if(x.length>0){for(var _=l,b=0;b<x.length;b++)_=_[x[b]];g=_}else g=l[h]}"string"!=d&&(g=o.getvaluebytype(g,{type:d})),n[u]=g,void 0!=n[u]&&(a+=n[u].toString().length+n[u].toString().substr(0,1))}});var h=o.getid(s.id,l,t);if(n.uid=h,o.records.push(n),n._koindex=a,o._oldrecords){var d=o.records.length-1;if("update"==i&&o._oldrecords[d]._koindex!=a){var u={index:d,oldrecord:o._oldrecords[d],record:n};o._changedrecords.push(u)}}}}),"add"==i)for(var d=o.records.length,h=0;d>h;h++){for(var u=o.records[h],v=!1,g=0;g<o._oldrecords.length;g++)if(o._oldrecords[g]._koindex===u._koindex){v=!0;break}v||o._changedrecords.push({index:h,oldrecord:null,record:u,position:0!=h?"last":"first"})}else if("remove"==i)for(var d=o._oldrecords.length,h=0;d>h;h++){var x=o._oldrecords[h];o.records[h]?o.records[h]._koindex!=x._koindex&&o._changedrecords.push({index:h,oldrecord:x,record:null}):o._changedrecords.push({index:h,oldrecord:x,record:null})}}else if(e.isArray(s.localdata))if(0==c){var _=0,b=new Array;e.each(s.localdata,function(t,i){var r=e.extend({},this);if("string"==typeof i)return o.records=s.localdata,!1;var n=o.getid(s.id,r,t);if("object"==typeof n&&(n=t),r.uid=n,0==t){for(var a in this){_++;var l=e.type(this[a]);b.push({name:a,type:l})}c=_,s.datafields=b,s.generatedfields=b}if(c>0){var h=f(r,c);h.uid=n,o.records[o.records.length]=h}else o.records[o.records.length]=r})}else e.each(s.localdata,function(t){var i=this,r=f(i,c),n=o.getid(s.id,r,t);"object"==typeof n&&(n=t);var i=e.extend({},r);i.uid=n,o.records[o.records.length]=i});else{this.records=new Array;var _=0,b=new Array;e.each(s.localdata,function(t){var i=o.getid(s.id,this,t);if(0==c&&!("string"==typeof this||this instanceof String)){for(var r in this){_++;var n=e.type(this[r]);b.push({name:r,type:n})}c=_,s.datafields=b,s.generatedfields=b}if(c>0){var a=this,l=f(a,c);l.uid=i,o.records[o.records.length]=l}else this.uid=i,o.records[o.records.length]=this})}if(this.originaldata=s.localdata,this.cachedrecords=this.records,this.addForeignValues(s),r.uniqueDataFields){var y=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=y,this.cachedrecords=y}if(r.beforeLoadComplete){var w=r.beforeLoadComplete(o.records,this.originaldata);void 0!=w&&(o.records=w,o.cachedrecords=w)}if(r.autoSort&&r.autoSortField){var I=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},o.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0}),Object.prototype.toString=I}o.loadedData=s.localdata,o.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=s.localdata&&!s.url){if(e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata),"xml"===s.datatype?o.loadxml(s.localdata,s.localdata,s):"text"===a?o.loadtext(s.localdata,s):"ics"===a?o.loadics(s.localdata,s):o.loadjson(s.localdata,s.localdata,s),o.addForeignValues(s),r.uniqueDataFields){var y=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=y,o.cachedrecords=y}if(r.beforeLoadComplete){var w=r.beforeLoadComplete(o.records,this.originaldata);void 0!=w&&(o.records=w,o.cachedrecords=w)}return o.loadedData=s.localdata,o.buildHierarchy.call(o),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records),void o.callBindingUpdate(i)}var j=void 0!=r.data?r.data:{};if(s.processdata&&s.processdata(j),e.isFunction(r.processData)&&r.processData(j),e.isFunction(r.formatData)){var S=r.formatData(j);void 0!=S&&(j=S)}var T="application/x-www-form-urlencoded";r.contentType&&(T=r.contentType);var C="GET";s.type&&(C=s.type),r.type&&(C=r.type);var q=a;if("ics"==a&&(q="text"),s.url&&s.url.length>0)e.isFunction(r.loadServerData)?o._requestData(j,s,r):this.xhr=e.jqx.data.ajax({dataType:q,cache:this.cache,type:C,url:s.url,async:l,timeout:s.timeout,contentType:T,data:j,success:function(t,i,n){if(e.isFunction(s.beforeprocessing)){var l=s.beforeprocessing(t,i,n);void 0!=l&&(t=l)}if(e.isFunction(r.downloadComplete)){var l=r.downloadComplete(t,i,n);void 0!=l&&(t=l)}if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array));var h=t;if(t.records&&(h=t.records),void 0!=t.totalrecords?s.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(s.totalrecords=t.totalRecords),"xml"===s.datatype?o.loadxml(null,h,s):"text"===a?o.loadtext(h,s):"ics"===a?o.loadics(h,s):o.loadjson(null,h,s),o.addForeignValues(s),r.uniqueDataFields){var d=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=d,o.cachedrecords=d}if(r.beforeLoadComplete){var c=r.beforeLoadComplete(o.records,t);void 0!=c&&(o.records=c,o.cachedrecords=c)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,n,o.records)},error:function(t,i,n){e.isFunction(s.loaderror)&&s.loaderror(t,i,n),e.isFunction(r.loadError)&&r.loadError(t,i,n),t=null,o.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(s.beforesend)&&s.beforesend(t,i)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!L)var L={};r.loadComplete(L)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var s=t.hierarchy.reservedNames;s.leaf||(s.leaf="leaf"),s.parent||(s.parent="parent"),s.expanded||(s.expanded="expanded"),s.checked||(s.checked="checked"),s.selected||(s.selected="selected"),s.level||(s.level="level"),s.data||(s.data="data")}if(t.hierarchy){var r=this,s=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var n=t.hierarchy.root,o=0;o<this.records.length;o++){var a=this.records[o];if(a){var l=function(e){if(t.hierarchy.record)e.records=e[n][t.hierarchy.record];else{var i=n.split(r.mapChar),o=null;if(i.length>1){for(var a=e,l=0;l<i.length;l++)void 0!=a&&(a=a[i[l]]);o=a}else o=e[n];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[s.leaf]=!0)};l(a),a[s.level]=0;var h=this.getid(t.id,a,o);a.uid=h,a[s.parent]=null,a[s.data]=a,void 0===a[s.expanded]&&(a[s.expanded]=!1);var d=function(e,i){if(!i)return void(e.records=new Array);for(var n=0;n<i.length;n++){var o=i[n];if(o){l(o),o[s.level]=e[s.level]+1,o[s.parent]=e,o[s.data]=o;var a=r.getid(t.id,o,n);a==n&&null==t.id?o.uid=e.uid+"_"+a:o.uid=a,void 0===o[s.expanded]&&(o[s.expanded]=!1),d(o,o.records)}}};d(a,a.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){for(var c=new Array,o=0;o<t.hierarchy.groupingDataFields.length;o++)c.push(t.hierarchy.groupingDataFields[o].name);var i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,s){var r=this,n=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||s)){var o=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==o&&(o=n()),e[o.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var a=function(s){if(s)for(var o=0;o<s.length;o++){var l=s[o];if(l.uid==i){var h=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==h&&(h=n()),e[h.parent]=l,e[h.level]=l[h.level]+1,l.records?l[h.leaf]=!1:(l.records=new Array,l[h.leaf]=!1),"last"==t?l.records.push(e):"number"==typeof t&&isFinite(t)?l.records.splice(t,0,e):l.records.splice(0,0,e),!0}l.records&&a(l.records)}};a(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(s){if(s)for(var r=0;r<s.length;r++){var n=s[r];if(n.uid==e){s.splice(r,1),t.recordids[e]&&delete t.recordids[e];var o=function(e){for(var i=0;i<e.length;i++){for(var s=e[i].uid,r=0;r<t.records.length;r++){var n=t.records[r];if(n.uid==s){t.records.splice(r,1);break}}e[i].records&&o(e[i].records)}};n.records&&o(n.records);for(var a=0;a<t.records.length;a++){var n=t.records[a];if(n.uid==e){t.records.splice(a,1);break}}return!0}n.records&&i(n.records)}};i(this.hierarchy)}else for(var s=0;s<this.records.length;s++){var r=this.records[s];if(r.uid==e)return this.records.splice(s,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;i>s;s++){var r=e.datafields[s];if(void 0!=r)if(void 0!=r.values){void 0==r.value&&(r.value=r.name),void 0==r.values.value&&(r.values.value=r.value);var n,o,a=new Array;t.pageable&&t.virtualmode?(n=t.pagenum*t.pagesize,o=n+t.pagesize,o>t.totalrecords&&(o=t.totalrecords)):t.virtualmode?(n=e.recordstartindex,o=e.recordendindex,o>t.totalrecords&&(o=t.totalrecords)):(n=0,o=t.records.length);for(var l=n;o>l;l++){var h=t.records[l],d=r.name,c=h[r.value];if(void 0!=a[c])h[d]=a[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],f=p[r.values.value];if(void 0==f&&(f=p.uid),f==c){var m=p[r.values.name];h[d]=m,a[c]=m;break}}}}else if(void 0!=r.value)for(var l=0;l<t.records.length;l++){var h=t.records[l];h[r.name]=h[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,s){var r=this,n=function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),s.uniqueDataFields){var n=r.getUniqueRecords(r.records,s.uniqueDataFields);r.records=n,r.cachedrecords=n}if(s.beforeLoadComplete){var o=s.beforeLoadComplete(r.records,data);void 0!=o&&(r.records=o,r.cachedrecords=o)}for(var a=0;a<r.records.length;a++){var l=r.records[a];void 0!=l&&void 0==l.uid&&(l.uid=r.getid(i.id,l,a))}r.buildHierarchy.call(r),e.isFunction(s.loadComplete)&&s.loadComplete(t),r.callDownloadComplete()};s.loadServerData(t,i,n)},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,n=new Array,o=0;i>o;o++){var a=e[o],l="";if(void 0!=a){for(var h=0;s>h;h++){var d=t[h];l+=a[d]+"_"}n[l]||(r[r.length]=a),n[l]=!0}}return r},getAggregatedData:function(t,i,s,r){var n=s;n||(n=this.records);var o={},a=new Array,l=n.length;if(0!=l&&void 0!=l){for(var h=0;l>h;h++)for(var d=n[h],c=0;c<t.length;c++){var u=t[c],p=d[u.name];if(u.aggregates){o[u.name]=o[u.name]||{},a[u.name]=a[u.name]||0,a[u.name]++;var f=function(t){for(obj in t){var i=o[u.name][obj];null==i&&(o[u.name][obj]=0,i=0),e.isFunction(t[obj])&&(i=t[obj](i,p,u.name,d,r)),o[u.name][obj]=i}},m=parseFloat(p);m=isNaN(m)?!1:!0,m&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=o[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==h?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void f(this);o[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=o[u.name][this];return null==e&&(e=0),o[u.name][this]=e,!0}"object"==typeof this&&f(this)})}}for(var c=0;c<t.length;c++){var u=t[c];if(o[u.name]||(o[u.name]={},e.each(u.aggregates,function(e){o[u.name][this]=0})),void 0!=o[u.name].avg){var p=o[u.name].avg,v=a[u.name];0===v||void 0==v?o[u.name].avg=0:o[u.name].avg=p/v}else void 0!=o[u.name].count&&(o[u.name].count=l);(o[u.name].stdev||o[u.name].stdevp||o[u.name]["var"]||o[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=o[u.name][this],i=l,s=t/l,r=0,a=0;l>a;a++){var h=n[a],d=h[u.name];r+=(d-s)*(d-s)}var c="stdevp"==this||"varp"==this?i:i-1;0==c&&(c=1),"var"==this||"varp"==this?o[u.name][this]=r/c:("stdevp"==this||"stdev"==this)&&(o[u.name][this]=Math.sqrt(r/c))}}),u.formatStrings&&e.each(u.aggregates,function(t){var s=u.formatStrings[t];if(s)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=o[u.name][this];o[u.name][this]=e.jqx.dataFormat.formatnumber(r,s,i)}else if("object"==typeof this)for(obj in this){var r=o[u.name][obj];o[u.name][obj]=e.jqx.dataFormat.formatnumber(r,s,i);
}})}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,s,r,n,o,a,l,h){var d=this;h||(h=0);for(var c=new Array,u=0;u<t.length;u++)c[u]=d.generatekey();i||(i="items"),s||(s="group"),n||(n="record"),a||(a="parentItem"),void 0===o&&(o="value");var p=new Array,f=0,m=new Array,v=t.length;new Array;if(!l)var l=this.records;for(var g=l.length,x=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},_=0;g>_;_++){var b=x(l[_]);id=b[d.uniqueId];var y=new Array,w=0;for(u=0;v>u;u++){var I=t[u],j=b[I];null!=j&&(y[w++]={value:j,hash:c[u]})}if(y.length!=v)break;for(var S=null,T="",C=-1,q=0;q<y.length;q++){C++;var L=y[q].value,B=y[q].hash;if(T=T+"_"+B+"_"+L,void 0==m[T]||null==m[T]){if(null==S){S={level:0},S[a]=null,S[s]=L,S[n]=b,void 0!==b.expanded?S.expanded=b.expanded:S.expanded=!1,o&&(S[o]=b[o]),S[i]=new Array;var A=p.length+h;(!this._source.id||"number"==typeof b.uid||isFinite(b.uid))&&(A="Row"+A),S.uid=A,p[f++]=S}else{var k={level:S.level+1};k[a]=S,k[s]=L,k[i]=new Array,k[n]=b,void 0!==b.expanded?k.expanded=b.expanded:k.expanded=!1,o&&(k[o]=b[o]),k.uid=S.uid+"_"+S[i].length,S[i][S[i].length]=k,S=k}m[T]=S}else S=m[T]}b&&(b.leaf=!0),null!=S?(null==this._source.id&&(void 0==b.uid?b.uid=S.uid+"_"+S[i].length:-1==b.uid.toString().indexOf(S.uid)&&(b.uid=S.uid+"_"+b.uid)),b[a]=S,b.level=S.level+1,S[i][S[i].length]=b):void 0==b.uid&&(b.uid=this.generatekey())}return p},getRecordsHierarchy:function(t,i,s,r,n){var o=new Array,a=this.records;if(n&&(a=n),0==this.records.length)return null;for(var l=null!=s?s:"items",h=[],d=a,c=d.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},f=0;c>f;f++){var m=e.extend({},d[f]),v=m[i],g=m[t];h[g]={parentid:v,item:m}}for(var f=0;c>f;f++){var m=e.extend({},d[f]),v=m[i],g=m[t];if(void 0!=h[v]){var m={parentid:v,item:h[g].item},x=h[v].item;x[l]||(x[l]=[]);var _=x[l].length,b=m.item;u?void 0==b[u.parent]&&(b[u.parent]=x):void 0==b.parent&&(b.parent=x);var y=p(b);x[l][_]=y,h[v].item=x,h[g]=m}else{var b=h[g].item;u?void 0==b[u.parent]&&(b[u.parent]=null):void 0==b.parent&&(b.parent=null);var y=p(b);u?y[u.level]=0:y.level=0,o[o.length]=y}}if(0!=o.length){var w=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var s=t[i][l];s&&s.length>0?w(e+1,s):u?t[i][u.leaf]=!0:t[i].leaf=!0}};w(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,s){if(null==t||void 0==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var r=e(i).attr(t);if(null!=r&&r.toString().length>0)return e.trim(r).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var n=t.split(this.mapChar);if(n.length>1){for(var o=i,a=0;a<n.length;a++)void 0!=o&&(o=o[n[a]]);if(void 0!=o)return o}else if(void 0!=i[t])return i[t]}return s}var r=e(i).attr(t.name);if(null!=r&&r.toString().length>0)return r;if(t.map)try{var r=e(i).attr(t.map);if(null!=r&&r.toString().length>0)return r;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(l){return s}},loadjson:function(t,i,s){"string"==typeof t&&(t=e.parseJSON(t)),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record="");var t=t||i;t||(t=[]);var r=this;if(""!=s.root){var n=s.root.split(r.mapChar);if(n.length>1){for(var o=t,a=0;a<n.length;a++)void 0!=o&&(o=o[n[a]]);t=o}else if(void 0!==t[s.root]?t=t[s.root]:t[0]&&void 0!==t[0][s.root]?t=t[0][s.root]:e.each(t,function(e){return this==s.root?(t=this,!1):void(void 0!=this[s.root]&&(t=this[s.root]))}),!t){var n=s.root.split(r.mapChar);if(n.length>0){for(var o=t,a=0;a<n.length;a++)void 0!=o&&(o=o[n[a]]);t=o}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t||"undefined"==t||void 0==t.length)return void console.log("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==t.length)return void(this.totalrecords=0);var l=t.length;this.totalrecords=this.virtualmode?s.totalrecords||l:l,this.records=new Array,this.originaldata=new Array;var h=this.records,d=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(d=0,l=this.totalrecords);var c=0;this.virtualmode&&(d=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,c=d,d=0,l=this.totalrecords);var u=s.datafields?s.datafields.length:0;if(0==u){var p=t[0],f=new Array;for(obj in p){var m=obj;f[f.length]={name:m}}s.datafields=f,s.generatedfields=s.datafields,u=f.length}for(var v=d,g=d;l>g;g++){var x=t[g];if(void 0==x)break;if(!s.record||""==s.record||(x=x[s.record],void 0!=x)){var _=this.getid(s.id,x,g);if("object"==typeof _&&(_=g),!this.recordids[_]){this.recordids[_]=x;for(var b={},y=0;u>y;y++){var w=s.datafields[y],I="";if(void 0!=w&&null!=w){if(w.map){if(e.isFunction(w.map))I=w.map(x);else{var n=w.map.split(r.mapChar);if(n.length>0){for(var j=x,a=0;a<n.length;a++)void 0!=j&&(j=j[n[a]]);I=j}else I=x[w.map]}void 0!=I&&null!=I?I=this.getvaluebytype(I,w):void 0==I&&null!=I&&(I="")}if(""==I&&!w.map&&(I=x[w.name],void 0==I&&null!=I&&(I=""),void 0!=w.value&&void 0!=I)){var S=I[w.value];void 0!=S&&(I=S)}if(I=this.getvaluebytype(I,w),void 0!=w.displayname?b[w.displayname]=I:b[w.name]=I,"array"===w.type){var T=function(t){if(t)for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var o=0;u>o;o++){var a=s.datafields[o],l="";if(void 0!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(n);else{var h=a.map.split(r.mapChar);if(h.length>0){for(var d=n,c=0;c<h.length;c++)void 0!=d&&(d=d[h[c]]);l=d}else l=n[a.map]}void 0!=l&&null!=l?l=this.getvaluebytype(l,a):void 0==l&&null!=l&&(l="")}if(""==l&&!a.map&&(l=n[a.name],void 0==l&&null!=l&&(l=""),void 0!=a.value&&void 0!=l)){var p=l[a.value];void 0!=p&&(l=p)}l=this.getvaluebytype(l,a),void 0!=a.displayname?n[a.displayname]=l:n[a.name]=l,"array"===a.type&&T.call(this,l)}}}};T.call(this,I)}}}(s.recordendindex<=0||d<s.recordendindex)&&(h[c+v]=e.extend({},b),h[c+v].uid=_,this.originaldata[c+v]=e.extend({},h[g]),v++)}}}this.records=h,this.cachedrecords=this.records},loadxml:function(t,i,s){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record="");var t;t=e.jqx.browser.msie&&i&&void 0!=i.xml?e(s.root+" "+s.record,e.parseXML(i.xml)):t||e(s.root+" "+s.record,i),t||(t=[]);var r=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?s.totalrecords||r:r,this.records=new Array,this.originaldata=new Array;var n=this.records,o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(o=0,r=this.totalrecords);var a=0;this.virtualmode&&(o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,a=o,o=0,r=this.totalrecords);var l=s.datafields?s.datafields.length:0;if(0==l){var h=t[0],d=new Array;for(obj in h){var c=obj;d[d.length]={name:c}}s.datafields=d,s.generatedfields=s.datafields,l=d.length}for(var u=o,p=!1,f=o;r>f;f++){var m=t[f];if(void 0==m)break;var v=this.getid(s.id,m,f);if(!this.recordids[v]){this.recordids[v]=m;var g={},x=!1;s.hierarchy&&s.hierarchy.root&&(x=!0);for(var _=0;l>_;_++){var b=s.datafields[_],y="";if(void 0!=b&&null!=b){if(b.map)if(e.isFunction(b.map))y=b.map(m);else{var w=b.map.indexOf("[");if(0>w)if(y=e(b.map,m),1==y.length)y=y.text();else{p=!0;for(var I=new Array,j=0;j<y.length;j++)I.push(e(y[j]).text());y=I,x&&I.length>0&&(y=I[0])}else{var S=b.map.substring(0,w-1),T=b.map.indexOf("]"),C=b.map.substring(w+1,T);y=e(S,m).attr(C),void 0==y&&(y=e(m).attr(C)),void 0==y&&(y="")}""==y&&(y=e(m).attr(b.map),void 0==y&&(y=""))}if(""==y){if(y=e(b.name,m),1==y.length)y=y.text();else{for(var I=new Array,j=0;j<y.length;j++)I.push(e(y[j]).text());y=I,x&&I.length>0&&(y=I[0])}""==y&&(y=e(m).attr(b.name),void 0==y&&(y="")),""==y&&m.nodeName&&m.nodeName==b.name&&m.firstChild&&(y=e(m.firstChild).text())}y=this.getvaluebytype(y,b),void 0!=b.displayname?g[b.displayname]=y:g[b.name]=y}}(s.recordendindex<=0||o<s.recordendindex)&&(n[a+u]=e.extend({},g),n[a+u].uid=v,this.originaldata[a+u]=e.extend({},n[f]),u++)}}if(s.hierarchy&&s.hierarchy.root)for(var f=o;r>f;f++){var m=t[f],q=n[f];if(e(m).parent().length>0){var v=this.getid(s.id,e(m).parents(s.hierarchy.record+":first"));q.parentuid=v}else q.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,n=e.split("\r");1==r&&n.length>1&&(s=n,r=s.length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var a=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,i=t.exec(e);if(!i)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(i[1],i[2]-1,i[3],i[5]||0,i[6]||0,i[7]||0))},l=0;r>l;l++){var h=s[l];if("BEGIN:VEVENT"!=h)if(h.indexOf("SUMMARY")>=0)c.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);else if(h.indexOf("LOCATION")>=0)c.LOCATION=h.substring(h.indexOf("LOCATION")+9);else if(h.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);else if(h.indexOf("RRULE")>=0)c.RRULE=h.substring(h.indexOf("RRULE")+6);else if(h.indexOf("EXDATE")>=0){var d=h.substring(h.indexOf("EXDATE")+7);c.EXDATE=d}else h.indexOf("DTEND")>=0?c.DTEND=a(h.substring(h.indexOf("DTEND")+6)):h.indexOf("DTSTART")>=0?c.DTSTART=a(h.substring(h.indexOf("DTSTART")+8)):h.indexOf("UID")>=0?c.uid=c.UID=h.substring(h.indexOf("UID")+4):h.indexOf("STATUS")>=0?c.STATUS=h.substring(h.indexOf("STATUS")+7):"END:VEVENT"!=h||o.push(c);else var c={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var s=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(s),n=r.length,o=t.split("\r");1==n&&o.length>1&&(r=o,n=r.length),this.totalrecords=this.virtualmode?i.totalrecords||n:n,this.records=new Array,this.originaldata=new Array;var a=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,n=this.totalrecords);var h=0;this.virtualmode&&(l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,h=l,l=0,n=this.totalrecords);var d=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"	":",");for(var u=l;n>u;u++){var p=r[u],f=null;if(!this.recordids[f]){null==i.id&&(f=u,this.recordids[f]=p);for(var m={},v=r[u].split(c),g=0;d>g;g++)if(!(g>=v.length)){var x=i.datafields[g],_=v[g];x.map&&e.isFunction(x.map)&&(_=x.map(p)),x.type&&(_=this.getvaluebytype(_,x));var b=x.map||x.name||g.toString();m[b]=_,null!=i.id&&i.id===x.name&&(f=_,this.recordids[f]=p)}null==f&&(f=u),a[h+u]=e.extend({},m),a[h+u].uid=f,this.originaldata[h+u]=e.extend({},a[u])}}this.records=a,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(n=o)}t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n,null==t&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=s)}else("bool"==i.type||"boolean"==i.type)&&(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return"undefined"==typeof e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){var e={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return e},expandFormat:function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(i=s[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;n>r;r++)if(i=t[r].start,null===i||s>=i)return r;return 0},toUpper:function(e){return e.split(" ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,s=e.length;s>i;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?(s=this.arrayIndexOf(n[1],t),-1===s&&(s=this.arrayIndexOf(n[2],t))):s=this.arrayIndexOf(n[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var a=this.arrayIndexOf(i?n[1]:n[0],t);return 0>a&&(a=this.arrayIndexOf(i?o[1]:o[0],t)),a},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;n>r;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if((void 0==i||null==i||""==i)&&(i=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var s;t.length>1&&(s=parseInt(t.slice(1),10));var r={},n=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var o,a=0>e,l=e+"",h=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var d=r.decimalPlaces,c=Math.pow(10,d);if(l=(e*c).toFixed(0)/c+"",o=l.lastIndexOf("."),d>0)for(0>o?(l+=h,o=l.length-1):"."!==h&&(l=l.replace(".",h));l.length-1-o<d;)l+="0"}else{var l=e+"";o=l.lastIndexOf("."),o>0&&void 0==d&&"."!==h&&(l=l.replace(".",h))}if(r.thousandsSeparator){var u=r.thousandsSeparator;o=l.lastIndexOf(h),o=o>-1?o:l.length;for(var p=l.substring(o),f=-1,m=o;m>0;m--)f++,f%3===0&&m!==o&&(!a||m>1)&&(p=u+p),p=l.charAt(m-1)+p;l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(t,i){(void 0==i||null==i)&&(i=this.defaultcalendar());var s=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var r=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,n=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==n){var o=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),n=null;o&&(n=new Date(1*o[1]+36e5*o[2]+6e4*o[3]))}if(null==n||"Invalid Date"==n||isNaN(n)){var a=r.exec(t);if(a){var l=new Date(parseInt(a[1]));if(a[2]){var h=parseInt(a[3]);"-"===a[2]&&(h=-h);var d=l.getUTCMinutes();l.setUTCMinutes(d-h)}if(!isNaN(l.valueOf()))return l}}return n}patterns=i.patterns;for(prop in patterns)if(n=s.parsedate(t,patterns[prop],i)){if("ISO"==prop){var c=s.parsedate(t,patterns.ISO2,i);if(c)return c}return n}if(null!=t){for(var c=null,u=[":","/","-"],p=!0,f=0;f<u.length;f++)-1!=t.indexOf(u[f])&&(p=!1);if(p){var m=new Number(t);if(!isNaN(m))return new Date(m)}}if("string"===e.type(t)){var v=s;t=v.trim(t);var g=[":","/","-"," ",","],x=function(e,t,i){return i.replace(new RegExp(e,"g"),t)};t=x(", ",",",t);var _="",b=t;t.indexOf(":")>=0?(_=t.substring(t.indexOf(":")-2),_=v.trim(_),b=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(_=t.substring(t.toUpperCase().indexOf("AM")-2),_=v.trim(_),b=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(_=t.substring(t.toUpperCase().indexOf("PM")-2),_=v.trim(_),b=t.substring(0,t.toUpperCase().indexOf("PM")-2));var y=new Date,w=!1;if(b){for(var I=0;I<g.length;I++)if(b.indexOf(g[I])>=0){u=b.split(g[I]);break}for(var j=new Array,S=new Array,T=new Array,C=null,q=null,I=0;I<u.length;I++){var f=u[I],L=v.parsedate(f,"d",i)||v.parsedate(f,"dd",i)||v.parsedate(f,"ddd",i)||v.parsedate(f,"dddd",i);if(L&&f.length<=2){C=I,j.push(L.getDate());break}}for(var I=0;I<u.length;I++){var f=u[I],B=v.parsedate(f,"M",i)||v.parsedate(f,"MM",i)||v.parsedate(f,"MMM",i)||v.parsedate(f,"MMMM",i);if(B){if(void 0!=C&&C==I)continue;if(S.push(B.getMonth()),f.length>2){q=I;break}}}for(var I=0;I<u.length;I++){var f=u[I],A=v.parsedate(f,"yyyy",i);if(A){if(void 0!=C&&C==I)continue;if(void 0!=q&&q==I)continue;T.push(A.getFullYear())}}for(var k=new Array,H=0;H<j.length;H++)for(var o=0;o<S.length;o++)for(var O=0;O<T.length;O++){var l=new Date(T[O],S[o],j[H]);T[O]<1970&&l.setFullYear(T[O]),NaN!=l.getTime()&&k.push(l)}k.length>0&&(y=k[0],w=!0)}if(_){var z=_.indexOf(":")>=0?_.split(":"):_,E=v.parsedate(_,"h:mm tt",i)||v.parsedate(_,"h:mm:ss tt",i)||v.parsedate(_,"HH:mm:ss.fff",i)||v.parsedate(_,"HH:mm:ss.ff",i)||v.parsedate(_,"HH:mm:ss.tttt",i)||v.parsedate(_,"HH:mm:ss",i)||v.parsedate(_,"HH:mm",i)||v.parsedate(_,"HH",i),P=0,D=0,M=0,W=0;E&&NaN!=E.getTime()?(P=E.getHours(),D=E.getMinutes(),M=E.getSeconds(),W=E.getMilliseconds()):(1==z.length&&(P=parseInt(z[0])),2==z.length&&(P=parseInt(z[0]),D=parseInt(z[1])),3==z.length&&(P=parseInt(z[0]),D=parseInt(z[1]),z[2].indexOf(".")>=0?(M=parseInt(z[2].toString().split(".")[0]),W=parseInt(z[2].toString().split(".")[1])):M=parseInt(z[2])),4==z.length&&(P=parseInt(z[0]),D=parseInt(z[1]),M=parseInt(z[2]),W=parseInt(z[3]))),!y||isNaN(P)||isNaN(D)||isNaN(M)||isNaN(W)||(y.setHours(P,D,M,W),w=!0)}if(w)return y}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,h=0,d=this.getTokenRegExp();null!==(r=d.exec(n));){var c=n.slice(l,r.index);if(l=d.lastIndex,h+=this.appendPreOrPostMatch(c,o),h%2)o.push(r[0]);else{var u,p=r[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(r[0])}}this.appendPreOrPostMatch(n.slice(l),o),o.push("$");var m=o.join("").replace(/\s+/g,"\\s+"),v={regExp:m,groups:a};return i[t]=v},outOfRange:function(e,t,i){return t>e||e>i},expandYear:function(e,t){var i=new Date,s=this.getEra(i);if(100>t){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=this.getEraYear(i,e,s);t+=n-n%100,t>r&&(t-=100)}return t},parsedate:function(e,t,i){(void 0==i||null==i)&&(i=this.defaultcalendar()),e=this.trim(e);var s=i,r=this.getparseregexp(s,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var o,a=r.groups,l=null,h=null,d=null,c=null,u=null,p=0,f=0,m=0,v=0,g=null,x=!1,_=0,b=a.length;b>_;_++){var y=n[_+1];if(y){var w=a[_],I=w.length,j=parseInt(y,10);switch(w){case"dd":case"d":if(c=j,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(s,y,3===I),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=j-1,this.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=4>I?this.expandYear(s,j):j,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(p=j,12===p&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=j,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(f=j,this.outOfRange(f,0,59))return null;break;case"s":case"ss":if(m=j,this.outOfRange(m,0,59))return null;break;case"tt":case"t":if(x=s.PM&&(y===s.PM[0]||y===s.PM[1]||y===s.PM[2]),!x&&(!s.AM||y!==s.AM[0]&&y!==s.AM[1]&&y!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(v=j*Math.pow(10,3-I),this.outOfRange(v,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(s,y,3===I),this.outOfRange(u,0,6))return null;break;case"zzz":var S=y.split(/:/);if(2!==S.length)return null;if(o=parseInt(S[0],10),this.outOfRange(o,-12,13))return null;var T=parseInt(S[1],10);if(this.outOfRange(T,0,59))return null;g=60*o+(this.startsWith(y,"-")?-T:T);break;case"z":case"zz":if(o=j,this.outOfRange(o,-12,13))return null;g=60*o;break;case"g":case"gg":var C=y;if(!C||!s.eras)return null;C=trim(C.toLowerCase());for(var q=0,L=s.eras.length;L>q;q++)if(C===s.eras[q].name.toLowerCase()){l=q;break}if(null===l)return null}}}var B,A=new Date,k=s.convert;if(B=A.getFullYear(),null===h?h=B:s.eras&&(h+=s.eras[l||0].offset),null===d&&(d=0),null===c&&(c=1),k){if(A=k.toGregorian(h,d,c),null===A)return null}else{if(A.setFullYear(h,d,c),A.getDate()!==c)return null;if(null!==u&&A.getDay()!==u)return null}if(x&&12>p&&(p+=12),A.setHours(p,f,m,v),null!==g){var H=A.getMinutes()-(g+A.getTimezoneOffset());A.setHours(A.getHours()+parseInt(H/60,10),H%60)}return A},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=u[t-2]+s,i.substr(i.length-t,t)):i=s}function r(e,t){if(c)return c[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if((void 0==i||null==i)&&(i=this.defaultcalendar()),"string"==typeof e)return e;var n=e.toString()+"_"+t;if(this.datescache&&this.datescache[n])return this.datescache[n];if(!t||!t.length||"i"===t){var o;return o=this.formatDate(e,i.patterns.F,i)}var a=i.eras,l="s"===t;t=this.expandFormat(i,t),o=[];for(var h,d,c,u=["0","00","000"],p=0,f=this.getTokenRegExp();;){var m=f.lastIndex,v=f.exec(t),g=t.slice(m,v?v.index:t.length);if(p+=this.appendPreOrPostMatch(g,o),!v)break;if(p%2)o.push(v[0]);else{var x=v[0],_=x.length;switch(x){case"ddd":case"dddd":var b=3===_?i.days.namesAbbr:i.days.names;o.push(b[e.getDay()]);break;case"d":case"dd":d=!0,o.push(s(r(e,2),_));break;case"MMM":case"MMMM":var y=r(e,1);o.push(i.months[3===_?"namesAbbr":"names"][y]);break;case"M":case"MM":o.push(s(r(e,1)+1,_));break;case"y":case"yy":case"yyyy":y=this.getEraYear(e,i,this.getEra(e,a),l),4>_&&(y%=100),o.push(s(y,_));break;case"h":case"hh":h=e.getHours()%12,0===h&&(h=12),o.push(s(h,_));break;case"H":case"HH":o.push(s(e.getHours(),_));break;case"m":case"mm":o.push(s(e.getMinutes(),_));break;case"s":case"ss":o.push(s(e.getSeconds(),_));break;case"t":case"tt":y=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",o.push(1===_?y.charAt(0):y);break;case"f":case"ff":case"fff":o.push(s(e.getMilliseconds(),3).substr(0,_));break;case"z":case"zz":h=e.getTimezoneOffset()/60,o.push((0>=h?"+":"-")+s(Math.floor(Math.abs(h)),_));break;case"zzz":h=e.getTimezoneOffset()/60,o.push((0>=h?"+":"-")+s(Math.floor(Math.abs(h)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&o.push(i.eras[this.getEra(e,a)].name);break;case"/":o.push(i["/"]);break;default:throw"Invalid date format pattern '"+x+"'."}}}var w=o.join("");return this.datescache||(this.datescache=new Array),this.datescache[n]=w,w}}),e.jqx.data={};var l,h,d=/#.*$/,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,u=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,f=/^\/\//,m=/\?/,v=/([?&])_=[^&]*/,g=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,x=/\s+/,_=(e.fn.load,{}),b={},y=["*/"]+["*"];try{h=location.href}catch(w){h=document.createElement("a"),h.href="",h=h.href}l=g.exec(h.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?s(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),s(t,i),t},ajaxSettings:{url:h,isLocal:u.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":y},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(_),ajaxTransport:t(b),ajax:function(t,s){function o(t,i,s,o){var l,d,c,u,p,f=i;2!==z&&(z=2,I&&clearTimeout(I),w=void 0,h=o||"",P.readyState=t>0?4:0,s&&(u=r(C,P,s)),t>=200&&300>t||304===t?(C.ifModified&&(p=P.getResponseHeader("Last-Modified"),p&&(e.lastModified[a]=p),p=P.getResponseHeader("Etag"),p&&(e.etag[a]=p)),304===t?(f="notmodified",l=!0):(l=n(C,u),f=l.state,d=l.data,c=l.error,l=!c)):(c=f,(!f||t)&&(f="error",0>t&&(t=0))),P.status=t,P.statusText=(i||f)+"",l?B.resolveWith(q,[d,f,P]):B.rejectWith(q,[P,f,c]),P.statusCode(k),k=void 0,S&&L.trigger("ajax"+(l?"Success":"Error"),[P,C,l?d:c]),A.fireWith(q,[P,f]),S&&(L.trigger("ajaxComplete",[P,C]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(s=t,t=void 0),s=s||{};var a,h,u,w,I,j,S,T,C=e.jqx.data.ajaxSetup({},s),q=C.context||C,L=q!==C&&(q.nodeType||q instanceof e)?e(q):e.event,B=e.Deferred(),A=e.Callbacks("once memory"),k=C.statusCode||{},H={},O={},z=0,E="canceled",P={readyState:0,setRequestHeader:function(e,t){if(!z){var i=e.toLowerCase();e=O[i]=O[i]||e,H[e]=t}return this},getAllResponseHeaders:function(){return 2===z?h:null},getResponseHeader:function(e){var t;if(2===z){if(!u)for(u={};t=c.exec(h);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return z||(C.mimeType=e),this},abort:function(e){return e=e||E,w&&w.abort(e),o(0,e),this}};if(B.promise(P),P.success=P.done,P.error=P.fail,P.complete=A.add,P.statusCode=function(e){if(e){var t;if(2>z)for(t in e)k[t]=[k[t],e[t]];else t=e[P.status],P.always(t)}return this},C.url=((t||C.url)+"").replace(d,"").replace(f,l[1]+"//"),C.dataTypes=e.trim(C.dataType||"*").toLowerCase().split(x),null==C.crossDomain&&(j=g.exec(C.url.toLowerCase()),C.crossDomain=!(!j||j[1]===l[1]&&j[2]===l[2]&&(j[3]||("http:"===j[1]?80:443))==(l[3]||("http:"===l[1]?80:443)))),C.data&&C.processData&&"string"!=typeof C.data&&(C.data=e.param(C.data,C.traditional)),i(_,C,s,P),2===z)return P;if(S=C.global,C.type=C.type.toUpperCase(),C.hasContent=!p.test(C.type),S&&0===e.active++&&e.event.trigger("ajaxStart"),!C.hasContent&&(C.data&&(C.url+=(m.test(C.url)?"&":"?")+C.data,delete C.data),a=C.url,C.cache===!1)){var D=e.now(),M=C.url.replace(v,"$1_="+D);C.url=M+(M===C.url?(m.test(C.url)?"&":"?")+"_="+D:"")}(C.data&&C.hasContent&&C.contentType!==!1||s.contentType)&&P.setRequestHeader("Content-Type",C.contentType),C.ifModified&&(a=a||C.url,e.lastModified[a]&&P.setRequestHeader("If-Modified-Since",e.lastModified[a]),e.etag[a]&&P.setRequestHeader("If-None-Match",e.etag[a])),P.setRequestHeader("Accept",C.dataTypes[0]&&C.accepts[C.dataTypes[0]]?C.accepts[C.dataTypes[0]]+("*"!==C.dataTypes[0]?", "+y+"; q=0.01":""):C.accepts["*"]);for(T in C.headers)P.setRequestHeader(T,C.headers[T]);if(C.beforeSend&&(C.beforeSend.call(q,P,C)===!1||2===z))return P.abort();E="abort";for(T in{success:1,error:1,complete:1})P[T](C[T]);if(w=i(b,C,s,P)){P.readyState=1,S&&L.trigger("ajaxSend",[P,C]),C.async&&C.timeout>0&&(I=setTimeout(function(){P.abort("timeout")},C.timeout));try{z=1,w.send(H,o)}catch(W){if(!(2>z))throw W;o(-1,W)}}else o(-1,"No Transport");return P},active:0,lastModified:{},etag:{}});var I=[],j=/\?/,S=/(=)\?(?=&|$)|\?\?/,T=e.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=I.pop()||e.expando+"_"+T++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,s){var r,n,o,a=t.data,l=t.url,h=t.jsonp!==!1,d=h&&S.test(l),c=h&&!d&&"string"==typeof a&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&S.test(a);return"jsonp"===t.dataTypes[0]||d||c?(r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n=window[r],d?t.url=l.replace(S,"$1"+r):c?t.data=a.replace(S,"$1"+r):h&&(t.url+=(j.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||e.error(r+" was not called"),
o[0]},t.dataTypes[0]="json",window[r]=function(){o=arguments},s.always(function(){window[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,I.push(r)),o&&e.isFunction(n)&&n(o[0]),o=n=void 0}),"script"):void 0}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(s,r){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,s){(s||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,s||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var C,q=window.ActiveXObject?function(){for(var e in C)C[e](0,1)}:!1,L=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&o()||a()}:o,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var i;return{send:function(s,r){var n,o,a=t.xhr();if(t.username?a.open(t.type,t.url,t.async,t.username,t.password):a.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)a.setRequestHeader(o,s[o])}catch(l){}a.send(t.hasContent&&t.data||null),i=function(s,o){var l,h,d,c,u;try{if(i&&(o||4===a.readyState))if(i=void 0,n&&(a.onreadystatechange=e.noop,q&&delete C[n]),o)4!==a.readyState&&a.abort();else{l=a.status,d=a.getAllResponseHeaders(),c={},u=a.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=a.responseText}catch(p){}try{h=a.statusText}catch(p){h=""}l||!t.isLocal||t.crossDomain?1223===l&&(l=204):l=c.text?200:404}}catch(f){o||r(-1,f)}c&&r(l,h,c,d)},t.async?4===a.readyState?setTimeout(i,0):(n=++L,q&&(C||(C={},e(window).unload(q)),C[n]=i),a.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=1,i=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL"],o=new Array,a=new Array;this.evaluate=function(e){for(var i=!0,s=0;s<o.length;s++){var r=o[s].evaluate(e);i=0==s?r:a[s]==t||"or"==a[s]?i||r:i&&r}return i},this.getfilterscount=function(){return o.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":s=t;break;case"stringfilter":i=t;break;case"datefilter":r=t;break;case"booleanfilter":n=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=s.slice(0);break;case"stringfilter":t=i.slice(0);break;case"datefilter":t=r.slice(0);break;case"booleanfilter":t=n.slice(0)}return t};var l=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,s,r,n){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new c(t,i.toUpperCase());case"stringfilter":return new h(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),r,n);case"booleanfilter":return new d(t,i.toUpperCase());case"custom":return new p(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<o.length;t++){var i={value:o[t].filtervalue,condition:o[t].comparisonoperator,operator:a[t],type:o[t].type};o[t].data&&(i.id=o[t].data),e[t]=i}return e},this.addfilter=function(e,t){o[o.length]=t,t.key=l(),a[a.length]=e},this.removefilter=function(e){for(var t=0;t<o.length;t++)if(o[t].key==e.key){o.splice(t,1),a.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:0>e||e>o.length?null:a[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:0>e||e>o.length?null:void(a[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:0>e||e>o.length?null:o[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:0>e||e>o.length?null:(t.key=l(),void(o[e]=t))},this.clear=function(){o=new Array,a=new Array};var h=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==s)return!0;if("EQUAL"==s&&t==i)return!0;if("NOT_EQUAL"==s&&t!=i)return!0;if("EMPTY"!=s)return!1;if(""==t)return!0}var r="";try{r=t.toString()}catch(n){return!0}var o=function(t,i){switch(s){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},a=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=o(r,i);if(l)return l;var h=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array,p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);var m=i.indexOf(" ")>=0?i.split(" "):new Array;if(m.length>0)for(var f=0;f<m.length;f++)m[f]=e.trim(m[f]);if(h=h.concat(m),h=h.concat(c),d=d.concat(p),d=d.concat(u),h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" OR ")>=0&&a.push(h[f]);if(d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" AND ")>=0&&a.push(d[f]);for(var v=void 0,g=0;g<a.length;g++){var t=a[g],l=o(r,t),x=g<h.length?"and":"or";v=void 0==v?l:"or"==x?v||l:v&&l}return v}return o(r,i)}},d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==i?!0:!1;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},c=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==s)return!1;if("NULL"==s)return!0;switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==s)return!1;if("NOT_NULL"==s)return!0;var r=t;try{r=parseFloat(r)}catch(n){if(""!=t.toString())return!1}var o=function(t,i){switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},a=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=o(r,i);if(l)return l;i=i.toString();var h=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array;h=h.concat(c),d=d.concat(u);var p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);if(d=d.concat(p),h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" OR ")>=0&&a.push(h[f]);if(d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" AND ")>=0&&a.push(d[f]);for(var m=void 0,v=0;v<a.length;v++){var t=a[v];if(t&&t.indexOf&&t.indexOf("..")>=0){var g=t.toString().split("..");2==g.length&&(l=r>=g[0]&&r<=g[1])}else var l=o(r,t);var x=v<h.length?"and":"or";m=void 0==m?l:"or"==x?m||l:m&&l}return m}return i&&i.indexOf&&i.indexOf("..")>=0&&(a=i.toString().split(".."),2==a.length)?r>=a[0]&&r<=a[1]:o(r,i)}},u=function(t,i,s,r){this.filtervalue=t,this.type="datefilter";var n=this;if(void 0!=s&&void 0!=r){var o=e.jqx.dataFormat.parsedate(t,s,r);if(null!=o)this.filterdate=o;else{var a=e.jqx.dataFormat.tryparsedate(t,r);null!=a&&(this.filterdate=a)}}else{var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}if(!this.filterdate){var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,o=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var l=new Date(t);t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l,a=t;var h=!1;if(void 0!=s&&void 0!=r&&(s.indexOf("t")>=0||s.indexOf("T")>=0||s.indexOf(":")>=0||s.indexOf("f")>=0)&&(h=!0,i&&-1==i.toString().indexOf(":"))){var d=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r);null!=d&&(n.filterdate=d)}h||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(c){if(""!=t.toString())return!1}if(null!=n.filterdate)i=n.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var u=new Date(a);u.setHours(12,0,0,0);for(var p=i.split(":"),f=0;f<p.length;f++)0==f&&u.setHours(p[f]),1==f&&u.setMinutes(p[f]),2==f&&u.setSeconds(p[f]);i=u}h&&i&&i.setFullYear&&a&&a.getFullYear&&-1==s.indexOf("d")&&-1==s.indexOf("M")&&-1==s.indexOf("y")&&i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());var m=function(t,i){switch(null==t&&(t=""),o){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},v=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var d=m(a,i);if(d)return d;var g=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,x=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,_=i.indexOf(" and ")>=0?i.split(" and "):new Array,b=i.indexOf(" or ")>=0?i.split(" or "):new Array;g=g.concat(_),x=x.concat(b);var y=i.indexOf("|")>=0?i.split("|"):new Array;if(y.length>0)for(var f=0;f<y.length;f++)y[f]=e.trim(y[f]);if(x=x.concat(y),g.length>0)for(var f=0;f<g.length;f++)!g[f].indexOf(" OR ")>=0&&v.push(g[f]);if(x.length>0)for(var f=0;f<x.length;f++)!x[f].indexOf(" AND ")>=0&&v.push(x[f]);for(var w=void 0,I=0;I<v.length;I++){var t=v[I];if(t&&t.indexOf&&t.indexOf("..")>=0){var j=t.toString().split("..");2==j.length&&(d=a>=j[0]&&a<=j[1])}else var d=m(a,t);var S=I<g.length?"and":"or";w=void 0==w?d:"or"==S?w||d:w&&d}return w}return i&&i.indexOf&&i.indexOf("..")>=0&&(v=i.toString().split(".."),2==v.length)?a>=v[0]&&a<=v[1]:m(a,i)}},p=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}},e.jqx.longInt=function(){var e=this;e.longObj=new Object;var t=e.longObj;return t.mathObj=new Object,t.mathObj.Long=new Object,t.mathObj.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.mathObj.Long.IntCache={},t.mathObj.Long.fromInt=function(e){if(e>=-128&&128>e){var i=t.mathObj.Long.IntCache[e];if(i)return i}var s=new t.mathObj.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(t.mathObj.Long.IntCache[e]=s),s},t.mathObj.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.mathObj.Long.ZERO:e<=-t.mathObj.Long.TWO_PWR_63_DBL_?t.mathObj.Long.MIN_VALUE:e+1>=t.mathObj.Long.TWO_PWR_63_DBL_?t.mathObj.Long.MAX_VALUE:0>e?t.mathObj.Long.fromNumber(-e).negate():new t.mathObj.Long(e%t.mathObj.Long.TWO_PWR_32_DBL_|0,e/t.mathObj.Long.TWO_PWR_32_DBL_|0)},t.mathObj.Long.fromBits=function(e,i){return new t.mathObj.Long(e,i)},t.mathObj.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var s=i||10;if(2>s||s>36)throw new Error("radix out of range: "+s);if("-"===e.charAt(0))return t.mathObj.Long.fromString(e.substring(1),s).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var r=t.mathObj.Long.fromNumber(Math.pow(s,8)),n=t.mathObj.Long.ZERO,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+a),s);if(8>a){var h=t.mathObj.Long.fromNumber(Math.pow(s,a));n=n.multiply(h).add(t.mathObj.Long.fromNumber(l))}else n=n.multiply(r),n=n.add(t.mathObj.Long.fromNumber(l))}return n},t.mathObj.Long.TWO_PWR_16_DBL_=65536,t.mathObj.Long.TWO_PWR_24_DBL_=1<<24,t.mathObj.Long.TWO_PWR_32_DBL_=t.mathObj.Long.TWO_PWR_16_DBL_*t.mathObj.Long.TWO_PWR_16_DBL_,t.mathObj.Long.TWO_PWR_31_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_/2,t.mathObj.Long.TWO_PWR_48_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_*t.mathObj.Long.TWO_PWR_16_DBL_,t.mathObj.Long.TWO_PWR_64_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_*t.mathObj.Long.TWO_PWR_32_DBL_,t.mathObj.Long.TWO_PWR_63_DBL_=t.mathObj.Long.TWO_PWR_64_DBL_/2,t.mathObj.Long.ZERO=t.mathObj.Long.fromInt(0),t.mathObj.Long.ONE=t.mathObj.Long.fromInt(1),t.mathObj.Long.NEG_ONE=t.mathObj.Long.fromInt(-1),t.mathObj.Long.MAX_VALUE=t.mathObj.Long.fromBits(-1,2147483647),t.mathObj.Long.MIN_VALUE=t.mathObj.Long.fromBits(0,-2147483648),t.mathObj.Long.TWO_PWR_24_=t.mathObj.Long.fromInt(1<<24),t.mathObj.Long.prototype.toInt=function(){return this.lowBits},t.mathObj.Long.prototype.toNumber=function(){return this.highBits*t.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.mathObj.Long.prototype.toString=function(i){var s=i||10;if(2>s||s>36)throw new Error("radix out of range: "+s);if(this.isZero())return"0";var r,n;if(this.isNegative()){if(this.equals(t.mathObj.Long.MIN_VALUE)){var o=t.mathObj.Long.fromNumber(s),a=this.div(o);return r=a.multiply(o).subtract(this),a.toString(s)+r.toInt().toString(s)}switch(s){case 2:case 8:case 16:return n="-"+this.negate().toString(2),e._negativeBinary(n,s);default:return n="-"+this.negate().toString(s)}}var l=t.mathObj.Long.fromNumber(Math.pow(s,6));for(r=this,n="";;){var h=r.div(l),d=r.subtract(h.multiply(l)).toInt(),c=d.toString(s);if(r=h,r.isZero())return c+n;for(;c.length<6;)c="0"+c;n=""+c+n}},t.mathObj.Long.prototype.getHighBits=function(){return this.highBits},t.mathObj.Long.prototype.getLowBits=function(){return this.lowBits},t.mathObj.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits},t.mathObj.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.mathObj.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0===(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.mathObj.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.mathObj.Long.prototype.isNegative=function(){return this.highBits<0},t.mathObj.Long.prototype.isOdd=function(){return 1===(1&this.lowBits)},t.mathObj.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.mathObj.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.mathObj.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.mathObj.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.mathObj.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.mathObj.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.mathObj.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.mathObj.Long.prototype.negate=function(){return this.equals(t.mathObj.Long.MIN_VALUE)?t.mathObj.Long.MIN_VALUE:this.not().add(t.mathObj.Long.ONE)},t.mathObj.Long.prototype.add=function(e){var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,o=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=n+h,u+=p>>>16,p&=65535,u+=r+l,c+=u>>>16,u&=65535,c+=s+a,d+=c>>>16,c&=65535,d+=i+o,d&=65535,t.mathObj.Long.fromBits(u<<16|p,d<<16|c)},t.mathObj.Long.prototype.subtract=function(e){return this.add(e.negate())},t.mathObj.Long.prototype.multiply=function(e){if(this.isZero())return t.mathObj.Long.ZERO;if(e.isZero())return t.mathObj.Long.ZERO;if(this.equals(t.mathObj.Long.MIN_VALUE))return e.isOdd()?t.mathObj.Long.MIN_VALUE:t.mathObj.Long.ZERO;if(e.equals(t.mathObj.Long.MIN_VALUE))return this.isOdd()?t.mathObj.Long.MIN_VALUE:t.mathObj.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.mathObj.Long.TWO_PWR_24_)&&e.lessThan(t.mathObj.Long.TWO_PWR_24_))return t.mathObj.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,o=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=n*h,u+=p>>>16,p&=65535,u+=r*h,c+=u>>>16,u&=65535,u+=n*l,c+=u>>>16,u&=65535,c+=s*h,d+=c>>>16,c&=65535,c+=r*l,d+=c>>>16,c&=65535,c+=n*a,d+=c>>>16,c&=65535,d+=i*h+s*l+r*a+n*o,d&=65535,t.mathObj.Long.fromBits(u<<16|p,d<<16|c)},t.mathObj.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.mathObj.Long.ZERO;var i,s;if(this.equals(t.mathObj.Long.MIN_VALUE)){if(e.equals(t.mathObj.Long.ONE)||e.equals(t.mathObj.Long.NEG_ONE))return t.mathObj.Long.MIN_VALUE;if(e.equals(t.mathObj.Long.MIN_VALUE))return t.mathObj.Long.ONE;var r=this.shiftRight(1);if(i=r.div(e).shiftLeft(1),i.equals(t.mathObj.Long.ZERO))return e.isNegative()?t.mathObj.Long.ONE:t.mathObj.Long.NEG_ONE;s=this.subtract(e.multiply(i));var n=i.add(s.div(e));return n}if(e.equals(t.mathObj.Long.MIN_VALUE))return t.mathObj.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var o=t.mathObj.Long.ZERO;for(s=this;s.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),l=48>=a?1:Math.pow(2,a-48),h=t.mathObj.Long.fromNumber(i),d=h.multiply(e);d.isNegative()||d.greaterThan(s);)i-=l,h=t.mathObj.Long.fromNumber(i),d=h.multiply(e);h.isZero()&&(h=t.mathObj.Long.ONE),o=o.add(h),s=s.subtract(d)}return o},t.mathObj.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.mathObj.Long.prototype.not=function(){return t.mathObj.Long.fromBits(~this.lowBits,~this.highBits)},t.mathObj.Long.prototype.and=function(e){return t.mathObj.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.mathObj.Long.prototype.or=function(e){return t.mathObj.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.mathObj.Long.prototype.xor=function(e){return t.mathObj.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.mathObj.Long.prototype.shiftLeft=function(e){if(e&=63,0===e)return this;var i=this.lowBits;if(32>e){var s=this.highBits;return t.mathObj.Long.fromBits(i<<e,s<<e|i>>>32-e)}return t.mathObj.Long.fromBits(0,i<<e-32)},t.mathObj.Long.prototype.shiftRight=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var s=this.lowBits;return t.mathObj.Long.fromBits(s>>>e|i<<32-e,i>>e)}return t.mathObj.Long.fromBits(i>>e-32,i>=0?0:-1)},t.mathObj.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var s=this.lowBits;return t.mathObj.Long.fromBits(s>>>e|i<<32-e,i>>>e)}return 32===e?t.mathObj.Long.fromBits(i,0):t.mathObj.Long.fromBits(i>>>e-32,0)},t},e.jqx.math=function(){var t=new Object,i=new e.jqx.longInt;return t.getDecimalNotation=function(e,t){function i(e){for(var t="-0123456789",i="⁻⁰¹²³⁴⁵⁶⁷⁸⁹",s="",r=0;r<e.length;r++){var n=t.indexOf(e.charAt(r));s+=-1!==n?i[n]:e[r]}return s}function s(e){if("0"===e)return parseInt(e).toExponential();var t;"-"===e.charAt(0)?(t="-",e=e.slice(1,e.length)):t="";for(var i=e.length-1;"0"===e.charAt(e.length-1);)e=e.slice(0,e.length-1);var s=e.slice(1,e.length);return""!==s&&(s="."+s),t+""+e.charAt(0)+s+"e+"+i}function r(e){var t=e.indexOf("e"),s=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","×10"),r+=i(s),r=r.replace("+","")}function n(e){var t=e.indexOf("e"),s=e.slice(t+1),r=e.slice(0,t),n=parseInt(s,10)%3;r*=Math.pow(10,n);var o=e.slice(0,t).length-n-2;o>=0&&(r=r.toFixed(o));var a=r+"×10"+i((parseInt(s,10)-n).toString());return a}if("decimal"===t)return e;e=e.toString();var o=s(e);return"scientific"===t?r(o):"engineering"===t?n(o):o},e.extend(t,i.mathObj.Long),t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:e.jqx.utilities.dropdown_width,height:e.jqx.utilities.dropdown_height,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){var t=this;t.width||(t.width=e.jqx.utilities.dropdown_width),t.height||(t.height=e.jqx.utilities.dropdown_height);var i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":s.id=e.jqx.utilities.createId()+"_jqxDropDownList";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var n=t.host.data();if(t.host=r,t.host.data(n),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}var a=e.jqx.parseSourceTag(t.field);t.source=a.items,-1==t.selectedIndex&&(t.selectedIndex=a.index)}t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||e.jqx.utilities.createId(),t.host.attr("role","combobox"),e.jqx.aria(t,"aria-autocomplete","both"),e.jqx.aria(t,"aria-readonly",!1);var l="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")||t.host.attr("tabindex",0);t.touch=e.jqx.mobile.isTouchDevice(),t.comboStructure=l,t.element.innerHTML=l,t.dropdownlistWrapper=e(t.element.firstChild.firstChild),t.dropdownlistArrow=e(t.dropdownlistWrapper[0].firstChild.nextSibling),t.arrow=e(t.dropdownlistArrow[0].firstChild),t.dropdownlistContent=e(t.dropdownlistWrapper[0].firstChild),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),t.rtl&&t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1}),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t._addInput(),"Please Choose:"!=t.promptText&&(t.placeHolder=t.promptText);var h=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+h,t._firstDiv=e(t.element.firstChild);try{var d="listBox"+t.id,c=e(e.find("#"+d));c.length>0&&c.remove(),e.jqx.aria(t,"aria-owns",d),e.jqx.aria(t,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");u.hide(),u.appendTo(document.body),t.container=u,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var p=t.width;"auto"!=t.dropDownWidth&&(p=t.dropDownWidth),null==p&&(p=t.host.width(),0==p&&(p=t.dropDownWidth)),null==t.dropDownHeight&&(t.dropDownHeight=200);t.container.css({width:parseInt(p,10)}),t.container.css({height:parseInt(t.dropDownHeight)+25}),t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse"),t._raiseEvent("6")}),t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,_renderOnDemand:!0,emptyString:t.emptyString,itemHeight:t.itemHeight,width:p,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox.selectIndex(t.selectedIndex),t.listBox._arrange(),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.addHandler(t.listBoxContainer,"unselect",function(e){t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(f){console&&console.log(f)}var t=t;if(t.propertyChangeMap.disabled=function(i,s,r,n){n?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(i,"aria-disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),
"simple"===t.renderMode&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all"))),t._updateHandlers(),t._setSize(),t._arrange(),t.listBox&&t.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var m=t.host.parents(".jqx-window").css("z-index");u.css("z-index",m+10),t.listBoxContainer.css("z-index",m+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(this.input&&(t(e)||0==arguments.length))return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host.focus(),e._firstDiv&&e._firstDiv.focus()};t(),setTimeout(function(){t()},10)}catch(i){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height});var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.css({width:this.width})),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.css({height:this.height}));var i=this,s=function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.css({width:parseInt(e)+25})}};if(t){var r=this.host.outerWidth();"auto"!=this.dropDownWidth&&(r=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:r}),this.container.css({width:parseInt(r)})}e.jqx.utilities.resize(this.host,function(){s()},!1,this._checkForHiddenParent)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==t.listBoxContainer?!0:!1},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){var i=t.isOpened();i&&t.close()});var s="mousedown";this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,s,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var e=t.isOpened();!e&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){var i=t.isOpened();if(i&&t.autoOpen){var s=t.host.coord(),r=s.top,n=s.left,o=t.container.coord(),a=o.left,l=o.top;canClose=!0,e.pageY>=r&&e.pageY<=r+t.host.height()&&e.pageX>=n&&e.pageX<n+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()&&e.pageX>=a&&e.pageX<a+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),i&&"9"!=e.keyCode?!1:!0;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),void 0!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(t._kbnavigated===!1&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),void 0==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t=this,i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id)},getItem:function(e){var t=this.listBox.getItem(e);return t},getItemByValue:function(e){var t=this.listBox.getItemByValue(e);return t},selectItem:function(e){void 0!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){void 0!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var s=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(s);r&&(t=r)}if(this.checkboxes){var n=this.getCheckedItems();t=null!=n&&n.length>0?n[0]:null}if(null==t){var o=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-listitem-state-normal")),o.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(o,this.placeHolder);var a=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");o.css("padding-top",a),o.css("padding-bottom",l);var h=o.outerHeight();o.remove(),o.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,o);var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));parseInt((parseInt(d)-parseInt(h))/2);return this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,-1,"","")),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var o=e(document.createElement("span"));o[0].setAttribute("unselectable","on");try{o[0].style.color="inherit"}catch(c){}o[0].style.borderWidth="0px",o[0].style.backgroundColor="transparent",o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var u=!1;try{void 0!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(o,t.html):void 0!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(o,t.label):null===t.label||""===t.label?(u=!0,e.jqx.utilities.html(o,"")):void 0!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(o,t.value):void 0!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(o,t.title):(""==t.label||null==t.label)&&(u=!0,e.jqx.utilities.html(o,""))}catch(p){}var a=this.dropdownlistContent[0].style.paddingTop,l=this.dropdownlistContent[0].style.paddingBottom;""===a&&(a="0px"),""===l&&(l="0px"),o[0].style.paddingTop=a,o[0].style.paddingBottom=l;var h=o.outerHeight();0===h&&(h=16),""!=t.label&&null!=t.label||!u||e.jqx.utilities.html(o,"");var f=this.width&&this.width.toString().indexOf("%")<=0;if(o.remove(),o.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var m=this.getCheckedItems(),v="",g=0;g<m.length;g++)v+=g==m.length-1?m[g].label:m[g].label+",";o.text(v),f&&o.css("max-width",this.host.width()-30),o.css("overflow","hidden"),o.css("display","block"),this.rtl||f&&o.css("width",this.host.width()-30),o.css("text-overflow","ellipsis"),o.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(o),this.focusable&&this.isOpened()&&this.focus()}else{var x=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(f&&(this.rtl||o.css("max-width",x+"px")),o[0].style.overflow="hidden",o[0].style.display="block",o[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||f&&(o[0].style.width=x+"px"),o[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=o[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));parseInt((parseInt(d)-parseInt(h))/2);this.selectionRenderer,this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var s=this.getCheckedItems(),r="";if(null!=s)for(var n=0;n<s.length;n++){var o=s[n].value;void 0!=o&&(r+=n==s.length-1?o:o+",",t.push(o))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null==e?!1:this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>a&&a>n?Math.abs(n+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.outerWidth()){var t=this.host.outerWidth();this.listBoxContainer.jqxListBox({width:t}),this.container.css({width:parseInt(t,10)})}var i,s=this,r=this.listBoxContainer,n=this.listBox,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),a=parseInt(Math.round(this.host.coord(!0).left));i=a+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.css({height:this.listBoxContainer.height()+25}),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),o=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",o),n._arrange();var h=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),c=Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(a))-c+"px"):this.container.css("left",25+parseInt(Math.round(a))+c+"px")}if(this.enableBrowserBoundsDetection){var u=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(o)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=u.top?(h=!0,r.css("top",9),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",u.top),parseInt(this.container.css("left"))!=u.left&&this.container.css("left",u.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),n._renderItems(),s._raiseEvent("0",n);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)});else{r.css("opacity",1);var p=r.outerHeight();h?r.css("margin-top",p):r.css("margin-top",-p),r.animate({"margin-top":4},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)})}h?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,s=this.container,r=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!r.ishiding){t.stop();var n=t.outerHeight();t.css("margin-top",0),r.isanimating=!0;var o=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})):t.animate({"margin-top":o},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var n=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=r&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){e!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.outerWidth()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=4,n=t-s-2*r;if(n>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=n+"px":0>=n&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),t=e.dropdownlistContent.width()+s+2*r,e.host.css({width:t})),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=s+"px",e.width&&e.width.toString().indexOf("%")>=0){var o=100*s/t,a=100*n/t;e.dropdownlistArrow[0].style.width=o+"%",e.dropdownlistContent[0].style.width=a+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);r.owner=this,(2==t||3==t||4==t||5==t)&&(r.args=i);var n=this.host.trigger(r);return n},propertyChangedHandler:function(t,i,s,r){if(void 0!=t.isInitialized&&0!=t.isInitialized){if("filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),("displayMember"==i||"valueMember"==i)&&(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(s,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.css({height:t.listBoxContainer.height()+25}):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.css({height:parseInt(t.dropDownHeight)+25})),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.css({height:parseInt(t.dropDownHeight)+25}))),"dropDownWidth"==i||"scrollBarSize"==i){var n=t.width;"auto"!=t.dropDownWidth&&(n=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:n,scrollBarSize:t.scrollBarSize}),t.container.css({width:parseInt(n)+25})}if(("width"==i||"height"==i)&&r!=s&&(this.refresh(),"width"==i&&"auto"==t.dropDownWidth)){var n=t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.css({width:parseInt(n)+25})}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),i.render();var s=i;e.jqx.utilities.resize(i.host,function(){s._updateSize()},!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":s.id=e.jqx.utilities.createId()+"_jqxListBox";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var n=t.host.data();if(t.host=r,t.host.data(n),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}}t.element.innerHTML="";var t=t,a=t.element.className;a+=" "+t.toThemeProperty("jqx-listbox"),a+=" "+t.toThemeProperty("jqx-reset"),a+=" "+t.toThemeProperty("jqx-rc-all"),a+=" "+t.toThemeProperty("jqx-widget"),a+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=a;var l=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css({width:t.width}),l=!0),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css({height:t.height}),0==t.host.height()&&t.host.css({height:200}),l=!0),null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host.css({width:t.width}):void 0==t.width||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host.css({height:t.height}):void 0==t.height||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?e.jqx.aria(t,"aria-multiselectable",!0):e.jqx.aria(t,"aria-multiselectable",!1);var h="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";
t.host.attr("role","listbox"),t.element.innerHTML=h,t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.filter=e(t.element.firstChild.firstChild.firstChild),t.filterInput=e(t.filter[0].firstChild),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()});var d=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!d.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var c=parseInt(t.host.height())/2;0==c&&(c=10),t.vScrollBar=d.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:c});var u=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(t.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=e(t.element.firstChild.firstChild.firstChild.nextSibling),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=e.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=e.data(t.hScrollBar[0],"jqxScrollBar").instance,t.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var p=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(p),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")}t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i),t._lastScroll=new Date}if("hidden"!=t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){e._cachedItemHtml=new Array,e.clearSelection(),e.refresh()},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&(!t.batchUpdate||"touchMode"==i||"rtl"==i)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var n=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(n,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=n),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),("source"==i||"checkboxes"==i)&&(null==r&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),("scrollBarSize"==i||"equalItemsWidth"==i)&&r!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var o=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(o),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&r?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||r||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||("width"==i||"height"==i)&&t._updateSize(),"theme"==i&&s!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(s!=r){var a=t.selectedIndex;t.refresh(),t.selectedIndex=a,t.selectedIndexes[a]=a}t._renderItems()}"autoHeight"==i&&(s!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i="#"+t,s=e(i);if(s.length>0){var r=e.jqx.parseSourceTag(s[0]),n=r.items,o=r.index;this.source=n,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=o,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void s(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._raiseEvent("6"),this._render(!1,1==t),s(t)}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight,0>t&&(t=0));var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;(void 0==t||null==t)&&(t=this.visibleItems);for(var s=t.length;s>=i;){mid=parseInt((i+s)/2);var r=t[mid];if(void 0==r)break;if(r.initialTop>e&&r.initialTop+r.height>e)s=mid-1;else{if(!(r.initialTop<e&&r.initialTop+r.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,r=parseInt(i.value),n=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(n=s.max-n);var o=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),a=o+parseInt(s.max),l=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(l=0),"visible"!=this.hScrollBar[0].style.visibility&&(a=o);var h=(this._getVirtualItemsCount(),new Array),d=0,c=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(c=this.host.outerHeight()),isNaN(c)&&(c=0);var u=0,p=0,f=0;if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++){var v=this.items[m];if(v.visible){v.top=-r,v.initialTop=-r,!v.isGroup&&v.visible&&(this.visibleItems[p++]=v,v.visibleIndex=p-1),this.renderedVisibleItems[f++]=v,v.left=-n;var g=v.top+v.height;g>=0&&v.top-v.height<=c&&(h[d++]={index:m,item:v}),r-=v.height}}var x=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,_=0;d=0;for(var b=this.vScrollInstance.value,y=0;100+c>_;){var v=this.renderedVisibleItems[x];if(void 0==v)break;if(v.visible){v.left=-n;var g=v.top+v.height-b;g>=0&&v.initialTop-b-v.height<=2*c&&(h[d++]={index:x,item:v})}if(x++,v.visible&&(_+=v.initialTop-b+v.height-_),y++,y>this.items.length-1)break}if(!this._renderOnDemand)for(var w=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),I=this.toThemeProperty("jqx-listitem-state-group"),j=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),S=0,T=this,m=0;m<this.visualItems.length;m++){var C=this.visualItems[m],q=function(){var e=C[0].firstChild;if(T.checkboxes&&(e=C[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),T.checkboxes){var t=C.find(".chkbox");t.css({visibility:"hidden"})}};if(m<h.length){var v=h[m].item;if(v.initialTop-b>=c){q();continue}var L=e(C[0].firstChild);if(this.checkboxes&&(L=e(C[0].lastChild)),0==L.length)continue;if(null==L[0])continue;L[0].className="",L[0].style.display="block",L[0].style.visibility="inherit";var B="";if(B=!v.isGroup&&!this.selectedIndexes[v.index]>=0?w:I,(v.disabled||this.disabled)&&(B+=" "+j),this.roundedcorners&&(B+=" "+this.toThemeProperty("jqx-rc-all")),t&&(B+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),L[0].className=B,this.renderer)if(v.key||(v.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[v.key])L[0].innerHTML!=this._cachedItemHtml[v.key]&&(L[0].innerHTML=this._cachedItemHtml[v.key]);else{var A=this.renderer(v.index,v.label,v.value);L[0].innerHTML=A,this._cachedItemHtml[v.key]=L[0].innerHTML}else{if(-1!==this.itemHeight){var k=2+2*parseInt(L.css("padding-top"));L[0].style.lineHeight=v.height-k+"px",L.css("vertical-align","middle")}null!=v.html&&v.html.toString().length>0?L[0].innerHTML=v.html:null!=v.label||null!=v.value?null!=v.label?(L[0].innerHTML!==v.label&&(L[0].innerHTML=v.label),""==e.trim(v.label)&&(L[0].innerHTML=this.emptyString,""==this.emptyString&&(L[0].style.height=v.height-8+"px")),this.incrementalSearch||v.disabled||void 0!=this.searchString&&""!=this.searchString&&(L[0].innerHTML=this._highlight(v.label.toString(),this.searchString))):null===v.label?(L[0].innerHTML=this.emptyString,""==this.emptyString&&(L[0].style.height=v.height-8+"px")):L[0].innerHTML!==v.value?L[0].innerHTML=v.value:""==v.label&&(L[0].innerHTML=" "):(""==v.label||null==v.label)&&(L[0].innerHTML="",L[0].style.height=v.height-8+"px")}if(C[0].style.left=v.left+"px",C[0].style.top=v.initialTop-b+"px",v.element=L[0],v.title&&(L[0].title=v.title),this.equalItemsWidth&&!v.isGroup){if(0==u){var H=parseInt(a),O=parseInt(L.outerWidth())-parseInt(L.width());H-=O;var z=1;z=null!=z?parseInt(z):0,H-=2*z,u=H,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(u-=18)}o>this.virtualSize.width?(L[0].style.width=u+"px",v.width=u):(L[0].style.width=-4+this.virtualSize.width+"px",v.width=this.virtualSize.width-4)}else L.width()<this.host.width()&&L.css({width:this.host.width()-2});if(this.rtl&&(L[0].style.textAlign="right"),this.autoItemsHeight&&(L[0].style.whiteSpace="pre-line",L.css({width:u}),v.width=u),S=0,this.checkboxes&&!v.isGroup){0==S&&(S=(v.height-16)/2,S++);var E=e(C.children()[0]);E[0].item=v,this.rtl?"0px"!=L[0].style.left&&(L[0].style.left="0px"):"18px"!=L[0].style.left&&(L[0].style.left="18px"),this.rtl&&E.css("left",8+v.width+"px"),E[0].style.top=S+"px",E[0].style.display="block",E[0].style.visibility="inherit";var P=v.checked,D=v.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";E[0].firstChild&&E[0].firstChild.firstChild&&E[0].firstChild.firstChild.firstChild&&E[0].firstChild.firstChild&&(P?E[0].firstChild.firstChild.firstChild.className=D:P===!1?E[0].firstChild.firstChild.firstChild.className="":null===P&&(E[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(P?C[0].setAttribute("aria-selected",!0):C[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var E=e(C.children()[0]);E.css({display:"none",visibility:"inherit"})}!v.disabled&&(!this.filterable&&this.selectedIndexes[v.visibleIndex]>=0||v.selected&&this.filterable)?(L.addClass(this.toThemeProperty("jqx-listitem-state-selected")),L.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(C[0].setAttribute("aria-selected",!0),this._activeElement=C[0])):this.checkboxes||e.jqx.ariaEnabled&&C[0].removeAttribute("aria-selected")}else q()}}},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,s=2,r=0,n=document.createElement("span");this.equalItemsWidth&&e(n).css("float","left"),n.style.whiteSpace="pre";var o=0,a=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(n);var l=this.items.length,h=this.host.width();if(this.autoItemsHeight&&(h-=10,"hidden"!=this.vScrollBar.css("visibility")&&(h-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var r=0;l>r;r++){var d=this.items[r];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){var c="";if(c+=d.isGroup?this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch")),n.className=c,this.autoItemsHeight){n.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;n.style.width=u+h+"px"}if(this.renderer){var p=this.renderer(d.index,d.label,d.value);n.innerHTML=p}else null!=d.html&&d.html.toString().length>0?n.innerHTML=d.html:(null!=d.label||null!=d.value)&&(null!=d.label?(n.innerHTML=d.label,""==d.label&&(n.innerHTML="Empty")):n.innerHTML=d.value);var f=n.offsetHeight,m=n.offsetWidth;this.itemHeight>-1&&(f=this.itemHeight),d.height=f,d.width=m,s+=f,i=Math.max(i,m),a>=s&&o++}}else{for(var s=0,v=0,g="",x=0,_=0,b=-1,r=0;l>r;r++){var d=this.items[r];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){b++;var c="";if(0==b){if(c+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),c+=" "+this.toThemeProperty("jqx-widget"),c+=" "+this.toThemeProperty("jqx-listbox"),c+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch"),c+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),n.className=c,this.autoItemsHeight){n.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;n.style.width=u+h+"px"}null==d.html||""==d.label||null==d.label?n.innerHTML="Item":null!=d.html&&d.html.toString().length>0?n.innerHTML=d.html:(null!=d.label||null!=d.value)&&(null!=d.label?null!=d.label.toString().match(new RegExp("\\w"))||null!=d.label.toString().match(new RegExp("\\d"))?n.innerHTML=d.label:n.innerHTML="Item":n.innerHTML=d.value);var f=1+n.offsetHeight;this.itemHeight>-1&&(f=this.itemHeight),v=f}void 0!=x&&(_=x),null!=d.html&&d.html.toString().length>0?(x=Math.max(x,d.html.toString().length),_!=x&&(g=d.html)):null!=d.label?(x=Math.max(x,d.label.length),_!=x&&(g=d.label)):null!=d.value&&(x=Math.max(x,d.value.length),_!=x&&(g=d.value)),d.height=v,s+=v,a>=s&&o++}}n.innerHTML=g,i=n.offsetWidth}return s+=2,10>o&&(o=10),this.filterable&&(s+=this.filterHeight),n.parentNode.removeChild(n),{width:i,height:s,itemsPerPage:o}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand){var i=this;if(1!=i.updatingListBox){if(void 0==i.items||0==i.items.length)return i.virtualSize={width:0,height:0,itemsPerPage:0},i._updatescrollbars(),i.renderedVisibleItems=new Array,void(i.itemswrapper&&i.itemswrapper.children().remove());var s=i.host.height();if(0==t){var r=i._calculateVirtualSize(s),n=2*r.itemsPerPage;i.autoHeight&&(n=i.items.length),i.virtualItemsCount=Math.min(n,i.items.length);r.width;return i.virtualSize=r,void i._updatescrollbars()}var o=this,a=0;i.visibleItems=new Array,i.renderedVisibleItems=new Array,i._removeHandlers(),i.allowDrag&&i._enableDragDrop&&(i.itemswrapper=null),null==i.itemswrapper&&(i.content[0].innerHTML="",i.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),i.itemswrapper[0].style.height=2*s+"px",i.content[0].appendChild(i.itemswrapper[0]));var r=i._calculateVirtualSize(s),n=2*r.itemsPerPage;i.autoHeight&&(n=i.items.length),i.virtualItemsCount=Math.min(n,i.items.length);var i=this;r.width;i.virtualSize=r;var l=Math.max(i.host.width(),17+r.width);i.itemswrapper[0].style.width=l+"px";for(var h=0,d="",c=e.jqx.browser.msie&&e.jqx.browser.version<9,u=c?' unselectable="on"':"",p=h;p<i.virtualItemsCount;p++){var f=i.items[p],m="listitem"+p+i.element.id;if(d+="<div"+u+" role='option' id='"+m+"' class='jqx-listitem-element'>",i.checkboxes){d+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var v='<div class="'+i.toThemeProperty("jqx-checkbox-default")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',g=f.checked?" "+i.toThemeProperty("jqx-checkbox-check-checked"):"";v+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+g+'"></span>',v+="</div></div>",d+=v,d+="</div>"}d+="<span"+u+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}o.WinJS?i.itemswrapper.html(d):i.itemswrapper[0].innerHTML=d;for(var x=i.itemswrapper.children(),p=h;p<i.virtualItemsCount;p++){var f=i.items[p],_=e(x[p]);if(i.allowDrag&&i._enableDragDrop&&_.addClass("draggable"),i.checkboxes){e(_.children()[0]);_.css("float","left");var b=e(_[0].firstChild);b.css("float","left")}_[0].style.height=f.height+"px",_[0].style.top=a+"px",a+=f.height,i.visualItems[p]=_}if(i._addHandlers(),i._updatescrollbars(),i.autoItemsHeight){var r=i._calculateVirtualSize(s),n=2*r.itemsPerPage;i.autoHeight&&(n=i.items.length),i.virtualItemsCount=Math.min(n,i.items.length);var i=this;r.width;i.virtualSize=r,i._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.host.attr("hideFocus",!0),i.host.find("div").attr("hideFocus",!0))}}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,s=t.virtualSize.width,r=t.vScrollInstance,n=t.hScrollInstance;t._arrange(!1);var o=!1,a=t.host.outerWidth(),l=t.host.outerHeight(),h=0;if(s>a&&(h=t.hScrollBar.outerHeight()+2),i+h>l){var d=r.max;r.max=2+parseInt(i)+h-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",o=!0),d!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",o=!0,r.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(s>=a-c-u){var p=n.max;"inherit"==t.vScrollBar[0].style.visibility?n.max=u+c+parseInt(s)-t.host.width()+4:n.max=u+parseInt(s)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",o=!0),p!=n.max&&n._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",o=!0);n.setPosition(0),o&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+s))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px");var f=t.isTouchDevice();f&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var r=this.selectedIndexes[s];-1!=r&&void 0!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var n=this.getVisibleItem(e);n&&this.selectedValues[n.value]&&(this.selectedValues[n.value]=null)}(void 0==t||1==t)&&(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),s=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var s=new Array,r=0;r<i.length;r++){var n=i[r];if(n){var o=n.initialTop,a=n.height,l=!0;(0>o+a-t||o-t>=e.host.height())&&(l=!1),l&&s.push(n)}}return s}();return{items:t,visibleItems:i,viewItems:s}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,function(){return this.index==t?(i=this,!1):void 0});return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!0,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!0&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!1&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!1,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=null,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(t(e)||0==arguments.length)return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,r,n){if(!isNaN(e)){var o=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(-1>e||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(!(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes))return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)));if(this.checkboxes){this._updateCheckedItems();var a=o;this.selectedIndex!=e||this.multiple||(a=-1),void 0==r&&(r="none");var l=this.getItem(e),h=this.getItem(a);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(a)),this._raiseEvent("1",{index:a,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n}),void this._renderItems()}this.focused=!0;var d=!1;this.selectedIndex!=e&&(d=!0);var a=o;this.selectedIndex!=e||this.multiple||(a=-1),void 0==r&&(r="none");var l=this.getItem(e),h=this.getItem(a);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(a)),void 0!=s&&s)this._raiseEvent("1",{index:a,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n});else{var c=this,u=function(e,t,i,s,r,n){c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,r&&(c.selectedValues[r.value]=r.value),c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n})},p=function(e,t,i,s,r,n){void 0==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,r&&(c.selectedValues[r.value]=r.value,c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n}))):(t=c.selectedIndexes[e],s=c.getVisibleItem(t),s&&(c.selectedValues[s.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),c._clickedIndex=e),p(e,a,r,h,l,n);else if(this._shiftKey){void 0==c._clickedIndex&&(c._clickedIndex=a);var f=Math.min(c._clickedIndex,e),m=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var v=f;m>=v;v++)c.selectedIndexes[v]=v,c.selectedValues[c.getVisibleItem(v).value]=c.getVisibleItem(v).value,c._raiseEvent("0",{index:v,type:r,item:this.getVisibleItem(v),originalEvent:n});"keyboard"!=r?c.selectedIndex=c._clickedIndex:c.selectedIndex=e}}else"keyboard"!=r&&"mouse"!=r?(p(e,a,r,h,l,n),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,a,r,h,l,n));else this.multiple?p(e,a,r,h,l,n):(l&&(this.selectedValue=l.value),u(e,a,r,h,l,n))}return(void 0==i||1==i)&&this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:h,type:r,originalEvent:n}),this._updateInputSelection(),
d}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),s="";if(i){for(var r=0;r<i.length;r++)void 0!=i[r]&&(s+=r==i.length-1?i[r].value:i[r].value+",",t.push(i[r].value));this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(0>e||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var s=this.visibleItems[e];if(void 0==s)return!0;var r=s.initialTop,n=s.height;return i>r-t||r-t+i+n>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){return this.initialTop+this.height>=i.content.height()?!1:void t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();return 9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode?37==e.keyCode||39==e.keyCode?!1:void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i)):void 0},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var s=this,r=-1,n=new Array,o=0;e.each(i,function(i){var a="";if(!this.isGroup){a=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",a=a.toString();var l=!1;switch(s.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(a,t);break;case"contains":l=e.jqx.string.contains(a,t);break;case"equals":l=e.jqx.string.equals(a,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(a,t);break;case"startswith":l=e.jqx.string.startsWith(a,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(a,t);break;case"endswith":l=e.jqx.string.endsWith(a,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(a,t)}l||(this.visible=!1),l&&(n[o++]=this,this.visible=!0,r=this.visibleIndex),""==t&&(this.visible=!0,l=!1)}}),s.renderedVisibleItems=new Array,s.visibleItems=new Array,s.vScrollInstance.setPosition(0,!0),s._addItems(!1),s._renderItems();for(var a=0;a<s.items.length;a++)s.selectedIndexes[a]=-1;s.selectedIndex=-1;for(var l in s.selectedValues){var t=s.selectedValues[l],h=s.getItemByValue(t);h&&h.visible&&(s.selectedIndex=h.visibleIndex,s.selectedIndexes[h.visibleIndex]=h.visibleIndex)}s._syncSelection()},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var s=this.getItems(),r=this,n=-1;return e.each(s,function(s){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}if(a&&this.visibleIndex>=i)return n=this.visibleIndex,!1}}),n},findItems:function(t){var i=this.getItems(),s=this,r=0,n=new Array;return e.each(i,function(i){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}a&&(n[r++]=this)}}),n},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++){var i=e.items[t];i.selected=!1}for(var t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,r=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var n=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes){var o=this.getItem(s);return null!=o&&(i._updateItemCheck(o,s),e.preventDefault()),i._searchString="",i.selectIndex(o.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems()}if(i.incrementalSearch){var a=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var l=String.fromCharCode(t),h=!isNaN(parseInt(l)),d=!1;if(t>=65&&97>=t||h||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase());var c=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==l?c=1+i.selectedIndex:i._searchString+=l),32==t&&(i._searchString+=" ");var u=this._getMatches(i._searchString,c);if(a=u,a==i._lastMatchIndex||-1==a){var u=this._getMatches(i._searchString,0);a=u}if(i._lastMatchIndex=a,a>=0){var p=function(){n(),i.selectIndex(a,!1,!1,!1,"keyboard",e);var t=i.isIndexInView(a);t?i._renderItems():i.ensureVisible(a)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){p()},i.incrementalSearchKeyDownDelay)}d=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),(27==t||13==t)&&(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),a>=0)return;if(d)return!1}if(33==t){var f=i._itemsInPage();i.selectedIndex-f>=0?(n(),i.selectIndex(r-f,!1,!1,!1,"keyboard",e)):(n(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var o=this.getItem(s);null!=o&&(i._updateItemCheck(o,s),e.preventDefault()),i._searchString=""}if(36==t&&(n(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(n(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var f=i._itemsInPage();i.selectedIndex+f<i.visibleItems.length?(n(),i.selectIndex(r+f,!1,!1,!1,"keyboard",e)):(n(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;var m=i._prevItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;n(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var m=i._nextItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;n(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}if(35==t||36==t||38==t||40==t||34==t||33==t){var v=i.isIndexInView(i.selectedIndex);return v?i._renderItems():i.ensureVisible(i.selectedIndex),!1}return!0}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=e.hasThreeStates&&this.hasThreeStates?null:!1:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),s?(s=!1,e.returnValue=s,s):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;return t!=i?!0:!1},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width()!=e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;var i=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var s=e.data(t.element,"hoveredItem");null!=s&&(e(s).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(s).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var s=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var r=t.isTouchDevice()&&this.touchMode!==!0,n=r?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var s=e.jqx.mobile.getTouches(i),n=s[0];if(void 0!=n){var o=t.host.offset(),a=parseInt(n.pageX),l=parseInt(n.pageY);1==t.touchMode&&void 0!=n._pageX&&(a=parseInt(n._pageX),l=parseInt(n._pageY)),a-=o.left,l-=o.top;var h=t._hitTest(a,l);if(null!=h&&!h.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(h,h.visibleIndex);if(-1==h.html.indexOf("href"))return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var o=!1;this.addHandler(this.content,n,function(i){if(!t.enableSelection)return!0;if(o=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var a=i.target,l=e(a).offset(),h=t.host.offset();if(s){var d=e.jqx.mobile.getLeftPos(a),c=e.jqx.mobile.getTopPos(a);l.left=d,l.top=c,d=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),h.left=d,h.top=c}var u=parseInt(l.top)-parseInt(h.top),p=parseInt(l.left)-parseInt(h.left),f=t._hitTest(p,u);if(null!=f&&!f.isGroup){var m=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(p=20+i.pageX-l.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};f.disabled||(-1!=f.html.indexOf("href")?setTimeout(function(){m(f,i)},100):m(f,i))}if("mousedown"==n){var v=!1;return i.which?v=3==i.which:i.button&&(v=2==i.button),v?!0:!1}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),o=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}var i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version<9?0:1;if(null==r.target)return!0;if(t.disabled)return!0;t.focused=!0;var n=t.vScrollInstance.isScrolling();if(!n&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var o=r.target,a=e(o).offset(),l=t.host.offset();if(s){var h=e.jqx.mobile.getLeftPos(o),d=e.jqx.mobile.getTopPos(o);a.left=h,a.top=d,h=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),l.left=h,l.top=d}var c=parseInt(a.top)-parseInt(l.top),u=parseInt(a.left)-parseInt(l.left),p=t._hitTest(u,c);if(null!=p&&!p.isGroup&&!p.disabled){var f=e.data(t.element,"hoveredItem");null!=f&&(e(f).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(f).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",p.element);var m=e(p.element);m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=this,i=null,s=null,r=t.filterable?t.filterHeight:0,n=function(e){return e=t.host.height(),0==e&&(e=200,t.host.css({height:e})),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:void 0==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:void 0==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=n(s)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.css({width:t.width})),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.css({height:t.virtualSize.height+parseInt(t.scrollBarSize)+3}),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.css({height:t.virtualSize.height}),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.css({height:t.height}),n(s)));var o=t.scrollBarSize;isNaN(o)&&(o=parseInt(o),isNaN(o)?o="17px":o+="px"),o=parseInt(o);var a=4,l=2,h=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?h=o+a:t.vScrollInstance.setPosition(0),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?l=o+a:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",l=0),null==s&&(s=0);var d=parseInt(s)-a-o;0>d&&(d=0),parseInt(t.hScrollBar[0].style.height)!=o&&(parseInt(o)<0&&(o=0),t.hScrollBar[0].style.height=parseInt(o)+"px"),t.hScrollBar[0].style.top!=d+"px"&&(t.hScrollBar[0].style.top=d+"px",t.hScrollBar[0].style.left="0px");var c=i-o-a;0>c&&(c=0);var u=c+"px";if(t.hScrollBar[0].style.width!=u&&(t.hScrollBar[0].style.width=u),1>=h&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),o!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(o)+"px"),parseInt(s)-l!=parseInt(t.vScrollBar[0].style.height)){var p=parseInt(s)-l;0>p&&(p=0),t.vScrollBar[0].style.height=p+"px"}null==i&&(i=0);var f=parseInt(i)-parseInt(o)-a+"px";f!=t.vScrollBar[0].style.left&&(parseInt(f)>=0&&(t.vScrollBar[0].style.left=f),t.vScrollBar[0].style.top="0px");var m=t.vScrollInstance;m.disabled=t.disabled,e&&m._arrange();var v=t.hScrollInstance;if(v.disabled=t.disabled,e&&v._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(o)+3+"px",t.bottomRight[0].style.height=parseInt(o)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-h){var g=parseInt(i)-h;0>g&&(g=0),t.content[0].style.width=g+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(s)-l){var x=parseInt(s)-l;0>x&&(x=0),t.content[0].style.height=x+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.css({width:parseInt(i)-h}),t.overlayContent.css({height:parseInt(s)-l}))}},ensureVisible:function(t,i){if(isNaN(t)){var s=this.getItemByValue(t);s&&(t=s.index)}var r=this.isIndexInView(t);if(r){if(i)for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){var n=this.vScrollInstance.value,o=s.initialTop;this.filterable&&(o=this.filterHeight+2+s.initialTop),n+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(o)}}}else{if(0>t)return;if(this.autoHeight){var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance;a.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance,n=a.value,l=this.filterable?this.filterHeight+2:0,h="hidden"===this.hScrollBar.css("visibility"),d=h?0:this.scrollBarSize+4;if(s.initialTop<n)a.setPosition(s.initialTop),0==indx&&a.setPosition(0);else if(s.initialTop+s.height>n+this.host.height()-l){var c=this.host.height();if(this.filterable?a.setPosition(this.filterHeight+2+s.initialTop+s.height+2-c+d):(a.setPosition(s.initialTop+s.height+2-c+d),indx===this.visibleItems.length-1&&a.setPosition(a.max)),i){var n=a.value,o=s.initialTop;this.filterable&&(o=this.filterHeight+2+s.initialTop),n+c<a.max&&a.setPosition(o)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min?(e.setPosition(e.min),!0):!1},databind:function(t,i){this.records=new Array;var s=t._source?!0:!1,r=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(r=t,t=t._source);var n=function(e){void 0!=t.type&&(r._options.type=t.type),void 0!=t.formatdata&&(r._options.formatData=t.formatdata),void 0!=t.contenttype&&(r._options.contentType=t.contenttype),void 0!=t.async&&(r._options.async=t.async)},o=function(t,i){var s=function(i){var s=null;if("string"==typeof i)var r=i,n=i,o="";else if(void 0!=t.displayMember&&""!=t.displayMember)var n=i[t.valueMember],r=i[t.displayMember];var o="";if(t.groupMember?o=i[t.groupMember]:i&&void 0!=i.group&&(o=i.group),t.searchMember?s=i[t.searchMember]:i&&void 0!=i.searchLabel&&(s=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=n=i.toString()),i&&void 0!=i.label)var r=i.label;if(i&&void 0!=i.value)var n=i.value;var a=!1;i&&void 0!=i.checked&&(a=i.checked);var l="";i&&void 0!=i.html&&(l=i.html);var h=!0;i&&void 0!=i.visible&&(h=i.visible);var d=!1;i&&void 0!=i.disabled&&(d=i.disabled);var c=!1;i&&void 0!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=r,u.value=n,u.searchLabel=s,u.html=l,u.visible=h,u.originalItem=i,u.group=o,u.groupHtml="",u.disabled=d,u.checked=a,u.hasThreeStates=c,u};if(void 0!=i){var n=r._changedrecords[0];if(n)return void e.each(r._changedrecords,function(){var e=this.index,r=this.record;if("remove"!=i)var n=s(r);switch(i){case"update":t.updateAt(n,e);break;case"add":t.insertAt(n,e);break;case"remove":t.removeAt(e)}})}t.records=r.records;for(var o=t.records.length,a=new Array,l=0;o>l;l++){var h=t.records[l],d=s(h);d.index=l,a[l]=d}t.items=t.loadItems(a,!0),t._render(),t._raiseEvent("6")};n(this);var a=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),o(this),r.bindBindingUpdate(this.element.id,function(e){o(a,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),o(this),void r.bindBindingUpdate(this.element.id,function(){o(a)});var l={};r._options.data?e.extend(r._options.data,l):(t.data&&e.extend(l,t.data),r._options.data=l);var h=function(){o(a)};r.unbindDownloadComplete(a.element.id),r.bindDownloadComplete(a.element.id,h),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var s=this,r=0,n=0,o=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var a=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var l=new e.jqx._jqxListBox.item,h=t.group,d=t.groupHtml,c=t.title,u=null;if(s.searchMember?u=t[s.searchMember]:t&&void 0!=t.searchLabel&&(u=t.searchLabel),(null==c||void 0==c)&&(c=""),(null==h||void 0==h)&&(h=""),s.groupMember&&(h=t[s.groupMember]),(null==d||void 0==d)&&(d=""),!s.groups[h]){s.groups[h]={items:new Array,index:-1,caption:h,captionHtml:d},r++;var p=r+"jqxGroup";s.groups[p]=s.groups[h],n++,s.groups.length=n}var f=s.groups[h];return f.index++,f.items[f.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=s.displayMember&&(void 0!=t[s.displayMember]?l.label=t[s.displayMember]:l.label=""),void 0===t.value&&""!=s.valueMember&&(l.value=t[s.valueMember])),l.hasThreeStates=void 0!=t.hasThreeStates?t.hasThreeStates:!0,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&""!=t.html,l.group=h,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=void 0!=t.visible?t.visible:!0,l.searchLabel=u,l.index=o,a[o]=l,o++,l});var l=new Array,h=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var d=0;n>d;d++){var r=d+1,c=r+"jqxGroup",u=this.groups[c];if(void 0==u||null==u)break;if(0==d&&""==u.caption&&""==u.captionHtml&&1>=n){for(var p=0;p<u.items.length;p++){var f=u.items[p].value;(void 0==u.items[p].value||null==u.items[p].value)&&(f=p),this.itemsByValue[e.trim(f).split(" ").join("?")]=u.items[p]}return u.items}var m=new e.jqx._jqxListBox.item;m.isGroup=!0,m.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,m.label=u.caption),m.html=u.captionHtml,l[h]=m,h++;for(var v=0;v<u.items.length;v++){l[h]=u.items[v];var f=u.items[v].value;(""==u.items[v].value||null==u.items[v].value)&&(f=h),s.itemsByValue[e.trim(f).split(" ").join("?")]=u.items[v],h++}}else{var h=0,g=new Array;e.each(a,function(){if(!g[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[h]=t,h++,g[this.group]=!0}l[h]=this;var i=this.value;(""==this.value||null==this.value)&&(i=h-1),s.itemsByValue[e.trim(i).split(" ").join("?")]=this,h++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return i&&void 0!=i.index?this.updateAt(e,i.index):!1},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("?")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var s=this._mapItem(t);s.index=0,this.items[this.items.length]=s,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var r=s.value;return(""==s.value||null==s.value)&&(r=i),this.itemsByValue[e.trim(r).split(" ").join("?")]=s,!1}var s=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)s.index=this.items.length,this.items[this.items.length]=s;else{for(var n=new Array,o=0,a=!1,l=0,h=0;h<this.items.length;h++)0==this.items[h].isGroup&&l>=i&&!a&&(n[o++]=s,s.index=i,l++,a=!0),n[o]=this.items[h],this.items[h].isGroup||(n[o].index=l,l++),o++;this.items=n}var r=s.value;(""==s.value||null==s.value)&&(r=i),this.itemsByValue[e.trim(r).split(" ").join("?")]=s,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length>1,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this.rendered&&this.rendered(),!0},removeAt:function(t){if(0>t||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height,s=this.items[t].value;if((""==s||null==s)&&(s=t),this.itemsByValue[e.trim(s).split(" ").join("?")]=null,this.groups.length>1){for(var r=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||r.push({item:this.items[n],key:n});if(!r[t])return!1;this.items.splice(r[t].key,1)}else this.items.splice(t,1);for(var o=new Array,a=0,l=0,n=0;n<this.items.length;n++)o[a]=this.items[n],this.items[n].isGroup||(o[a].index=l,l++),a++;this.items=o;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=h.value;if(h.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars();
}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?h.setPosition(d):h.setPosition(0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var s=this.items[u].value;(""==this.items[u].value||null==this.items[u].value)&&(s=u),this.itemsByValue[e.trim(s).split(" ").join("?")]=this.items[u]}return this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&void 0!=i.index&&t!==!0){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}return-1==s?this.removeAt(i.index):void 0},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!0,this._renderItems(),!0):!1},enableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this,this._updateInputSelection();var r=new e.Event(s);if(r.owner=this,r.args=args,null!=this.host)var n=this.host.trigger(r);return n}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,s=e(t).find("option"),r=e(t).find("optgroup"),n=!1;0===s.length&&(s=e(t).find("li"),s.length>0&&(n=!0));var o=null,o=-1,a=new Array;if(e.each(s,function(t){var s=r.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),n===!0&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var h={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},d=e.jqx.browser.msie&&e.jqx.browser.version<8;d&&!n&&""==h.value&&null!=this.text&&this.text.length>0&&(h.value=this.text),s&&(l=r.find(this).parent()[0].label,h.group=l,a[l]||(a[l]=new Array,a.length++),a[l].push(h)),this.selected&&(o=t),h.checked=this.selected,void 0!==h.label&&i.push(h)}),a.length>0){var l=new Array;for(var h in a)if("indexOf"!==h){for(var d=null,c=0;c<r.length;c++)if(h===r[c].label||r[c].text){d=r[c];break}e.each(a[h],function(e,t){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:o}:{items:i,index:o}},e.jqx._jqxListBox.item=function(){var e={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return e}}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var t={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};e.extend(!0,this,t)},createInstance:function(){var e=this;e._content=e.host.children()},render:function(){var t=this,i=t.element.id;if(t._content.detach(),t._toggleElement=e(t.selector),0===t._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+t.selector+'".');if(null===t._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var s=e('<div id="'+i+'" class="'+t.toThemeProperty("jqx-popover")+'"><div class="'+t.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+t.toThemeProperty("jqx-popover-title")+'"></div><div class="'+t.toThemeProperty("jqx-popover-content")+'"></div></div>');e("body").append(s);var r=t.host.data();t.host.detach(),t.host=s,t.host.data(r),t.element=s[0],t.element.id=i,t._popover=e("#"+i);var n=t._popover.find(".jqx-popover-title");n.append("<h4>"+t.title+"</h4>");var o=t._popover.find(".jqx-popover-content");if(o.append(t._content),t._popover.hide(),t._removeHandlers(),t._addHandlers(),t._popover.addClass(t.position),n.addClass(t.toThemeProperty("jqx-widget-header")),t._popover.addClass(t.toThemeProperty("jqx-widget jqx-widget-content")),t.showArrow&&t._popover.addClass(t.toThemeProperty("jqx-popover-arrow-"+t.position)),t.rtl&&(n.addClass(t.toThemeProperty("jqx-rtl")),n.css("direction","rtl"),o.css("direction","rtl")),t.showCloseButton){var a=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),l=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');a.append(l),n.append(a),n.css("min-height","16px"),a.addClass(t.toThemeProperty("jqx-popover-close-button")),t.closeButton=l,t.rtl&&a.addClass(t.toThemeProperty("jqx-popover-close-button-rtl"))}if(t.arrowOffsetValue)if("bottom"==t.position||"top"==t.position){var h=e(".jqx-popover-arrow").css("margin-left");e(".jqx-popover-arrow").css("margin-left",parseInt(h)+t.arrowOffsetValue)}else{var d=e(".jqx-popover-arrow").css("margin-top");e(".jqx-popover-arrow").css("margin-top",parseInt(d)+t.arrowOffsetValue)}(t.width||t.height)&&(t._popover.css("width",t.width),t._popover.css("height",t.height))},refresh:function(e){this.render()},destroy:function(){var e=this;0!==e.length&&(e._removeHandlers(),e._popover.remove(),e._removeModalBackground())},propertyChangedHandler:function(e,t,i,s){var r=this;r.render()},_stickToToggleElement:function(){var e=this;e._popover.css("left","0px"),e._popover.css("top","0px");var t=e._toggleElement,i=t.offset(),s=t.outerHeight(),r=t.outerWidth(),n=e._popover.height(),o=e._popover.width();switch(e.position){case"left":e._popoverTop=i.top-n/2+s/2,e._popoverLeft=i.left-e._popover.outerWidth();break;case"right":e._popoverTop=i.top-n/2+s/2,e._popoverLeft=i.left+r;break;case"top":e._popoverTop=i.top-e._popover.outerHeight(),e._popoverLeft=i.left-o/2+r/2;break;case"bottom":e._popoverTop=i.top+s,e._popoverLeft=i.left-o/2+r/2}var a=e.offset?e.offset.left:0,l=e.offset?e.offset.top:0;e._popover.css("top",l+e._popoverTop),e._popover.css("left",a+e._popoverLeft)},open:function(){function e(){i._popover.show(),i._raiseEvent("0"),i._isOpen=!0}function t(){i.initContent&&i._init===!1&&(i.initContent(),i._init=!0,i._stickToToggleElement())}var i=this;if(i._stickToToggleElement(),i._ie7===!0)return e(),void t();switch(i.animationType){case"fade":i._popover.fadeIn(i.animationOpenDelay,function(){i._raiseEvent("0"),t()});break;case"none":e(),t()}i._makeModalBackground()},close:function(){function e(){t._popover.hide(),t._raiseEvent("1")}var t=this;if(t._ie7===!0)return void e();switch(t.animationType){case"fade":t._popover.fadeOut(t.animationCloseDelay,function(){t._raiseEvent("1")});break;case"none":e()}t._removeModalBackground()},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);r.owner=this,r.args=i,r.preventDefault&&r.preventDefault();var n=this._popover.trigger(r);return n},_makeModalBackground:function(){var t=this;t.isModal===!0&&(t.modalBackground=e("<div></div>"),t.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(t.modalBackground),e(document.body).addClass(t.toThemeProperty("jqx-unselectable")),t.host.addClass(t.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){var t=this;t.isModal===!0&&void 0!==t.modalBackground&&(t.modalBackground.remove(),e(document.body).removeClass(t.toThemeProperty("jqx-unselectable")),t.host.removeClass(t.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(e(document),"keydown.jqxPopover"+i,function(e){27==e.keyCode&&t.close()}),t.addHandler(e(document),"click.jqxPopover"+i,function(i){t.closeButton&&i.target==t.closeButton[0]&&t.close(),t.autoClose===!0&&(i.target==t.element||e(i.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(e(window),"resize.jqxPopover"+i,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+i,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(e(document),"click.jqxPopover"+i),t.selector&&t.removeHandler(t._toggleElement,"click.jqxPopover"+i),t.removeHandler(e(document),"keydown.jqxPopover"+i),t.removeHandler(e(window),"resize.jqxPopover"+i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTabs","",{}),e.extend(e.jqx._jqxTabs.prototype,{defineInstance:function(){var t={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1,level:1};return e.extend(!0,this,t),t},createInstance:function(){e.jqx.aria(this),this.host.addClass(this.toThemeProperty("jqx-tabs")),this.host.addClass(this.toThemeProperty(this._getLevelClassName())),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.attr("role","tablist"),this._unorderedList=this.host.children("ul"),this._titleList=this.host.children("ul").children("li"),this._contentList=this.host.children("div"),this._selectedItem=this.selectedItem,this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1);for(var t=this.length();t;)t--,this._titleList[t]=e(this._titleList[t]),this._titleList[t].attr("role","tab"),this._contentList[t]=e(this._contentList[t]),this._contentList[t].attr("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_getLevelClassName:function(){var e="";switch(this.level){case 1:e="jqx-tabs-lv1";break;case 2:e="jqx-tabs-lv2";break;default:e="jqx-tabs-lv3"}return e},_hiddenParent:function(){var t=this;if("none"==t.host.css("display"))return!0;var i=!1;return e.each(t.host.parents(),function(){return"none"==e(this).css("display")?(i=!0,!1):void 0}),i},_enableWindowResize:function(){var t=this,i=e.jqx.isHidden(t.host);e.jqx.utilities.resize(this.host,function(){i?(t._uiRefresh(!0),i=!1):t.refresh()})},resize:function(t,i){this.width=t,this.height=i;var s=e.jqx.isHidden(this.host);s?(this._uiRefresh(!0),s=!1):this.refresh()},refresh:function(e){(1!=e||void 0==e)&&this._performResize()},_seletionTrackerBrowserCheck:function(){var t="Browser CodeName: "+navigator.appCodeName;return t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,t+="User-agent header: "+navigator.userAgent,-1!=t.indexOf("IEMobile")?!1:-1!=t.indexOf("Windows Phone OS")?!1:e.jqx.browser.msie&&e.jqx.browser.version<=7?!1:!0},render:function(){this._refresh()},_uiRefresh:function(e){if(this._unorderedListLeftBackup=this._unorderedList.css("left"),e&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.css("left",this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!=this._rightArrow.css("visibility")){var t=2*this.arrowButtonSize,i=this.host.width()-parseInt(this._unorderedList.width()+t+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",i+"px")}},_refresh:function(){e.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container")),this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var e=this.length();e;)switch(e--,this._titleList[e].removeClass(),this._titleList[e].css("padding",""),this._titleList[e].addClass("jqx-reset"),this._titleList[e].addClass("jqx-disableselect"),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[e].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[e].disabled&&(this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._titleList[e].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[e].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[e].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[e].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._titleList[e].addClass(this.toThemeProperty("jqx-rc-t")),this._contentList[e].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[e].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[e].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);s.owner=this,s.args=i,(6===t||7===t)&&(s.cancel=!1,this._currentEvent=s);var r="";try{if(r=this.host.trigger(s),1==t){var n=this;if(this.selectionTracker||"none"!=this.animationType)setTimeout(function(){n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0);var t=new e.Event("loadContent");t.owner=this,n._contentList.length>0&&n._contentList[n.selectedItem]&&n._contentList[n.selectedItem].find("div").trigger(t)},50+n.selectionTrackerAnimationDuration);else{var s=new e.Event("loadContent");n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0),s.owner=this;var s=new e.Event("resize");this.host.trigger(s)}}}catch(o){o&&console.log(o)}return r},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var e,t=this.arrowButtonSize,i=this.arrowButtonSize;return e="left"===this.scrollPosition?t+i:"both"===this.scrollPosition?t:0},_scrollRight:function(e,t){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var i,s,r=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),n=parseInt(this.host.width(),10),o=parseInt(this._unorderedList.css("left"),10),a=this._getArrowsDisplacement(),l=0,h=void 0;this.scrollable?(i=parseInt(this._leftArrow.outerWidth(),10),s=parseInt(this._rightArrow.outerWidth(),10)):(i=0,s=0),e=this.enableScrollAnimation?e:0,parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?l=a:Math.abs(o)+this.scrollStep<Math.abs(n-r)+i+s+a?(l=o-this.scrollStep,h=o-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(l=n-r-(2*this.arrowButtonSize-a),l<parseInt(this._unorderedList.css("left"),10)-4&&l>parseInt(this._unorderedList.css("left"),10)+4&&(h=n-r-i-s+parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(l,h,e)},_scrollLeft:function(e,t){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var i=parseInt(this._unorderedList.css("left")),s=this._getArrowsDisplacement(),r=0,n=void 0;e=this.enableScrollAnimation?e:0,parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?r=s:i+this.scrollStep<s?(r=i+this.scrollStep,n=i+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(r=s,r<parseInt(this._unorderedList.css("left"))-4&&r>parseInt(this._unorderedList.css("left"))+4&&(n=parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(r,n,e)},_performScrollAnimation:function(e,t,i){var s=this;void 0!==t&&this._moveSelectionTrack(this._selectedItem,0,t),this._lockAnimation("unorderedList"),this._unorderedList.animate({left:e},i,function(){s._moveSelectionTrack(s.selectedItem,0),s._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var t=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(i){if(!t._activeAnimation()){var s=t._selectedItem,r=t.selectionTracker,n=t.getContentAt(s);if(e(i.target).ischildof(n))return!0;switch(i.keyCode){case 37:return t.rtl?t.next():t.previous(),!1;case 39:return t.rtl?t.previous():t.next(),!1;case 36:return t.first(),!1;case 35:return t.last(),!1;case 27:t._tabCaptured&&(t._cancelClick=!0,t._uncapture(null,t.selectedItem),t._tabCaptured=!1)}t.selectionTracker=r}return!0})},_addScrollHandlers:function(){var t=this;this.addHandler(this._leftArrow,"mousedown",function(){t._startScrollRepeat(!0,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){t._startScrollRepeat(!1,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(e(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(e){var t=e.data;t._scrollTimeout&&clearTimeout(t._scrollTimeout)},_mouseUpScrollDocumentHandler:function(e){var t=e.data;clearTimeout(t._scrollTimeout)},_mouseUpDragDocumentHandler:function(e){var t=e.data;t._tabCaptured&&t._dragStarted&&t._uncapture(e),t._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var t=this.length();t;)t--,this._addEventListenerAt(t);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var i=this;try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=function(e){i._tabCaptured&&(i._cancelClick=!0,i._uncapture(null,i.selectedItem),i._tabCaptured=!1)},r=null;window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)&&window.top.document&&this.addHandler(e(window.top.document),"mouseup",s)}}catch(n){}},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},_getFocusedItem:function(e,t){for(var i=this.length();i;){i--;var s=this._titleList[i],r=parseInt(s.outerWidth(!0)),n=parseInt(s.offset().left),o=(parseInt(this._unorderedList.offset().left),parseInt(this.host.offset().left),n);if(e>=o&&o+r>=e&&s!==this._capturedElement&&!this._titleList[i].locked&&this._titleList[i].disabled!==!0)return i}return-1},_uncapture:function(t){var i=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var s=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0)}if(t)var r=this._getFocusedItem(t.clientX,t.clientY);-1!==r&&t?(this._raiseEvent(10,{item:s,dropIndex:r}),this._reorderItems(r,s)):this._capturedElement.css("left",0),e.each(this._titleList,function(){this.css("position","static")}),this._reorderHeaderElements(),this._unorderedList.css({position:"relative",top:"0px"}),this._prepareTabs(),-1!==r&&t?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=s,this._moveSelectionTrack(s,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.css("left",this._unorderedListLeftBackup),this.selectionTracker=i}},_reorderItems:function(e,t){var i=this._titleList[this.selectedItem];this._contentList[t];"undefined"==typeof this._capturedElement&&(this._capturedElement=this._titleList[t]),this._titleList[t].remove(),e>t?this._titleList[t].insertAfter(this._titleList[e]):this._titleList[t].insertBefore(this._titleList[e]),this._reorderElementArrays(e,t),this._getSelectedItem(i),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(e,t){var i=(this._titleList[this.selectedItem],this._contentList[t]);if(e>t){for(var s=t;e>=s;s++)this._titleList[s]=this._titleList[s+1],this._contentList[s]=this._contentList[s+1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}else{for(var s=t;s>=e;s--)this._titleList[s]=this._titleList[s-1],this._contentList[s]=this._contentList[s-1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e){this._selectedItem=this.selectedItem=t;break}},_moveElement:function(e,t){var t=e.data;t._tabCaptured&&(document.selection&&document.selection.clear(),t._dragStarted?(t._performDrag(e),clearTimeout(t._scrollTimeout)):(unorderedListLeft=-parseInt(t._unorderedList.css("left"),10),(e.clientX+unorderedListLeft>t._startX+3||e.clientX+unorderedListLeft<t._startX-3)&&(t._prepareTabForDragging(),t._dragStarted=!0)))},_performDrag:function(e){var t=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._capturedElement.css("left",unorderedListLeft+e.clientX/t-this._startX/t),this._lastX=e.clientX/t,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),i=t.right-t.left,s=document.body.offsetWidth;e=Math.round(i/s*100)/100}return e},_prepareTabForDragging:function(){switch(this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"}),this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(e){var t=parseInt(this._unorderedList.css("left")),i=this;parseInt(this._capturedElement.css("left"));e.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-t)):e.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-t)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));var i=this;this._scrollTimeout=setTimeout(function(){i._dragScroll(e)},this.scrollAnimationDuration),this._lastUnorderedListPosition=t},_captureElement:function(e,t){this._tabCaptured||this._titleList[t].locked||this._titleList[t].disabled===!0||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+e.clientX,this._startY=e.clientY,this._lastX=e.clientX,this._lastY=e.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[t])},_titleInteractionTrigger:function(e){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==e?(this.select(this._titleList[e],"toggle"),this._titleList[e].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var e=this._selectedItem,t=this;this.isCollapsed=!0,"auto"!==t.height?t._contentWrapper.css("visibility","hidden"):t._contentWrapper.hide(),t._raiseEvent(13,{item:e}),"top"==this.position?(t._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),t.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(t._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var e=this._selectedItem,t=this;this.isCollapsed=!1,this._select(e,t.contentTransitionDuration,null,!1,!0),"auto"!==t.height?t._contentWrapper.css("visibility","visible"):t._contentWrapper.show(),t._raiseEvent(14,{item:e}),"top"==this.position?(t._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),t.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(t._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(e){var t=this;this.addHandler(this._titleList[e],"selectstart",function(e){return!1}),this.addHandler(this._titleList[e],this.toggleMode,function(e){return function(){return t._raiseEvent("15",{item:e}),t._tabCaptured||t._cancelClick||t._titleInteractionTrigger(e),!0}}(e))},_addDragDropHandlers:function(e){var t=this;this.addHandler(this._titleList[e],"mousedown",function(i){return t._captureElement(i,e),!1}),this.addHandler(this._titleList[e],"mouseup",function(i){return t._tabCaptured&&t._dragStarted?(t._cancelClick=!0,t._uncapture(i,e)):t._cancelClick=!1,t._tabCaptured=!1,!1})},_removeHoverStates:function(){var t=this;e.each(this._titleList,function(){this.removeClass(t.toThemeProperty("jqx-tabs-title-hover-top")),this.removeClass(t.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(e){var t=this,i=this._titleList[e];this.addHandler(i,"mouseenter",function(s){if(e!=t._selectedItem&&("top"==t.position?i.addClass(t.toThemeProperty("jqx-tabs-title-hover-top")):i.addClass(t.toThemeProperty("jqx-tabs-title-hover-bottom")),i.addClass(t.toThemeProperty("jqx-fill-state-hover")),t.showCloseButtons)){var r=i.children(0).children(t.toThemeProperty(".jqx-tabs-close-button",!0));r.addClass(t.toThemeProperty("jqx-tabs-close-button-hover",!0))}}),this.addHandler(i,"mouseleave",function(s){if(e!=t._selectedItem&&("top"==t.position?i.removeClass(t.toThemeProperty("jqx-tabs-title-hover-top")):i.removeClass(t.toThemeProperty("jqx-tabs-title-hover-bottom")),i.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.showCloseButtons)){var r=i.children(0).children(t.toThemeProperty(".jqx-tabs-close-button",!0));r.removeClass(t.toThemeProperty("jqx-tabs-close-button-hover",!0))}})},_addEventListenerAt:function(e){var t=this;if(!this._titleList[e].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(e),this._addSelectHandler(e),this.enabledHover&&this._addHoverHandlers(e);var i=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(i,"click"),this.addHandler(i,"click",function(i){return t.removeAt(e),!1})}},_removeEventHandlers:function(){for(var t=this.length();t;)t--,this._removeEventListenerAt(t);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown")),this.removeHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement),this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler),this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler),this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(e){this.removeHandler(this._titleList[e],this.toggleMode),this.removeHandler(this._titleList[e],"mouseenter"),this.removeHandler(this._titleList[e],"mouseleave"),this.removeHandler(this._titleList[e],"mousedown"),this.removeHandler(this._titleList[e],"mouseup");var t=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(t,"click")},_moveSelectionTrack:function(e,t,i){var s=this;if(-1!=e&&0!=this._titleList.length&&!(e>=this._titleList.length)&&this.selectionTracker&&this._selectionTracker){if(this._selectionTracker.stop(),this._unlockAnimation("selectionTracker"),
void 0===i){var r=parseInt(this._titleList[e].position().left);isNaN(parseInt(this._unorderedList.css("left")))||(r+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(r+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[e].css("margin-left")))||(r+=parseInt(this._titleList[e].css("margin-left"))),!isNaN(parseInt(this._titleList[e].css("margin-right")))}else var r=i;var n=0,o=0;"top"===this.position&&(n=parseInt(this._headerWrapper.height())-parseInt(this._titleList[e].outerHeight()),this.autoHeight||(o+=parseInt(this._titleList[e].css("margin-top")))),this._lockAnimation("selectionTracker");var a=parseInt(this._titleList[e].css("padding-left"))+parseInt(this._titleList[e].css("padding-right")),l="top"==this.position?0:1,h=parseInt(this._headerWrapper.css("padding-top")),d=parseInt(this._titleList[e].css("padding-top"))+parseInt(this._titleList[e].css("padding-bottom"));this._selectionTracker.css("visibility","visible"),this._moveSelectionTrackerContainer.css("visibility","visible");var c=parseInt(this._titleList[e].css("margin-top"));isNaN(c)&&(c=0),this._selectionTracker.animate({top:h+c-l,left:r+"px",height:parseInt(this._titleList[e].height()+d),width:this._titleList[e].width()+a},t,function(){s._unlockAnimation("selectionTracker"),s._selectionTracker.css("visibility","hidden"),s._addSelectStyle(e,!0),s._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_switchTabs:function(e,t){if(e!==t&&!this._activeAnimation()&&!this._tabCaptured){var i=this;return this._raiseEvent(7,{item:t}),this._raiseEvent(6,{item:e}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(t,null,!0),this._select(e,i.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(e){for(var t=this.length();t;)if(t--,this._titleList[t][0]===e[0]||this._contentList[t][0]===e[0])return t;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(e){alert(e)}},_startScrollRepeat:function(e,t){var i=this;e?this._scrollLeft(t):this._scrollRight(t),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){i._startScrollRepeat(e,i.scrollAnimationDuration)},t)},_performLayout:function(){for(var e=this.length();e;)e--,("top"===this.position||"bottom"===this.position)&&(this.rtl?this._titleList[e].css("float","right"):this._titleList[e].css("float","left"));this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize(),this._positionArrows(this._totalItemsWidth),this._totalItemsWidth>this.element.offsetWidth?this._unorderedList.css({width:this._totalItemsWidth}):this._unorderedList[0].style.width=this.element.offsetWidth-2+"px",this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove()),this._leftArrow=e('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>'),this._rightArrow=e('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>'),this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._headerWrapper.append(this._leftArrow),this._headerWrapper.append(this._rightArrow),this._leftArrow.css({width:this.arrowButtonSize}),this._leftArrow.css({height:"100%"}),this._rightArrow.css({width:this.arrowButtonSize}),this._rightArrow.css({height:"100%"}),this._leftArrow.css({"z-index":"30"}),this._rightArrow.css({"z-index":"30"}),this._leftArrow.css("display","none"),this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var t=this.length();return e.each(this._titleList,function(){var e=this.attr("hasclosebutton");void 0!=e&&null!=e&&("false"==e||0==e)&&t--}),t},_calculateTitlesSize:function(){var t=0,i=0,s=this.length();for(this.rtl&&e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),e(document.body).append(this._measureItem));s;){if(s--,this._measureItem&&(this._measureItem.html(this._titleList[s].html()),this._titleList[s].css({width:this._measureItem.width()})),this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),i+=parseInt(this._titleList[s].outerWidth(!0)),t<this._titleList[s].outerHeight(!0)&&(t=Math.round(parseInt(this._titleList[s].outerHeight(!0)))),0==this._titleList[s].height()){var r=this._titleList[s].clone();e(document.body).append(r),t=Math.round(parseInt(r.outerHeight(!0))),r.remove()}var n=this._titleList[s].attr("hasCloseButton");if(void 0!=n&&null!=n){var o=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[s]&&(this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),o=!0),o||("true"==n||1==n?(i+=this.closeButtonSize,this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):("false"==n||0==n)&&this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var o=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[s]&&(this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),o=!0),o||(i+=this.closeButtonSize,this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"))}}return this._measureItem&&this._measureItem.remove(),{height:t,width:10+i}},_reorderHeaderElements:function(){if(this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"}),this._headerWrapper.css({position:"relative",left:"0px",top:"0px"}),this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"}),this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var e=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;e>0&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l")));var t=this.scrollPosition;switch(this.rtl&&("left"==t&&(t="right"),"right"==t&&(t="left")),t){case"both":this._rightArrow.css("right","0px"),this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px"),this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-e+"px"),this._leftArrow.css("right",this.arrowButtonSize-e+"px")}}},_positionArrows:function(e){e>=parseInt(this._headerWrapper[0].offsetWidth)&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow[0].style.display="none",this._rightArrow[0].style.display="none",this._unorderedList[0].style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var t=this._calculateTitlesSize(),i=t.height,s=t.width;this._headerWrapper.css({height:i}),this._unorderedList.css({height:i}),null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.css({height:this.headerHeight}),this._unorderedList.css({height:this.headerHeight})),s>this.host.width()?this._unorderedList.css({width:s}):this._unorderedList.css({width:this.host.width()}),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden")),this._reorderHeaderElements(),s+=parseInt(this._unorderedList.css("margin-left")),this._totalItemsWidth=s,this._positionArrows(s),this._unorderedList.css({position:"relative",top:"0px"}),this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var e=this.length();for(this._maxHeightTab();e;){e--;var t=this._titleList[e].find(".jqx-tabs-titleContentWrapper"),i=(t.height(),this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0))),s=parseInt(this._titleList[e].css("padding-top"));if(s||(s=0),this.autoHeight){var r=this._titleList[e].outerHeight(!0)-this._titleList[e].height();parseInt(this._titleList[e].css("padding-top")),parseInt(this._titleList[e].css("padding-bottom")),parseInt(this._titleList[e].css("border-top-width")),parseInt(this._titleList[e].css("border-bottom-width"))}else if("top"===this.position){var n=parseInt(this._unorderedList.height())-parseInt(this._titleList[e].outerHeight(!0));parseInt(this._titleList[e].css("margin-top"))!==n&&0!==n&&this._titleList[e].css("margin-top",n)}this._titleList[e].children(0).css({height:"100%"});var o=parseInt(this._titleList[e].height()),a=parseInt(o)/2-parseInt(i.height())/2;i.css("margin-top",1+a);var l=parseInt(o)/2-parseInt(t.height())/2;t.css("margin-top",l)}if(this.scrollable){var r=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,h=r/2;this._rightArrow.children(0).css("margin-top",h),this._rightArrow.css({height:"100%"}),this._leftArrow.css({height:"100%"}),this._leftArrow.children(0).css("margin-top",h)}},_getImageUrl:function(e){var t=e.css("background-image");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},_fitToSize:function(){var e=!1,t=!1,i=this;if(null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=!0),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=!0),e&&(this.host[0].style.width=this.width,this._contentWrapper[0].style.width="100%"),t){this.host[0].style.height=this.height,this._contentWrapper[0].style.width="100%",this._contentWrapper[0].style.height="auto";var s=this.element.offsetHeight-this._headerWrapper[0].offsetHeight;this._contentWrapper[0].style.height=s+"px"}if(e||(this.host.css({width:this.width}),"auto"!=this.width&&this._contentWrapper.css("width","100%")),!t)if("auto"!==this.height){this.host.css({height:this.height});var s=this.host.height()-this._headerWrapper.outerHeight();this._contentWrapper.css({height:s})}else this._contentWrapper.css("height","auto")},_maxHeightTab:function(){for(var e=this.length(),t=-1,i=-1;e;)e--,t<parseInt(this._titleList[e].outerHeight(!0))&&(i=e);return i},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove(),this._moveSelectionTrackerContainer=e('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var t=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=e('<div class="'+t+'">'),this._selectionTracker.css("color","inherit"),this._moveSelectionTrackerContainer.append(this._selectionTracker),this._headerWrapper.append(this._moveSelectionTrackerContainer),this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var t="none",i=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||e('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+t+';">'),this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var s=this.length();s;)s--,this._contentList[s].addClass(this.toThemeProperty("jqx-tabs-content-element"));i&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content")),this.roundedCorners&&("top"==this.position?this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b")):this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var t=this.length();for(this._unorderedList.remove(),this._headerWrapper=this._headerWrapper||e('<div class="jqx-tabs-headerWrapper" style="outline: none;">'),this._headerWrapper.remove(),"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host),this._unorderedList.appendTo(this._headerWrapper),this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header")),this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header")),"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom")),this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));t;){if(t--,this._titleList[t].children(".jqx-tabs-titleWrapper").length<=0){var i=e('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');i.append(this._titleList[t].html()),this._titleList[t].empty(),i.appendTo(this._titleList[t])}this._titleList[t].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(t){var i=t;if(this._titleList[i].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length<=0&&this._titleList[i].find(".jqx-tabs-titleContentWrapper").length<=0){var s=e('<div class="jqx-tabs-titleContentWrapper"></div>'),r="left";this.rtl&&(r="right"),s.css("float",r),s.addClass("jqx-disableselect"),s.append(this._titleList[i].html()),this._titleList[i].html("");var n=e('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');n.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":r,"font-size":"1px"});this._titleList[i].append(s),this._titleList[i].append(n),this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[t]&&n.css("display","none"):n.css("display","none")}},_addCloseButtons:function(){for(var e=this.length();e;)e--,this._addCloseButton(e)},_prepareTabs:function(){var e=this.length(),t=this.selectionTracker;for(this.selectionTracker=!1;e;)e--,this._selectedItem!==e&&this._unselect(e,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=t,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(e){return e>=0&&e<this.length()},_removeSelectStyle:function(){for(var e=this.length();e;){e--;var t=null;if(this.showCloseButtons){var t=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));t.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}"top"==this.position?this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top")):this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom")),this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(e,t){this.length();if(this._removeSelectStyle(),(!this.selectionTracker||void 0!=t&&t)&&e>=0&&void 0!=this._titleList[e]){var i=null;if(this.showCloseButtons){var i=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.hiddenCloseButtons&&1==this.hiddenCloseButtons[e]&&(i=null)}this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-hover")),"top"==this.position?(this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-pressed")),null!=i&&i.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(e,t,i){if(t<e.length){for(var s=void 0,r=void 0,n=t;n+1<e.length;n++)void 0===s?(s=e[n+1],e[n+1]=e[n]):(r=e[n+1],e[n+1]=s,s=r);void 0===s&&(s=e[t]),e[t]=i,e.push(s)}else e.push(i)},_select:function(t,i,s,r,n){if(!this._tabCaptured){this.host.attr("hideFocus","true");var o=this;if(void 0==n?this._addSelectStyle(t):this._addSelectStyle(t,n),this.isCollapsed&&this.collapsible)return this._contentList[t].css("display","none"),void this._selectCallback(t,s,r);switch(this.animationType){case"none":if(o.selectionTracker)setTimeout(function(){o._contentList[t].css("display","block"),e.jqx.aria(o._titleList[t],"aria-selected",!0),e.jqx.aria(o._contentList[t],"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",o._titleList[t][0].id)},this.selectionTrackerAnimationDuration);else{for(var a=0;a<this._contentList.length;a++)t!=a&&"block"==this._contentList[a].css("display")&&(this._contentList[a].css("display","none"),e.jqx.aria(this._titleList[a],"aria-selected",!1),e.jqx.aria(this._contentList[a],"aria-hidden",!0));this._contentList[t].css("display","block"),e.jqx.aria(this._titleList[t],"aria-selected",!0),e.jqx.aria(this._contentList[t],"aria-hidden",!1),e.jqx.aria(this,"aria-activedescendant",this._titleList[t][0].id)}this._selectCallback(t,s,r);break;case"fade":this._lockAnimation("contentListSelect"),o._selectCallback(t,s,r),this._contentList[t].fadeIn(i,function(){o._unlockAnimation("contentListSelect"),e.jqx.aria(o._titleList[t],"aria-selected",!0),e.jqx.aria(o._contentList[t],"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",o._titleList[t][0].id)})}}},_selectCallback:function(e,t,i){this._selectedItem=e,this.selectedItem=this._selectedItem,t&&t(),i&&this._raiseEvent(1,{item:e})},_unselect:function(t,i,s){if(t>=0&&!this._tabCaptured){var r=this;this._contentList[t].stop(),"fade"==this.animationType?(this._contentList[t].css("display","none"),e.jqx.aria(r._titleList[t],"aria-selected",!1),e.jqx.aria(r._contentList[t],"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){r._contentList[t].css("display","none"),e.jqx.aria(r._titleList[t],"aria-selected",!1),e.jqx.aria(r._contentList[t],"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(this._contentList[t].css("display","none"),e.jqx.aria(r._titleList[t],"aria-selected",!1),e.jqx.aria(r._contentList[t],"aria-hidden",!0)),this._unselectCallback(t,i,s),this.selectionTracker||(this._titleList[t].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[t].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(e,t,i){i&&this._raiseEvent(8,{item:e}),t&&t()},disable:function(){for(var e=this.length();e;)e--,this.disableAt(e)},enable:function(){for(var e=this.length();e;)e--,this.enableAt(e)},getEnabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled||t++}),t},getDisabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled&&t++}),t},removeAt:function(e){if(this._isValidIndex(e)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var t=this,i=(this._titleList[this._selectedItem],parseInt(this._titleList[e].outerWidth(!0))),s=this.getTitleAt(e);this._unorderedList.css({width:parseInt(this._unorderedList.width())-i}),this._titleList[e].remove(),this._contentList[e].remove();if(this._titleList.splice(e,1),this._contentList.splice(e,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:e,title:s}),this._isAnimated={},this.selectedItem>0){this._selectedItem=-1;var r=this._getPreviousIndex(this.selectedItem);this.select(r)}else{this._selectedItem=-1;var r=this._getNextIndex(this.selectedItem);this.select(r)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement()),parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var n=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},n,function(){t._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(e){if(!this._titleList[e].disabled||void 0===this._titleList[e].disabled){if(this.selectedItem==e){var t=this.next();t||(t=this.previous())}this._titleList[e].disabled=!0,this.removeHandler(this._titleList[e],this.toggleMode),this.enabledHover&&this._titleList[e].off("mouseenter").off("mouseleave"),this._removeEventListenerAt(e),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(5,{item:e})}},enableAt:function(e){this._titleList[e].disabled&&(this._titleList[e].disabled=!1,this._addEventListenerAt(e),this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(4,{item:e}))},addAt:function(t,i,s){if(t>=0||t<=this.length()){this._removeHoverStates();var r=e("<li>"+i+"</li>"),n=e("<div>"+s+"</div>");r.addClass(this.toThemeProperty("jqx-tabs-title")),r.addClass(this.toThemeProperty("jqx-item")),n.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&r.addClass(this.toThemeProperty("jqx-tabs-title-bottom"));var o=!1;0==this._titleList.length?this._unorderedList.append(r):t<this.length()&&t>=0?this._titleList[t].before(r):this._titleList[this.length()-1].after(r),n.appendTo(this._contentWrapper),this._addItemTo(this._titleList,t,r),this._addItemTo(this._contentList,t,n),this._selectedItem>t&&this._selectedItem++,this._switchTabs(t,this._selectedItem),this._selectedItem=t,this.showCloseButtons&&this._titleList.length>0&&this._addCloseButton(t),this._uiRefresh(o),this._raiseEvent(2,{item:t}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(e,t){this.addAt(0,e,t)},addLast:function(e,t){this.addAt(this.length(),e,t)},val:function(e){return 0==arguments.length||"object"==typeof e?this._selectedItem:(this.select(e),this._selectedItem)},select:function(e,t){"object"==typeof e&&(e=this._indexOf(e));var i=e>=0&&e<this._titleList.length?this._titleList[e].attr("canselect"):!0;if((void 0==i||"true"==i||1==i)&&e!==this._selectedItem&&this._isValidIndex(e)&&!this._activeAnimation()&&!this._titleList[e].disabled){var s=this._switchTabs(e,this._selectedItem);s&&this.ensureVisible(e)}},previous:function(e){var t=this._selectedItem;for(void 0==e||isNaN(e)||(t=e);t>0&&t<this._titleList.length;)if(t--,!this._titleList[t].disabled)return this.select(t),!0;return!1},_getPreviousIndex:function(e){if(void 0==e||isNaN(e))return 0;for(var t=e;e>0&&e<=this._titleList.length;)if(e--,!this._titleList[e].disabled)return e;return t},_getNextIndex:function(e){if(void 0==e||isNaN(e))return 0;for(var t=e;e>=0&&e<this._titleList.length;){if(!this._titleList[e].disabled)return e;e++}return t},next:function(e){var t=this._selectedItem;for(void 0==e||isNaN(e)||(t=e);t>=0&&t<this._titleList.length-1;)if(t++,!this._titleList[t].disabled)return this.select(t),!0;return!1},first:function(){var e=0;this._titleList[e].disabled?this.next(e):this.select(e)},last:function(){var e=this._titleList.length-1;this._titleList[e].disabled?this.previous(e):this.select(e)},length:function(){return this._titleList.length},lockAt:function(e){!this._isValidIndex(e)||this._titleList[e].locked&&void 0!==this._titleList[e].locked||(this._titleList[e].locked=!0,this._raiseEvent(11,{item:e}))},unlockAt:function(e){this._isValidIndex(e)&&this._titleList[e].locked&&(this._titleList[e].locked=!1,this._raiseEvent(12,{item:e}))},lockAll:function(){for(var e=this.length();e;)e--,this.lockAt(e)},unlockAll:function(){for(var e=this.length();e;)e--,this.unlockAt(e)},showCloseButtonAt:function(e){if(this._isValidIndex(e)){this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader());var t=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));t.css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[e]=0}},hideCloseButtonAt:function(e){if(this._isValidIndex(e)){var t=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));t.css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[e]=1}},hideAllCloseButtons:function(){for(var e=this.length();e;)e--,this.hideCloseButtonAt(e)},showAllCloseButtons:function(){for(var e=this.length();e;)e--,this.showCloseButtonAt(e)},getTitleAt:function(e){return this._titleList[e]?this._titleList[e].text():null},getContentAt:function(e){return this._contentList[e]?this._contentList[e]:null},setTitleAt:function(e,t){this._titleList[e]&&(this._titleList[e].text(t),this.showCloseButtons&&(this._addCloseButton(e),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(e,t){this._contentList[e]&&this._contentList[e].html(t)},ensureVisible:function(e){var t=this;if((void 0==e||-1==e||null==e)&&(e=this.selectedItem),!this._isValidIndex(e))return!1;var i,s,r=parseInt(this._titleList[e].position().left)+parseInt(this._unorderedList.css("margin-left")),n=parseInt(this._unorderedList.css("left")),o=parseInt(this._headerWrapper.outerWidth(!0)),a=parseInt(this._titleList[e].outerWidth(!0)),l=n-this._getArrowsDisplacement(),h=o-this._getArrowsDisplacement()-l;if(-l>r)i=-r+this._getArrowsDisplacement(),s=this._getArrowsDisplacement();else{if(!(r+a>h-this._getArrowsDisplacement()))return this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration),!0;i=-r+o-a-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),s=o-a-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedList.animate({left:i},this.scrollAnimationDuration,function(){return t._unlockAnimation("unorderedList"),t._moveSelectionTrack(t._selectedItem,0),!0}),this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration,s),!0},isVisibleAt:function(e){if((void 0==e||-1==e||null==e)&&(e=this.selectedItem),!this._isValidIndex(e))return!1;var t=parseInt(this._titleList[e].position().left)+parseInt(this._unorderedList.css("margin-left")),i=parseInt(this._unorderedList.css("left")),s=parseInt(this._headerWrapper.outerWidth(!0)),r=parseInt(this._titleList[e].outerWidth(!0)),n=i-this._getArrowsDisplacement(),o=s-this._getArrowsDisplacement()-n;return-n>t?!1:t+r>o?!1:!0},isDisabled:function(e){return this._titleList[e].disabled},_lockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!0)},_unlockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!1)},propertyChangedHandler:function(t,i,s,r){switch(this._validateProperties(),i){case"touchMode":r&&(t.enabledHover=!1,t.keyboardNavigation=!1);break;case"width":case"height":return void t._performResize();case"disabled":return void(r?this.disable():this.enable());case"showCloseButtons":return r?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);case"selectedItem":return void(this._isValidIndex(r)&&this.select(r));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(r?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove());case"scrollable":return void(r?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void e.jqx.utilities.setTheme(s,r,this.host)}this._unorderedList.css("left","0px"),this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}})}(jqxBaseFramework),function(e){function t(t,s){var r=t.nodeName.toLowerCase();if("area"===r){var n,o=t.parentNode,a=o.name;return t.href&&a&&"map"===o.nodeName.toLowerCase()?(n=e("img[usemap=#"+a+"]")[0],!!n&&i(n)):!1}return(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||s:s)&&i(t)}function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function s(i){var s=e.attr(i,"tabindex"),r=isNaN(s);return(r||s>=0)&&t(i,!r)}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:e.jqx.utilities.window_closeButtonSize,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",
invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};return e.extend(!0,this,t),t},createInstance:function(){this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.detach(),e(document.body).append(this.host);var t=this,i=function(){var i=parseInt(e(t.restricter).css("padding-top")),s=parseInt(e(t.restricter).css("padding-left")),r=parseInt(e(t.restricter).css("padding-bottom")),n=parseInt(e(t.restricter).css("padding-right")),o=e(t.restricter).coord();t.dragArea={left:s+o.left,top:i+o.top,width:1+n+e(t.restricter).width(),height:1+r+e(t.restricter).height()}};if(this.restricter&&i(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){i()})),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var s=this;this.isModal&&this._fixWindowZIndex("modal-show"),s.initContent&&(s.initContent(),s._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],s=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var r=e.data(document.body,"jqxwindows-modallist");if(r)if("modal-show"==t)r.push(this.host);else{var n=r.indexOf(this.host);-1!=n&&r.splice(n,1)}else if("modal-show"==t){var o=new Array;o.push(this.host),e.data(document.body,"jqxwindows-modallist",o),r=o}else e.data(document.body,"jqxwindows-modallist",new Array),r=new Array;s=this.modalZIndex;return e.each(r,function(e){if(this.data()&&this.data().jqxWindow){var t=this.data().jqxWindow.instance;t._modalBackground.css("z-index",s),t.host.css("z-index",s+1),s+=2}}),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var a=i[i.length-2];s=parseInt(a.css("z-index"),10)+1}this.host.css("z-index",s),this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){alert(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight>this.maxHeight)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth>this.maxWidth)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"==typeof this.dragArea.width||"undefined"==typeof this.dragArea.height||"undefined"==typeof this.dragArea.left||"undefined"==typeof this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(i-=1,e(t[i].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children("DIV");if(1===t.length||0===t.length)this._header=e("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=e(t[0]);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.css({height:this.headerHeight}))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background jqx-popover-close-button")+'"></div>'),this._closeButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(t){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=e("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),e(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var i=this,s=function(t,i){var s=e(t).parents().get();for(j=0;j<s.length;j++)if(e(s[j]).is(i))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(e){i._stopResizing(i),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(1),setTimeout(function(){t[0].focus(1)},100)),e.preventDefault(),!1}),this.addHandler(e(document),"keydown.window"+this.element.id,function(t){if(9===t.keyCode){var r=e.data(document.body,"jqxwindows-modallist");if(!(r.length>1&&r[r.length-1][0]!=i.element)){var n=i._getTabbables(),o=null,a=null;if(n.length>0&&(o=n[0],a=n[n.length-1]),t.target!=i.element&&null!=o)return s(t.target,i.host)&&(t.target!==a||t.shiftKey)?t.target===o&&t.shiftKey?(a.focus(1),!1):void 0:(o.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0)),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left")),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.css({width:this.closeButtonSize}),this._closeButtonWrapper.css({height:this.closeButtonSize})):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.css({width:this.collapseButtonSize}),this._collapseButtonWrapper.css({height:this.collapseButtonSize})):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){this._closeButtonWrapper&&(this.rtl?this._closeButtonWrapper.css({position:"absolute",left:"8px",right:""}):this._closeButtonWrapper.css({position:"absolute",right:"8px",left:""}))},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._collapseButtonWrapper.css({width:this.collapseButtonSize}),this._collapseButtonWrapper.css({height:this.collapseButtonSize}),this.rtl?(this._collapseButtonWrapper.css("margin-left",e),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",e),this._collapseButtonWrapper.css("margin-left","0px"))),this.rtl?this._collapseButtonWrapper.css({position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}):this._collapseButtonWrapper.css({position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||("auto"!==this.height?this.host.css({height:this.height}):this.host.css({height:this.host.height()}),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.css({width:this.host.width()-(this._header.outerWidth(!0)-this._header.width())}),this._content.css({height:this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height())})},_validateMinSize:function(){var e=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),e=!1);var t=this._header.children(0).outerWidth(!0),i=this._header.children(1).outerWidth(!0),s=t+i;return this.minWidth<100&&(this.minWidth=Math.min(s,100),e=!1),e},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){if(i=i.toLowerCase(),s?s+="-":s="",i.indexOf("y")>=0){var r=e.outerHeight(!0),n=t.height(),o=Math.max(0,n-r)/2;e.css(s+"top",o+"px")}if(i.indexOf("x")>=0){var a=e.outerWidth(!0),l=t.width(),h=Math.max(0,l-a)/2;e.css(s+"left",h+"px")}},_centerElementInArea:function(e,t,i){if(i=i.toLowerCase(),i.indexOf("y")>=0){var s=e.outerHeight(!0),r=t.height,n=(r-s)/2;e.css("top",n+t.top+"px")}if(i.indexOf("x")>=0){var o=e.outerWidth(!0),a=t.width,l=(a-o)/2;e.css("left",l+t.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){var i=this._indexOf(e,t);return i>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;s>i;s--){var r,n=t[s],o=t[s-1];parseInt(n.css(e),10)<parseInt(o.css(e),10)&&(r=n,t[s]=o,t[s-1]=r)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(t){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(e){var t=e.data.self;t._header.css({width:t.host.width()-(t._header.outerWidth(!0)-t._header.width())}),t.width=e.args.width,t.height=e.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){"object"==typeof t._modalBackground&&null!==t._modalBackground&&(t.isOpen()&&t._modalBackground.hide(),t.restricter?(t._modalBackground.css("left",t.dragArea.left),t._modalBackground.css("top",t.dragArea.top),t._modalBackground.css({width:t.dragArea.width}),t._modalBackground.css({height:t.dragArea.height})):(t._modalBackground.css({width:t._getDocumentSize().width}),t._modalBackground.css({height:t._getDocumentSize().height})),t.isOpen()&&t._modalBackground.show())})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,s=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(s=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-s}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(t){return e._closeWindow(t)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)},{self:this}),this.addHandler(this.host,"keyup",function(t){if(e.keyboardNavigation&&e._moved){var i=e.host.coord(),s=i.left,r=i.top;e._raiseEvent(3,s,r,s,r),e._moved=!1}})},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,s=t.keyCode,r=this.host.coord(),n=r.left,o=r.top,a=this._getDraggingArea(),l=this.host.width(),h=this.host.height(),d=!0,c=10;switch(s){case 37:i?this.resizable&&this.resize(l-c,h):this.draggable&&n-c>=0&&this.move(n-c,o),d=!1;break;case 38:i?this.resizable&&this.resize(l,h-c):this.draggable&&o-c>=0&&this.move(n,o-c),d=!1;break;case 39:i?this.resizable&&this.resize(l+c,h):this.draggable&&n+l+c<=a.width&&this.move(n+c,o),d=!1;break;case 40:i?this.resizable&&this.resize(l,h+c):this.draggable&&o+h+c<=a.height&&this.move(n,o+c),d=!1}return d||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),d}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(e){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){return e.resizeArea&&e.resizable&&!e.collapsed?void e._header.css("cursor",e._resizeWrapper.css("cursor")):e.draggable?void e._header.css("cursor","move"):(e._header.css("cursor","default"),void(e._resizeWrapper&&e._resizeWrapper.length>0&&e._resizeWrapper.css("cursor","default")))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",function(){t._headerFocused=!0}),this.addHandler(this.host,"blur",function(){t._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return t._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,i,s){return i&&(e.pageX=i),s&&(e.pageY=s),t._headerMouseDownHandler(t,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return t._headerMouseMoveHandler(t,e)}),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return t._dragHandler(t,e)}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return t._dropHandler(t,e)});try{if(""!=document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(r){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var s=e.jqx.mobile.getTouches(i),r=(s[0],e.jqx.position(i));t._mousePosition.x=r.left,t._mousePosition.y=r.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var s=e.jqx.mobile.getTouches(i),r=s[0],n=r.pageX,o=r.pageY,a=e.jqx.position(i);return n=a.left,o=a.top,(n+3<t._mousePosition.x||n-3>t._mousePosition.x||o+3<t._mousePosition.y||o-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:n,y:o},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),t._isTouchDevice?(i.preventDefault(),!0):!1}return t._isDragging?t._isTouchDevice?(i.preventDefault(),!0):!1:!0},_dropHandler:function(t,i){var s=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var r=parseInt(t.host.css("left"),10),n=parseInt(t.host.css("top"),10),o=t._isTouchDevice?0:i.pageX,a=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,r,n,o,a),s=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),s},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=t._isTouchDevice?i.originalEvent.which:i.which;if("undefined"==typeof t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===s&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var r=e.jqx.mobile.getTouches(i),n=(r[0],e.jqx.position(i)),o=n.left,a=n.top,l=o-t._mousePosition.x,h=a-t._mousePosition.y,d=t._windowPosition.x+l,c=t._windowPosition.y+h;return t.move(d,c,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,s){var r=this._getDraggingArea();e=e<r.left?r.left:e,t=t<r.top?r.top:t;var n=this.host.outerWidth(!0),o=this.host.outerHeight(!0);return e+n>=r.width+r.left-2*s&&(e=r.width+r.left-n-s),t+o>=r.height+r.top-i&&(t=r.height+r.top-o-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left")),i=parseInt(this.host.css("top"));this.host.css({left:t+e.left,top:i+e.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.host.css("top",i.top);break;case"left":this.host.css("left",i.left);break;case"bottom":this.host.css("top",i.height-this.host.height()+i.top);break;case"right":this.host.css("left",i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],s=e.Event(i),r={};return(2===t||3===t)&&(r.x=arguments[1],r.y=arguments[2],r.pageX=arguments[3],r.pageY=arguments[4]),("closed"===i||"close"===i)&&(r.dialogResult=this.dialogResult),s.args=r,this.host.trigger(s)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,s,r){switch(this._validateProperties(),i){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":r?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(r),this.title=r;break;case"content":this.setContent(r);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=r,r?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":r?s||(this.collapsed=!1,this.collapse(0)):s&&(this.collapsed=!0,this.expand(0));case"theme":e.jqx.utilities.setTheme(s,r,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize();default:return}},collapse:function(t){if(!this.collapsed&&!this.host.is(":animated")){if("none"==this.host.css("display"))return;var i=this,s=this._header.outerHeight(!0),r=parseInt(this._header.css("border-bottom-width"),10),n=parseInt(this._header.css("margin-bottom"),10),t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;isNaN(r)||(s-=2*r),isNaN(n)||(s+=n),this._heightBeforeCollapse=this.host.height(),
this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",s),this.host.animate({height:s},t,function(){i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","none"),i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)})}},expand:function(t){if(this.collapsed&&!this.host.is(":animated")){var i=this,t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;this.host.animate({height:this._heightBeforeCollapse},t,function(){i.collapsed=!1,i.host.css("min-height",i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","block"),i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)})}},closeAll:function(t){for(var t=!0,i=e.data(document.body,"jqxwindows-list"),s=i.length,r=e.data(document.body,"jqxwindow-modal")||[];s;)s-=1,this._toClose(t,i[s])&&(i[s].jqxWindow("closeWindow","close"),i.splice(s,1));this._toClose(t,r)&&(r.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(t){e.jqx.utilities.html(this._headerContentWrapper,t),this.title=t,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,s=!1;!s;)i.css("height","auto"),i.css("width","auto"),i.is(".jqx-window")?s=!0:i=i.parent();e.jqx.utilities.html(this._content,t),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e="undefined"==typeof e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],s=parseInt(i.css("z-index"),10),r=this._indexOf(this.host,t),n=t.length-1;n>r;n-=1){var o=parseInt(t[n].css("z-index"),10)-1;t[n].css("z-index",o)}this.host.css("z-index",s),this._sortByStyle("z-index",t)},hide:function(e,t,i){if(this.closing){var s=this.closing();if(0==s)return}switch(t=t||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(t,function(){e instanceof Function&&e()});case"slide":this.host.slideUp(t,function(){e instanceof Function&&e()});case"combined":this.host.hide(t,function(){e instanceof Function&&e()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),i!==!0&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(e,t){switch(this._setDialogResult("none"),t=t||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(t,function(){e instanceof Function&&e()});break;case"slide":this.host.slideDown(t,function(){e instanceof Function&&e()});break;case"combined":this.host.show(t,function(){e instanceof Function&&e()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var i=this;if(this._visible||(t>150&&"none"!=this.animationType?setTimeout(function(){i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),i._raiseEvent(7)},t-150):(i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),this._raiseEvent(7))),this._visible=!0,this._performLayout(),this.autoFocus){var s=function(){i._isTouchDevice||i._content.focus()};s(),setTimeout(function(){s()},100)}},_getTabbables:function(){var t=this._content.find("*"),i=new Array;return e.each(t,function(){s(this)&&(i[i.length]=this)}),i},move:function(t,i,s,r){var n,o,a,l=0,h=0,t=parseInt(t,10),i=parseInt(i,10);if(e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(h=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(l=this._SCROLL_WIDTH)),n=this._validateCoordinates(t,i,h,l),parseInt(this.host.css("left"),10)!==n.x||parseInt(this.host.css("top"),10)!==n.y){if(s){var d=e.jqx.mobile.getTouches(s),c=(d[0],e.jqx.position(s));o=c.left,a=c.top}void 0==o&&(o=t),void 0==a&&(a=i),r!==!1&&this._raiseEvent(2,n.x,n.y,o,a)}this.element.style.left=n.x+"px",this.element.style.top=n.y+"px",this._moved=!0}})}(jqxBaseFramework),function(e){var t=function(e){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var t=e(this.resizeTarget.children(".jqx-resize"));t.detach();var i=t.children();this._removeResizeEventListeners();for(var s=0;s<i.length;s+=1)e(i[s]).detach(),this.resizeTarget.append(i[s]);t.remove()}},initResize:function(t){this.resizeConfig(),this.resizeTarget=e(t.target),this.resizeIndicatorSize=t.indicatorSize||10,this.maxWidth=t.maxWidth||100,this.minWidth=t.minWidth||1,this.maxHeight=t.maxHeight||100,this.minHeight=t.minHeight||1,this.resizeParent=t.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,t.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(t,i,s,r,n){this.resizeTargetChildren=e(n),this.resizeTargetChildren.toArray();for(var o=this.resizeTargetChildren.length;o;)o-=1,this.resizeTargetChildren[o]=e(this.resizeTargetChildren[o])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(e("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.css({height:this.resizeTarget.height()}),this._resizeWrapper.css({width:this.resizeTarget.width()})},_removeResizeEventListeners:function(){var t=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+t),this.removeHandler(this._resizeWrapper,"mousedown.resize"+t),this.removeHandler(e(document),"mousemove.resize"+t),this.removeHandler(e(document),"mouseup.resize"+t)},_addResizeEventHandlers:function(){var t=this.resizeTarget.attr("id"),i=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+t,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(e(document),"mousemove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(e(document),"mouseup.resize."+t,function(e){i._stopResizing(i,e)});try{if(""!=document.referrer||window.frameElement){var s=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}catch(r){}},_stopResizing:function(e,t){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&e._resizeWrapper.css("cursor",e._cursorBackup)},_resizeHandler:function(t,i){return t.enableResize&&!t.collapsed?t.isResizing&&t._resizeDirection?(0===i.which&&e.jqx.browser.msie&&e.jqx.browser.version<9&&t._stopResizing(i),t._performResize(i.pageX,i.pageY),!1):t._resizeCaptureCursor(i.pageX,i.pageY):void 0},_resizeCaptureCursor:function(e,t){return this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y)?(this._changeCursor(e-parseInt(this.resizeTarget.css("left")),t-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1):void 0},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,s=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,s)},_resizeCursorChangeHandler:function(e,t){e.enableResize&&!e.collapsed&&(e.isResizing||e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left")),t.pageY-parseInt(e.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(e,t){e.enableResize&&null!==e._resizeDirection&&(e._resizeMouseDown=!0,e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY,t.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){alert(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,r){return"horizontal"===i||"both"===i?this._validateWidth(e,s,r):"vertical"===i||"both"===i?this._validateHeight(t,s,r):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:e(document).width(),height:e(document).height()}},_validateHeight:function(t,i,s){var r=0,n=2,o=this._getParent();return e(window).width()>e(document).width()&&e.jqx.browser.msie&&o.height===e(document).height()&&(r=this._SCROLL_WIDTH),"bottom"===s&&t+i.position().top+r+n>o.height+o.top?{fix:o.height-i.position().top-r-n+o.top,result:!1}:"top"===s&&i.lastHeight-t+i.y<o.top?{fix:t+(i.lastHeight-t+i.y)-o.top,result:!1}:t<i.minHeight?{fix:i.minHeight,result:!1}:t>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:t}},_validateWidth:function(t,i,s){var r=0,n=2,o=this._getParent();return e(window).height()<e(document).height()&&e.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&o.width===e(document).width()&&(r=this._SCROLL_WIDTH),"right"===s&&t+i.position().left+r+n>o.width+o.left?{fix:o.width-i.position().left-r-n+o.left,result:!1}:"left"===s&&i.lastWidth-t+i.x<o.left?{fix:t+(i.lastWidth-t+i.x)-o.left,result:!1}:t<i.minWidth?{fix:i.minWidth,result:!1}:t>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:t}},_resize:function(e,t,i){for(var s=(this._resizeDirection,this._resizeMethods.length),r=0;s>r;r++)if(this._resizeMethods[r]instanceof Function){var n={element:e,x:t,y:i,self:this};this._resizeMethods[r](n)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),s=t-this.host.height(),r="right";0!=s&&(r="bottom"),this._resizeDirection=r,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var s=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);s<this.resizeTarget.maxWidth&&s>0&&this.resizeTargetChildren[i].css({width:s})}else{var r=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);r<this.resizeTarget.maxHeight&&r>0&&this.resizeTargetChildren[i].css({height:r})}},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");return i.result||(t=i.fix),e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.css({width:t}),e.self._raiseResizeEvent(0)),t},_resizeLeft:function(e){var t=e.element.lastWidth-e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"left"),s=e.element.x+e.x;return i.result?(e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.css({width:t}),e.element.css("left",s),e.self._raiseResizeEvent(0)),t):(s=e.element.x+(e.element.lastWidth-i.fix),void(t=i.fix))},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");return i.result||(t=i.fix),e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.css({height:t}),e.self._raiseResizeEvent(0)),t},_resizeTop:function(e){var t=e.element.lastHeight-e.y,i=e.self._validateResize(0,t,"vertical",e.element,"top"),s=e.element.y+e.y;return i.result?(e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.css({height:t}),e.element.css("top",s),e.self._raiseResizeEvent(0)),t):(s=e.element.y+(e.element.lastHeight-i.fix),void(t=i.fix))},_raiseResizeEvent:function(t){var i=this._resizeEvents[t],s=e.Event(i),r={};if(r.width=parseInt(this.resizeTarget[0].style.width),r.height=parseInt(this.resizeTarget[0].style.height),s.args=r,0==t){var i=this._resizeEvents[2],n=e.Event(i);n.args=r,this.resizeTarget.trigger(n)}return this.resizeTarget.trigger(s)}}}(jqxBaseFramework);e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework);