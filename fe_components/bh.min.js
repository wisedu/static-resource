+function(){"undefined"!=typeof Waves&&(Waves.attach(".bh-btn:not(.bh-disabled):not([disabled])"),Waves.init());var e=$("body");e.on("click",'[bh-btn-role="bhSelectBtnGroup"]',function(e){var t=$(e.target||e.srcElement);if(t.hasClass("bh-btn")){var i=$(this);i.find(".bh-btn").removeClass("bh-active"),t.addClass("bh-active")}})}(),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),n=a.data("bs.tab");n||a.data("bs.tab",n=new i(this)),"string"==typeof t&&n[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("bh-active")){var n=i.find(".bh-active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),r=e.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var l=e(a);this.activate(t.closest("li"),i),this.activate(l,l.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(t,a,n){function o(){r.removeClass("bh-active").find("> .dropdown-menu > .bh-active").removeClass("bh-active").end().find('[data-toggle="bhTab"]').attr("aria-expanded",!1),t.addClass("bh-active").find('[data-toggle="bhTab"]').attr("aria-expanded",!0),l?(t[0].offsetWidth,t.addClass("bh-in")):t.removeClass("bh-fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("bh-active").end().find('[data-toggle="bhTab"]').attr("aria-expanded",!0),n&&n()}var r=a.find("> .bh-active"),l=n&&e.support.transition&&(r.length&&r.hasClass("bh-fade")||!!a.find("> .bh-fade").length);r.length&&l?r.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),r.removeClass("bh-in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=a,this};var n=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="bhTab"]',n)}(jQuery),+function(e){"use strict";function t(e,t,i){}e(document).on("click",".bh-table tr",function(i){if("INPUT"!=i.target.nodeName){{var a=e(this),n=a.closest("table.bh-table");n.children("tbody")}a.hasClass("bh-ch-active")?(a.removeClass("bh-ch-active"),t(a,0,"bh-ch-active")):(n.find("tr.bh-ch-active, td.bh-ch-active").removeClass("bh-ch-active"),a.addClass("bh-ch-active"),t(a,1,"bh-ch-active"))}}).on("mouseover",".bh-table td",function(){var i=e(this);i.parent("tr").addClass("bh-ch-hover"),t(i,1,"bh-ch-hover")}).on("mouseout",".bh-table td",function(){var i=e(this);i.parent("tr").removeClass("bh-ch-hover"),t(i,0,"bh-ch-hover")})}(jQuery),function(){$.bhDefaults=$.bhDefaults||{},$.bhDefaults.Dialog={type:"",title:"",content:"",className:"",buttons:[{text:"确定",className:"bh-btn-primary",callback:null}],width:370,height:"auto"},$.bhDialog=function(e){var t=$("body"),i=$.extend({},$.bhDefaults.Dialog,e||{}),a={},n={_init:function(){var e=$("<div></div>"),a=n.NewGuid();e.attr("id","dialog"+a);var o=$("<div class='bh-modal'></div>"),r=$("<div class='bh-pop bh-card bh-card-lv4 bh-dialog-con'></div>");i.width&&r.width(i.width),i.className&&r.addClass(i.className),n._createDialogIcon(r),n._createDialogBody(r,a),o.append(r),e.append(o),e.append($('<div class="bh-modal-backdrop"></div>')),t.append(e),n._resetPos(r),n._checkScrollbar(),t.addClass("bh-has-modal-body")},_resetPos:function(e){var t=document.documentElement.clientHeight,i=e.height();e.css("margin-top",(t-i)/2)},_checkScrollbar:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}var i=document.body.clientWidth<e,a=n._measureScrollbar();n._setScrollbar(i,a)},_setScrollbar:function(e,i){var n=parseInt(t.css("padding-right")||0,10);a.originalBodyPad=document.body.style.paddingRight||"",e&&t.css("padding-right",n+i)},_resetScrollbar:function(){t.css("padding-right",a.originalBodyPad)},_measureScrollbar:function(){var e=document.createElement("div");e.className="bh-modal-scrollbar-measure",t.append(e);var i=e.offsetWidth-e.clientWidth;return t[0].removeChild(e),i},_removeDialog:function(e){$("#dialog"+e).remove(),n._resetScrollbar(),t.removeClass("bh-has-modal-body")},_createDialogBody:function(e,t){var a=$("<div class='bh-dialog-content'></div>"),o=$('<div class="content"></div>');o.html(i.content),a.append(o),n._createDialogBtn(a,t),e.append(a),""==i.content&&(e.find(".content").css("height","80px"),e.addClass("bh-dialog-minHeight"))},_createDialogBtn:function(e,t){var a=$('<div class="bh-dialog-center"></div>');if(i.buttons&&i.buttons.length>0)for(var o=i.buttons.length,r=0;o>r;r++){var l=n._createBtn(i.buttons[r],t);a.append(l)}else{var l=n._createBtn({text:"确定",className:"bh-btn-primary"},t);a.append(l)}e.append(a)},_createBtn:function(e,t){var i=$("<a style='cursor: pointer;' class='bh-btn'></a>");return e&&e.text&&i.text(e.text),e&&e.className&&i.addClass(e.className),i.click(function(){n._removeDialog(t),e.callback&&e.callback()}),i},_createDialogIcon:function(e){if(""!=i.type){var t=n._getDialogIconDom(i.type);e.append(t)}},_getDialogIconDom:function(e){var t="";"success"==e?t="checkcircle":"warning"==e?t="error":"danger"==e&&(t="cancel");var a='<div class="bh-dialog-title-con"><i class="iconfont icon-setstyle icon-'+t+" bh-dialog-icon-color"+e+'"></i><h2 class="bh-dialog-title-text">'+i.title+"</h2></div>";return a},NewGuid:function(){return n.S4()+n.S4()+"-"+n.S4()+"-"+n.S4()+"-"+n.S4()+"-"+n.S4()+n.S4()+n.S4()},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}};""==i.type&&i.iconType&&(i.type=i.iconType),(""===i.content||void 0===i.content)&&(i.content=i.title,i.title="提示"),n._init()}}.call(this),+function(e){"use strict";e(document).on("click",".bh-label-radio",function(t){var i=e(this),a=i.parent();if(a.attr("multiple"))i.toggleClass("bh-active");else{if(i.hasClass("bh-active"))return;i.closest(".bh-label-radio-group").find(".bh-label-radio").removeClass("bh-active"),i.addClass("bh-active")}a.trigger("change")})}(jQuery),+function(e){"use strict";function t(e){var t=e.closest("[bh-form-role=bhForm]");t.length>0&&!t.hasClass("bh-form-S")&&(t.find(".bh-row").removeClass("bh-active"),e.closest(".bh-row").addClass("bh-active"))}e(document).on("click","input.bh-form-control",function(i){t(e(this))}),e(document).on("click","textarea.bh-form-control",function(i){t(e(this))}),e(document).on("click","input[type='radio']",function(i){t(e(this))}),e(document).on("click","input[type='checkbox']",function(i){t(e(this))})}(jQuery),+function(e){"use strict";e(document).on("click",function(t){var i=null,a=e(t.target||t.srcElement);"bhDropdown"===a.attr("bh-dropdown-role")?i=a:a.closest("[bh-dropdown-role=bhDropdown]").length>0&&(i=a.closest("[bh-dropdown-role=bhDropdown]")),i?i.find("[bh-dropdown-role=bhDropdownMenu]").toggleClass("bh-dropdown-open"):e("body").find("[bh-dropdown-role=bhDropdownMenu]").removeClass("bh-dropdown-open")})}(jQuery),function(e){e.bhAffix=function(t){function i(){if(n.fixedContainer.length>0){var t=e(window),i=t.scrollTop(),a=n.hostContainer.offset(),o=a.top,r=(a.left,n.header?n.header.outerHeight():0),l=n.fixedContainer.offset(),s=l.top,d=l.left,h=s-o,c=n.offset.top?parseInt(n.offset.top,10):0;if(h+=c,i>=o-c-r){var f=n.fixedContainer.data("bhAffixStyleData");if(!f){n.offset.left&&(d+=parseInt(n.offset.left,10));var p=h;p+=n.miniHeader?n.miniHeader.outerHeight():r,f={left:d+"px",position:"fixed",top:p};var u=n.fixedContainer.attr("style");n.fixedContainer.data("beforeBhAffixStyle",u).data("bhAffixStyleData",f)}n.fixedContainer.css(f).data("bhAffixFlag",!0).addClass("bh-affix-fixedFlag")}else{var u=n.fixedContainer.data("beforeBhAffixStyle"),v=n.fixedContainer.data("bhAffixFlag");u||(u=""),v&&(n.fixedContainer.attr("style",u),n.fixedContainer.data("bhAffixFlag",!1).removeClass("bh-affix-fixedFlag"))}}}var a={hostContainer:"",header:e("header.sc-head"),miniHeader:e("header.sc-head-mini"),fixedContainer:"",offset:{}},n=e.extend({},a,t);n.fixedContainer.length>0&&"bhAffix"!==n.fixedContainer.attr("bh-affix-role")&&(e(window).on("scroll.bhAffix",function(){i()}),n.fixedContainer.attr("bh-affix-role","bhAffix"))}}(jQuery),function(e){function t(){return 450}function i(){return 42}function a(t){var i=o(t),a=r(t),l=n();e("body").append('<div class="bh-asideNav-container bh-animated bh-outLeft" style="display: none;" bh-aside-nav-role="bhAsideNav">'+i+a+"</div>"+l),s(),t&&"undefined"!=typeof t.ready&&t.ready instanceof Function&&t.ready()}function n(){var e='<div class="bh-modal-backdrop bh-animated bh-asideNav-fadeOut" style="display: none;" bh-aside-nav-role="bhAsideNavBackdrop"></div>';return e}function o(e){var t='<div class="bh-asideNav-top"><h1>'+e.title+'</h1><div class="bh-asideNav-top-close"><i class="iconfont icon-close" bh-aside-nav-role="bhAsideNavCloseBtn"></i></div></div>';return t}function r(e){var t=e.data,i=t.length,a=e.iconFont,n="";if(i>0)for(var o=0;i>o;o++){var r=t[o],s=r.length;if(s>0)for(var d=!1,h=0;s>h;h++){i-1>o&&(d=h==s-1?!0:!1);var c=r[h],f=c.children;if(f&&f.length>0){var p="",u=f.length;if(u>0){for(var v=0;u>v;v++)p+=l(f[v],a,"child",!1);p='<ul class="bh-asideNav">'+p+"</ul>"}n+=l(c,a,"",d).replace("@childContent",p)}else n+=l(c,a,"",d)}}return n='<div class="bh-asideNav-list"><ul class="bh-asideNav">'+n+"</ul></div>"}function l(e,t,i,a){var n=e.text,o=e.icon,r=e.href,l="",s=!1;"child"===i?l="":e.children&&e.children.length>0&&(l="bh-asideNav-dropdown",s=!0),r||(r="javascript:void(0);"),a&&(l+=" bh-asideNav-splite");var d='<li class="@liClass"><a href="@href"><div><i class="@iconFont @iconName"></i>@text</div></a>@childContent</li>';return d=d.replace("@liClass",l).replace("@href",r).replace("@iconFont",t).replace("@iconName",o).replace("@text",n),s||(d=d.replace("@childContent","")),d}function s(a){var n=e("[bh-aside-nav-role=bhAsideNav]");n.on("click","[bh-aside-nav-role=bhAsideNavCloseBtn]",function(){h(a)});var o=e("[bh-aside-nav-role=bhAsideNavBackdrop]");o.on("click",function(){h(a)}),n.on("click",".bh-asideNav-dropdown > a",function(){var a=e(this).parent();if(a.hasClass("bh-asideNav-open")){var o=i();a.removeClass("bh-asideNav-open").css({height:o+"px"})}else{n.find(".bh-asideNav-dropdown").css({height:i()+"px"});var r=a.find(".bh-asideNav"),l=r.children("li"),s=l.length,d=s+1,h=i()*d;n.find(".bh-asideNav-open").removeClass("bh-asideNav-open"),a.addClass("bh-asideNav-open").css({height:h+"px"})}setTimeout(function(){e(".bh-asideNav-container").getNiceScroll().resize()},t())}),n.on("click",".bh-asideNav li>a",function(){var t=e(this).closest("li");n.find(".bh-asideNav-active").removeClass("bh-asideNav-active"),t.addClass("bh-asideNav-active"),t.hasClass("bh-asideNav-dropdown")||h(a)}),e(".bh-asideNav-container").niceScroll({cursorborder:"none",hidecursordelay:10,autohidemode:"scroll"})}function d(){var i=e("[bh-aside-nav-role=bhAsideNav]"),a=e("[bh-aside-nav-role=bhAsideNavBackdrop]");i.removeClass("bh-outLeft").addClass("bh-intoLeft").show(),a.removeClass("bh-asideNav-fadeOut").addClass("bh-asideNav-fadeIn").show(),setTimeout(function(){e(".bh-asideNav-container").getNiceScroll().resize()},t())}function h(i){var a=e("[bh-aside-nav-role=bhAsideNav]"),n=e("[bh-aside-nav-role=bhAsideNavBackdrop]");a.removeClass("bh-intoLeft").addClass("bh-outLeft"),n.removeClass("bh-asideNav-fadeIn").addClass("bh-asideNav-fadeOut"),setTimeout(function(){n.hide(),e(".bh-asideNav-container").getNiceScroll().resize(),i&&"undefined"!=typeof i.hide&&i.hide instanceof Function&&i.hide()},t())}function c(){e("[bh-aside-nav-role=bhAsideNav]").remove(),e("[bh-aside-nav-role=bhAsideNavBackdrop]").remove()}e.bhAsideNav={init:function(t){var i={title:"",iconFont:"",data:[],hide:null,ready:null};t=e.extend({},i,t),a(t)},show:function(e){d()},hide:function(t){var i={hide:null};t=e.extend({},i,t),h(t)},destroy:function(e){c()}}}(jQuery),function(){var e,t,i;e=function(){function e(e,i){this.options=$.extend({},$.fn.bhButtonGroup.defaults,i),this.$element=$(e),t(this.$element,this.options)}return e.prototype.setValue=function(e){var t;e&&null!=e&&""!=e||(t="ALL"),$(".bh-label-radio.bh-active",this.$element).removeClass("bh-active"),$(".bh-label-radio[data-id="+t+"]").addClass("bh-active")},e.prototype.getValue=function(){var e,t=$.makeArray($(".bh-label-radio.bh-active",this.$element));return t.length&&(e=t.map(function(e){return $(e).data("id")}).join(",")),"ALL"==e?"":e},e}(),t=function(e,t){if(t.multiple&&e.attr("multiple",!0),t.data&&null!=t.data&&t.data.length>0)i(t.data,e,t);else if(t.url){var a={datatype:"json",root:"datas>code>rows",datafields:[{name:"id"},{name:"name"}],id:"id",url:t.url},n=new $.jqx.dataAdapter(a,{loadComplete:function(a){var n=a.datas.code.rows;i(n,e,t),e.trigger("bhInputInitComplete",e)}});n.dataBind()}},i=function(e,t,i){var a="";i.allOption&&!i.multiple&&(a='<div class="bh-active bh-label-radio" data-id="ALL">全部</div>'),$(e).each(function(){a+='<div class="bh-label-radio" data-id="'+this.id+'" data-name="'+this.name+'">'+this.name+"</div>"}),t.html(a)},$.fn.bhButtonGroup=function(t){var i;return i=this.data("plugin"),i?t===!0?i:"string"===$.type(t)?i[t]():this:this.each(function(){return $(this).data("plugin",new e(this,t))})},$.fn.bhButtonGroup.defaults={allOption:!0,multiple:!1}}.call(this),function(e){function t(e,t){var a=i(e);t.html(a),r(t,e),l(t,e)}function i(e){var t=e.data,i=!1;if(t){for(var r="",l=0;l<t.length;l++){var s=t[l],d="bh-collapse";s.disabled&&(d+=" bh-collapse-disabled",s.extend=!1);var h=a(s.content),c=o(e,s.extend,i);s.extend=c.extend,c.flag&&(i=c.flag),r+=n(d,s,h)}return r}}function a(e){var t="";if(e)for(var i=0;i<e.length;i++){var a=e[i],n=a.title,o=a.content,r="",l="";"undefined"!=typeof n&&(r='<div class="sc-title-borderLeft bh-mb-16">'+n+"</div>"),"undefined"!=typeof o&&(l='<div class="bh-collapse-block-item-content">'+o+"</div>"),t+='<div class="bh-collapse-block-item">'+r+l+"</div>"}return t}function n(e,t,i){var a='<div class="'+e+'" bh-collapse-extend="'+t.extend+'"><div class="bh-collapse-header"><h3 class="bh-collapse-title">'+t.title+'</h3><div class="bh-collapse-toolbar bh-animate-transform-fast"><i class="iconfont icon-keyboardarrowright bh-collapse-icon"></i></div></div><div class="bh-collapse-block bh-collapse-animate-fast">'+i+"</div></div>";return a}function o(e,t,i){var a=i,n=t;"multiple"===e.model?"undefined"==typeof n&&(n=e.extend?!0:!1):"undefined"==typeof n?n=!1:n&&(i?n=!1:a=!0);var o={extend:n,flag:a};return o}function r(t,i){t.find(".bh-collapse-block").each(function(){var t=e(this),i=t.outerHeight(),a=t.closest(".bh-collapse").find(".bh-collapse-toolbar"),n=t.closest(".bh-collapse").attr("bh-collapse-extend");"true"===n?(a.addClass("bh-collapse-rotate-90"),t.css({height:i}).data("height",i).closest(".bh-collapse").addClass("bh-card bh-card-lv2 active")):t.css({height:0}).data("height",i).hide()}),"undefined"!=typeof i.ready&&i.ready instanceof Function&&i.ready()}function l(t,i){t.off("click",".bh-collapse-header").on("click",".bh-collapse-header",function(a){a=a||window.event;var n=a.target||a.srcElement,o=e(n),r=o.closest(".bh-collapse").find(".bh-collapse-block");o.closest(".bh-collapse-disabled").length||("true"!==o.closest(".bh-collapse").attr("bh-collapse-extend")?"single"===i.model?s(t,r,i):c(r,i):f(r,i))})}function s(e,t,i){var a=d(e);if(a){var n=h(e);f(n,i),setTimeout(function(){c(t,i)},p())}else c(t,i)}function d(e){var t=!1,i=e.find(".active");return i.length>0&&i.find(".bh-collapse-block").is(":visible")&&(t=!0),t}function h(t){var i;return t.find(".bh-collapse-block").each(function(t,a){return e(a).is(":visible")?(i=e(a),!1):void 0}),i}function c(e,t){var i=e.closest(".bh-collapse");i.addClass("bh-card bh-card-lv2 active").attr("bh-collapse-extend","true"),i.find(".bh-collapse-toolbar").removeClass("bh-collapse-rotate-0").addClass("bh-collapse-rotate-90");var a=e.data("height");e.show(),setTimeout(function(){e.css({height:a})},50);var n={node:i};t&&t.nodeExtend&&setTimeout(function(){t.nodeExtend(n)},p())}function f(e,t){var i=e.closest(".bh-collapse");e.css({height:0});var a={node:i};i.find(".bh-collapse-toolbar").removeClass("bh-collapse-rotate-90").addClass("bh-collapse-rotate-0"),setTimeout(function(){e.hide(),i.removeClass("bh-card bh-card-lv2 active").attr("bh-collapse-extend","false"),t&&t.nodeCollapse&&t.nodeCollapse(a)},p())}function p(){return 250}var u;e.fn.bhCollapse=function(t,i){var a;return a=this.data("bhCollapse"),a?t===!0?a:"string"===e.type(t)?a[t](i):this:this.each(function(){return e(this).data("bhCollapse",new u(this,t))})},e.fn.bhCollapse.defaults={model:"single",extend:!1,data:[],nodeExtend:null,nodeCollapse:null,ready:null},u=function(){function i(i,a){this.settings=e.extend({},e.fn.bhCollapse.defaults,a),this.$element=e(i),t(this.settings,this.$element)}return i}()}(jQuery),function(e){function t(e,t){var a=i(e);t.html(a).attr("bh-footer-role","footer").addClass("bh-footer")}function i(e){var t='<div class="bh-footer-content">'+e.text+"</div>";return t}var a;a=function(){function i(i,a){this.settings=e.extend({},e.fn.bhHeader.defaults,a),this.$element=e(i),t(this.settings,this.$element)}return i}(),e.fn.bhFooter=function(e){return this.each(function(){return new a(this,e)})},e.fn.bhFooter.defaults={text:""}}(jQuery),function(e){function t(t,a){this.options=e.extend({},e.fn.flowState.defaultOptions,a),this.$element=e(t),n(this.options,this.$element),f(this.options,this.$element),i(this.options)}function i(e){for(var t=e.flowStateData.length,i=0;t>i;i++)a(e.flowStateData[i],i,t)}function a(t,i,a){var n=0,o=e(".bh-flowState-box")[i];0===i?n=96:i===a-1&&(n=-96),e(o).jqxTooltip("destroy"),t.isShowPop&&(e(o).jqxTooltip({position:"bottom",autoHide:!1,top:10,left:n,showArrow:!1,closeOnClick:!1,content:t.popHtml}),e(".jqx-tooltip-main").css({"background-color":"#ffffff","box-shadow":"0 4px 20px #bbb"}),e(o).on("mouseout",function(){e(o).jqxTooltip("close")}))}function n(e,t){var i=c(e),a=o(i),n='<div class="bh-flowState bh-clearfix">'+a+"</div>";t.html(n)}function o(e){if(e){var t=e.length,i="";if(0!==t)for(var a=0;t>a;a++)i+=r(e,a+1,t);return i}}function r(e,t,i){var a=e[t-1],n=e[t-2],o=i-1,r=l(a),d=s(a),h=[];1===t?h.push("bh-flowState-hideLeft"):t===i&&h.push("bh-flowState-hideRight"),n&&"success"===n.status&&h.push("bh-flowState-prev-success");var c='<div class="bh-flowState-box '+h.join(" ")+'"><div class="bh-flowState-num-circle '+r+'">'+t+'</div><div class="bh-flowState-word"><div class="bh-flowState-detail">'+a.content+'</div><a class="bh-flowState-status '+r+'">'+a.statusDescription+'</a></div></div><div class="bh-flowState-line '+d+' " style="width:calc((100% - 96*'+i+"px) / "+o+')"></div>';return c}function l(e){var t={success:"bh-flowState-success",fail:"bh-flowState-fail",operation:"bh-flowState-operation"};return t[e.status||e.resetStatus]}function s(e){var t={success:"bh-flowState-line-succes"};return t[e.status||e.resetStatus]}function d(e){var t="";return e.hasClass("bh-flowState-success")?t="bh-flowState-success":e.hasClass("bh-flowState-fail")?t="bh-flowState-fail":e.hasClass("bh-flowState-operation")&&(t="bh-flowState-operation"),t}function h(e){var t="";return e.hasClass("bh-flowState-line-succes")&&(t="bh-flowState-line-succes"),t}function c(e){return e.flowStateData}function f(e,t){t.css("width",e.width),t.find(".bh-flowState-line:last").css("width","0")}function p(t,i){var n=t.index-1,o=i.$element.find(".bh-flowState-box"),r=i.$element.find(".bh-flowState-num-circle"),c=i.$element.find(".bh-flowState-status"),f=i.$element.find(".bh-flowState-line"),p=l(t),u=s(t),v=d(e(r[n])),b=h(e(f[n]));e(c[n]).text(t.resetStatusDecription),"success"===t.resetStatus?e(o[n+1]).addClass("bh-flowState-prev-success"):e(o[n+1]).removeClass("bh-flowState-prev-success"),e(r[n]).removeClass(v),e(c[n]).removeClass(v),e(f[n]).removeClass(b),e(r[n]).addClass(p),e(c[n]).addClass(p),e(f[n]).addClass(u),a(t,n,r.length)}function u(i,a){var n;return(n=this.data("flowState"))?i===!0?n:("string"===e.type(i)&&n[i](a),this):this.each(function(){return e(this).data("flowState",new t(this,i))})}e.fn.flowState=u,e.fn.flowState.defaultOptions={width:"100%",flowStateData:[{id:"1",content:"个人提交",status:"success",statusDescription:"提交成功",popHtml:"<div class='bh-flowState-time'>审核时间：<span></span></div><div class='bh-flowState-suggestion'>审核意见：<span></span></div>",isShowPop:!0}]},t.prototype={resetFlowStatus:function(t){t=e.extend({},{index:0/0,resetStatus:"success",resetStatusDecription:"成功",isShowPop:!0,popHtml:"<div class='bh-flowState-time'>审核时间：<span></span></div><div class='bh-flowState-suggestion'>审核意见：<span></span></div>"},t),p(t,this)}}}(jQuery),function(e){"use strict";e.bhCutStr=function(t){function i(t){var i=t.dom?t.dom.selector:"";if(!(i.length>0)){var r=e.trim(t.text.content),l=r;r.length>t.text.number&&(l=r.substring(0,t.text.number)+"...");var s="javascript:void(0);",d='target="blank"',h="",c="";return t.moreBtn&&(s=t.moreBtn.url&&0!==t.moreBtn.url.length?t.moreBtn.url:"javascript:void(0);",d=t.moreBtn.isOpenNewPage?"":'target="blank"',c=t.moreBtn.content?t.moreBtn.content:"",h='<a href="'+s+'" class="bh-cut-str-more" bh-cut-str-role="bhCutStr" '+d+' data-full-str="'+r+'">'+c+"</a>"),l+=h}i.each(function(){var i=BH_UTILS.NewGuid(),r=e(this);r.append('<div id="'+i+'"><div id="chinese-'+i+'" style="display: none;position: absolute;">是</div><div id="lower-english-'+i+'" style="display: none;position: absolute;">w</div></div>');var l=r.find("#"+i);t.chineseFontSize=l.find("#chinese-"+i).width(),t.lowerEnFontSize=l.find("#lower-english-"+i).width(),l.remove();var s=r.width(),d=e.trim(t.dom.content?t.dom.content:r.text()),h=d.length,c=parseInt(s*t.dom.line/t.chineseFontSize,10);if(!(c>=h)){var f="javascript:void(0);",p='target="blank"',u="",v="";t.moreBtn&&(f=t.moreBtn.url&&0!==t.moreBtn.url.length?t.moreBtn.url:"javascript:void(0);",p=t.moreBtn.isOpenNewPage?"":'target="blank"',v=t.moreBtn.content?t.moreBtn.content:"",u='<a href="'+f+'" class="bh-cut-str-more" bh-cut-str-role="bhCutStr" '+p+' data-guid="'+i+'" data-full-str="'+d+'">'+v+"</a>");var b=v?n(v):0,g=t.chineseFontSize,m=s*t.dom.line-b-g-t.chineseFontSize,x=parseInt(m/t.chineseFontSize,10),C=a(m,x,d);r.html(C+"..."+u),u&&o(r.find('a[bh-cut-str-role="bhCutStr"]'))}})}function a(e,t,i){var o=i.substring(0,t),r=i.substring(t,i.length),l=n(o),s="";if(e>l){var d=e-l;if(d>h.chineseFontSize){var c=parseInt(d/h.chineseFontSize,10);s=a(d,c,r)}}return o+s}function n(e){var t=e.match(/[^\x00-\xff]/g),i=t?t.length:0,a=e.match(/[A-Z@]/g),n=a?a.length:0,o=e.length-i-n,r=(i+n)*h.chineseFontSize+o*h.lowerEnFontSize;return r}function o(t){t.on("mouseover",function(){var e=t.attr("data-full-str"),i=t.attr("data-guid"),a=t.parent(),n=a.width();s(t,n,e,i)}),t.on("mouseout",function(){var i=t.attr("data-guid"),a=e("#"+i);l(a)})}function r(e){e.on("mouseover",function(){e.data("flag","show")}),e.on("mouseout",function(){l(e)})}function l(e){e.data("flag","hide"),setTimeout(function(){"hide"===e.data("flag")&&(e.removeClass("bh-active"),setTimeout(function(){e.remove()},250))},150)}function s(t,i,a,n){var o=BH_UTILS.getElementPosition(t),l=window.innerHeight,s=parseInt(l/2,10),d=window.scrollY,h='<div data-flag="content">'+a+"</div>",c='<div id="'+n+'" style="width: '+i+'px;" class="bh-cutStr-popBox bh-card bh-card-lv2 bh-animate-transform-fast bh-animate-scale">'+h+"</div>",f=e(c);e("body").append(f);var p={left:o.right-i+"px",top:o.bottom+"px"},u="bh-animate-origin-TR",v=f.outerHeight(),b=0,g=0,m=8;o.top-d>s?(g=o.top-d-e('header[bh-header-role="bhHeader"]').outerHeight()-m,u="bh-animate-origin-BR",b=g>v?v:g,p.top=o.top-b+"px"):(g=l+d-o.bottom-e('footer[class="bh-footer"]').outerHeight()-m,b=g>v?v:g),p["max-height"]=b+"px",f.css(p).addClass(u),setTimeout(function(){f.addClass("bh-active")},10),r(f)}var d={dom:{selector:"",line:0,content:""},text:{content:"",number:0},moreBtn:{content:"",url:"",isOpenNewPage:!0}},h=e.extend({},d,t);return i(h)}}(jQuery),function(e){function t(){setTimeout(function(){var t=e("[bh-footer-affix-role=bhFooterAffix]").parent(),i=l(t),n=i.articleHeight+i.articleOffset.top;n<=i.windowHeight?a(t):o(t)},50)}function i(e){o(e),a(e)}function a(e){var t=l(e),i=e.find("div[bh-footer-affix-role=bhFooterAffix]"),a=o(e,"get");i.attr("bh-footer-affix-fixed",a);var r=t.articleHeight+t.articleOffset.top;r<=t.windowHeight&&n(i)}function n(t){if(0!==t.contents().length){var i=t.parent(),a="",n=0;i.children().each(function(){var t=e(this);if("nav"===t[0].localName&&(a="navLeft"),"navLeft"===a){var i=0;t.children().each(function(){i+=e(this).outerHeight()}),i>n&&(n=i)}else{var o=t.outerHeight();"bhFooterAffix"==t.attr("bh-footer-affix-role")&&(o=0),n+=o}});var o=parseInt(i.css("padding-bottom"),10);o=o?o:0;var r=parseInt(i.css("min-height"),10);r=r?r:0,r>n+o?(t.removeAttr("style"),t.css({top:n+"px",bottom:"initial","background-color":"transparent"}).removeClass("bh-card bh-card-lv1")):t.css({left:0,bottom:0,position:"absolute"}),t.show()}}function o(e,t){var i="",a=e.find("div[bh-footer-affix-role=bhFooterAffix]");if(a[0]){var n=e.outerWidth(),o=l(e),r=o.articleHeight+o.footerHeight+o.bodyHeaderHeight;s(a,o.divFooterHeight),i="left:"+o.articleOffset.left+"px;width:"+n+"px;position:fixed;bottom:0;top:initial;display:block;z-index:1000;","get"!==t&&(r<=o.windowHeight?a.css({left:o.articleOffset.left+"px",bottom:0,position:"absolute","background-color":"transparent"}).removeClass("bh-card bh-card-lv1"):a.css({left:o.articleOffset.left+"px",width:n+"px",position:"fixed",bottom:0,top:"initial",display:"block","z-index":1e3,"background-color":"#fff"}))}return i}function r(e){var t=l(e),i=e.find("div[bh-footer-affix-role=bhFooterAffix]");if(t.windowHeight+t.scrollTop>=t.bodyHeight-32)n(i);else{var a=i.attr("bh-footer-affix-fixed"),o=t.articleHeight+t.footerHeight+t.bodyHeaderHeight;o<=t.windowHeight?i.css({left:0,bottom:0,position:"absolute","background-color":"transparent"}).removeClass("bh-card bh-card-lv1"):i.attr("style",a)}}function l(t){{var i={},a=e(window),n=e("body"),o=a.scrollTop(),r=a.height(),l=0;window.navigator.userAgent}l=window.ActiveXObject||"ActiveXObject"in window?document.documentElement.scrollHeight:n.get(0).scrollHeight;var s=e("[bh-footer-role=footer]").outerHeight(),d=e("body header header").outerHeight();if(t){var h=t.outerHeight(),c=t.offset(),f=0,p=t.find("div[bh-footer-affix-role=bhFooterAffix]");p.length>0&&(f=p.outerHeight(!0)),i.articleHeight=h,i.articleOffset=c,i.divFooterHeight=f}return i.windowHeight=r,i.scrollTop=o,i.bodyHeight=l,i.footerHeight=s,i.bodyHeaderHeight=d,i}function s(e,t){e.parent().css({"padding-bottom":t})}e.bhFooterAffix=function(){var t=e("body main [bh-role=bhFooterAffix]").first();if(t[0]){var a=t.parent();if("bhFooterAffix"===a.attr("bh-footer-affix-role"))return;var n='<div bh-footer-affix-role="bhFooterAffix" class="bh-footer-affix bh-card bh-card-lv1"></div>';t.wrap(n);var o=e("[bh-paper-pile-dialog-role=bhPaperPileDialog]")[0],l=e("[bh-property-dialog-role=bhPropertyDialog]")[0],s=e("[role=dialog]").filter(function(){return e(this).hasClass(".jqx-window")&&"none"!==e(this).css("display")})[0];e(window).scroll(function(e){o||l||s||r(a)}),i(a)}},e.bhFooterAffix.resetPosition=function(){t()}}(jQuery),function(e){function t(t){function i(){var a=(e(window),t.insertContainer.offset()),n=(a.top,document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop);if(d(),"none"==e(t.insertContainer[0]).css("display")&&e(window).unbind("scroll",i),!u&&0!=m.length&&"none"!=t.insertContainer.find('[bh-role-form-outline-item-title-guid="'+m[0].guid+'"]').css("display"))for(var o=0;o<m.length;o++){var r=t.insertContainer.find('[bh-role-form-outline-item-title-guid="'+m[o].guid+'"]').offset();if(r&&r.top-n>0){A.find("div.bh-form-outline-item").removeClass("bh-active"),e('[bh-role-form-outline-fixed-item-guid="'+m[o].guid+'"]').addClass("bh-active"),f(e('[bh-role-form-outline-fixed-item-guid="'+m[o].guid+'"]'));break}}}function d(){var i=t.insertContainer.offset(),a=i.top,n=A.offset(),o=n.left,r=n.top,l=r-a,s=e(window).scrollTop();if(s>=a||void 0===A.data("bhAffixFlag")){if(A.data("bhAffixFlag")!==!0){var d={left:o+"px",position:"fixed",top:l};A.css(d).data("bhAffixFlag",!0).data("bhfixedStyle",d)}}else A.attr("style",D).data("bhAffixFlag",!1)}function h(e,t){return t>e?t:e}function c(e,t){return e>t?t:e}function f(t){d();var i=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,a=t.offset().top-i,n=e(window).height()-a;j=e(window).height()-A.height()-N.OUTLINE_BOTTOM_TO_BROWER_BOTTOM,E=void 0===E?A.data("bhfixedStyle").top:E;var o=+A.css("top").replace("px","");if(n<N.BOTTOM_POSITION_TRIGGER_MOVE_UP){var r=o-n;A.css("top",h(r,j))}if(a<N.TOP_POSITION_TRIGGER_MOVE_DOWN){var r=o+a+N.TOP_POSITION_TRIGGER_MOVE_DOWN_DISTANCE;A.css("top",c(r,E))}e(document).scrollTop()+e(window).height()>=e(document).height()&&A.height()+N.OUTLINE_BOTTOM_TO_BROWER_BOTTOM>=e(window).height()&&A.css("top",j)}var p=t.insertContainer?t.insertContainer.attr("bh-form-outline-role-form-guid"):"";if(p)return void e("div[bh-form-outline-role-outline-guid="+p+"]").removeClass("bh-fadeOut").addClass("bh-fadeIn").show();var u=!1,v=null;p=s();var b=a(),g=n(),m=[];t.insertContainer.find("[bh-role-form-outline=title]").each(function(){var t=s(),i=e(this),a=i.text();i.attr("bh-role-form-outline-item-title-guid",t),m.push({title:a,guid:t})}),t.insertContainer.find("[bh-role-form-outline=container]").each(function(t){var i=m[t].guid,a=e(this);a.attr("bh-role-form-outline-item-guid",i);var n={};n.editBoxCount=0,n.enterEditBoxCount=0,n=l(a,"input",n),n=l(a,"textarea",n),n=l(a,"select",n),m[t].statistics=n});var x="",C=m.length;if(C>0)for(var w=0;C>w;w++){var y=m[w],B="";0===w&&(B="bh-active");var k=y.statistics,I="",T="";k&&k.editBoxCount&&t.statistics&&(I=k.enterEditBoxCount+"/"+k.editBoxCount,T=k.enterEditBoxCount===k.editBoxCount?"bh-success":""),x+=g.replace("@active",B).replace("@index",w+1).replace("@text",y.title).replace("@success",T).replace("@count",I).replace("@guid",y.guid)}var D="";if(t.offset){var S=t.offset;(0===S.left||S.left)&&(D+="left:"+S.left+"px;"),(0===S.right||S.right)&&(D+="right:"+S.right+"px;"),(0===S.top||S.top)&&(D+="top:"+S.top+"px;"),(0===S.bottom||S.bottom)&&(D+="bottom:"+S.bottom+"px;")}b=b.replace("@content",x).replace("@style",D).replace("@outlineGuid",p).replace("@customClass",t.customClass);var P="bhFormOutline_hide_"+s(),A=e(b);A.append('<div id="'+P+'" style="display: none;" class="bh-form-outline-itemText"></div>'),t.width&&A.css({width:t.width}),t.className&&A.addClass(t.className),t.insertContainer.append(A).attr("bh-form-outline-role-form-guid",p);var H=e("#"+P);A.find(".bh-form-outline-itemText").each(function(){var t=e(this),i=t.width(),a=t.text();H.html(a);var n=H.width();n>i&&t.attr("title",a)}),t.statistics&&(t.insertContainer.on({keydown:function(e){setTimeout(function(){o(e)},50)},click:function(e){o(e)}}),t.insertContainer.find(".jqx-dropdownlist-state-normal").each(function(){var t=e(this);t.on("select",function(e){var i=t.closest("[bh-role-form-outline=container]");r(i)})}),t.insertContainer.find(".jqx-datetimeinput").each(function(){var t=e(this);t.on("valueChanged",function(e){var i=t.closest("[bh-role-form-outline=container]");r(i)})}),t.insertContainer.find(".jqx-combobox").each(function(){var t=e(this);t.on("change",function(e){setTimeout(function(){var e=t.closest("[bh-role-form-outline=container]");r(e)},50)})}),t.insertContainer.find("[xtype=uploadfile],[xtype='uploadsingleimage'],[xtype='uploadmuiltimage']").each(function(){var t=e(this);t.on("bh.file.upload.done",function(e){setTimeout(function(){var e=t.closest("[bh-role-form-outline=container]");r(e)},50)}),t.on("bh.file.upload.delete",function(e){setTimeout(function(){var e=t.closest("[bh-role-form-outline=container]");r(e)},50);

})})),A.on("click","div.bh-form-outline-item",function(){var i=e(this),a=i.closest("div[bh-role-form-outline-fixed=bhFormOutline]"),n=i.attr("bh-role-form-outline-fixed-item-guid"),o=t.insertContainer.find("[bh-role-form-outline-item-title-guid="+n+"]"),r=o.offset().top;t.scrollOffsetTop&&(r-=parseInt(t.scrollOffsetTop,10)),e("html, html body").animate({scrollTop:r},450),a.find("div.bh-form-outline-item").removeClass("bh-active"),i.addClass("bh-active"),clearTimeout(v),u=!0,v=setTimeout(function(){u=!1},700),t.affix&&f(i)});var E,j,D=A.attr("style"),N={OUTLINE_BOTTOM_TO_BROWER_BOTTOM:t.bottom||100,BOTTOM_POSITION_TRIGGER_MOVE_UP:100,TOP_POSITION_TRIGGER_MOVE_DOWN:100,TOP_POSITION_TRIGGER_MOVE_DOWN_DISTANCE:100};t.affix&&(e(window).bind("scroll",i),setTimeout(function(){e(window).trigger("scroll")},30))}function i(t){var i="",a="";if(t.insertContainer?(a=t.insertContainer.attr("bh-form-outline-role-form-guid"),i=t.insertContainer.find("div[bh-form-outline-role-outline-guid="+a+"]")):(i=e("[bh-role-form-outline-fixed=bhFormOutline]"),a=i.attr("bh-form-outline-role-outline-guid")),i.removeClass("bh-fadeIn").addClass("bh-fadeOut"),t.destroy){var n=t.insertContainer?t.insertContainer:e("[bh-form-outline-role-form-guid="+a+"]");n.removeAttr("bh-form-outline-role-form-guid"),i.remove()}}function a(){var e='<div class="bh-form-outline bh-animated-doubleTime bh-fadeIn @customClass" bh-role-form-outline-fixed="bhFormOutline" bh-form-outline-role-outline-guid="@outlineGuid" style="@style">@content</div>';return e}function n(){var e='<div class="bh-form-outline-item @active" bh-role-form-outline-fixed-item-guid="@guid"><div class="bh-form-outline-itemIndex">@index</div><div class="bh-form-outline-itemText bh-str-cut">@text</div><div class="bh-form-outline-itemCount @success">@count</div></div>';return e}function o(t){var i=e(t.target||t.srcElement),a=i[0].localName,n=i.closest("[bh-role-form-outline=container]");"click"===t.type?"input"===a&&("radio"===i.attr("type")||"checkbox"===i.attr("type"))&&r(n):("input"===a||"textarea"===a||"select"===a)&&r(n)}function r(t){var i={};i.editBoxCount=0,i.enterEditBoxCount=0,i=l(t,"input",i),i=l(t,"textarea",i),i=l(t,"select",i);var a=e("div[bh-role-form-outline-fixed=bhFormOutline]").find("div[bh-role-form-outline-fixed-item-guid="+t.attr("bh-role-form-outline-item-guid")+"]").find(".bh-form-outline-itemCount"),n=e.trim(a.text()),o=i.enterEditBoxCount+"/"+i.editBoxCount;n!=o&&(i.enterEditBoxCount===i.editBoxCount?a.addClass("bh-success"):a.removeClass("bh-success"),a.html(o)),t.data("formOutlineKeyUpCount",0)}function l(t,i,a){if("input"===i){var n={},o=[];t.find(i).each(function(){var t=e(this);if(!t.closest(".bh-row").attr("hidden")){var i=this.type;if("radio"===i||"checkbox"===i){var a=this.name;n[a]=a}else if("hidden"!==i)o.push(t);else{if("select"===t.parent().attr("xtype"))return;t.closest(".jqx-dropdownlist-state-normal").length>0&&o.push(t)}}});var r=o.length;if(r>0)for(var l=0;r>l;l++){a.editBoxCount++;var s=o[l];if(0!=e.trim(s.val()).length)a.enterEditBoxCount++;else if("file"===s.attr("type")&&s.closest(".bh-file-img-container").length>0)(s.closest(".bh-file-img-container").hasClass("saved")||s.closest(".bh-file-img-container").hasClass("success"))&&a.enterEditBoxCount++;else{var d=s.closest("[xtype=uploadfile]");d.length>0&&d.find("a.bh-file-upload-name-a").length>0&&a.enterEditBoxCount++}}for(var h in n){a.editBoxCount++;var c=t.find("input[name='"+h+"']:checked").val();c&&a.enterEditBoxCount++}}else"select"==i?t.find("[xtype=select]").each(function(){var t=e(this);if(!t.closest(".bh-row").attr("hidden")){a.editBoxCount++;var i=t.jqxDropDownList("getSelectedItem");i&&""!=i.value&&a.enterEditBoxCount++}}):t.find(i).each(function(){var t=e(this);t.closest(".bh-row").attr("hidden")||(a.editBoxCount++,0!=e.trim(t.val()).length&&a.enterEditBoxCount++)});return a}function s(){return d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d()}function d(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.bhFormOutline={show:function(i){var a={insertContainer:"",width:0,className:"",offset:{},scrollOffsetTop:e('header[bh-header-role="bhHeader"]').outerHeight(),statistics:!0,affix:!1,bottom:null,customClass:""};i=e.extend({},a,i),t(i)},hide:function(t){var a={insertContainer:"",destroy:!0};t=e.extend({},a,t),i(t)}}}(jQuery),function(e){var t,i={width:900,height:document.documentElement.clientHeight},a=function(t){this.options=e.extend({},i,t)};e.extend(a.prototype,{show:function(){var i=this,a=e('<div class="bh-gallery"><div class="bh-gallery__backdrop"></div><div class="bh-gallery__main"><div class="bh-gallery__gallery"></div></div><div class="bh-gallery__close iconfont icon-close"></div></div>');e("body").append(a);var n=e(".bh-gallery__gallery",a).css({width:i.options.width,height:i.options.height});t.run(n,this.options),this.resizeGallery(n),setTimeout(function(){e("body").getNiceScroll().hide()},1e3),e(".bh-gallery__close",a).click(function(){a.remove(),e("body").getNiceScroll().show()})},resizeGallery:function(t){var i=e(window).width(),a=e(window).height(),n=this.options.width,o=this.options.height;i>n&&t.css({marginLeft:(i-n)/2}),a>o&&t.css({marginTop:(a-o)/2})}}),e.bhGallery=function(i){t=window.Galleria,void 0===t?e.getScript("http://res.wisedu.com/bower_components/galleria/src/galleria.js").done(function(){t=window.Galleria,e.getScript("http://res.wisedu.com/fe_components/galleria/standard/galleria.wisedu.js").done(function(){return void 0===t?void console.error("please include Galleria lib"):void("page"===i.showType?t.run(i.selector,i):new a(i).show())})}):"page"===i.showType?t.run(i.selector,i):new a(i).show()}}(jQuery),function(e){function t(t,a){var n=i(t);a.html(n),j(t),b(a,t),O(a,t),e("html").on("click",function(t){var i=e(t.target||t.srcElement);i.closest('div[bh-header-role="roleBox"]').length>0||i.closest('div[bh-header-role="roleSwitch"]').length>0||e("[bh-header-role=roleBox]").removeClass("bh-active"),i.closest('div[bh-header-role="bhHeaderBarInfoBox"]').length>0||i.closest('img[bh-header-role="bhHeaderUserInfoIcon"]').length>0||e("[bh-header-role=bhHeaderBarInfoBox]").removeClass("bh-active")})}function i(e){var t=a(e),i='<header class="bh-header sc-animated" bh-header-role="bhHeader">'+t+"</header>";return i+='<header class="bh-header-mini sc-animated" bh-header-role="bhHeaderMini">'+t+"</header>",i+='<header class="bh-header-bg sc-animated"></header>',e.openTheme&&(i+=p()),i}function a(e){var t='<div class="bh-headerBar"><div class="bh-headerBar-content bh-clearfix">@asideNavIcon@logo@title<div class="bh-headerBar-menu">@userImage@dropMenu@themeIcon@icons@navigate</div></div></div>';return t.replace("@logo",r(e)).replace("@title",l(e)).replace("@navigate",s(e)).replace("@icons",h(e)).replace("@userImage",f(e)).replace("@dropMenu",v(e)).replace("@asideNavIcon",n(e)).replace("@themeIcon",o(e))}function n(e){var t=e.showAsideNav?"display: block;":"display: none;",i='<div style="'+t+'" class="bh-headerBar-asideMenu" bh-header-role="bhAsideNavIcon"><i class="iconfont icon-menu"></i></div>';return i}function o(e){var t="";return e.openTheme&&(t='<div class="bh-headerBar-iconBlock" bh-theme-role="themeIcon"><i class="iconfont icon-pifu"></i></div>'),t}function r(e){var t="";return e.logo&&(t='<div class="bh-headerBar-logo"><img src="'+e.logo+'" /></div>'),t}function l(e){var t="";return e.title&&(t='<div class="bh-headerBar-title">'+e.title+"</div>"),t}function s(e){var t="",i=e.nav;if(i){t='<div class="bh-headerBar-nav-more"><i class="iconfont icon-keyboardcontrol"></i></div><div class="bh-headerBar-navigate @isHideClass">@content<div class="bh-headerBar-nav-bar bh-single-animate"></div><div class="bh-headerBar-navBar-cover"></div></div>';for(var a="",n=i.length,o=n-1;o>=0;o--){var r=BH_UTILS.NewGuid(),l=i[o];l.guid=r,1===n&&"boolean"!=typeof l.hide&&(l.hide=!0),a+=d(l)}var s=e.isNavHide?"bh-nav-hide":"";t=t.replace("@content",a).replace("@isHideClass",s)}return t}function d(t){var i='<a class="@itemClass" href="@href" @target bh-header-role="@guid"><div class="bh-headerBar-nav-item @active" @attribute>@title</div><b class="bh-headerBar-nav-item-tip"></b></a>',a="",n="",o="javascript:void(0);",r="",l="nav-"+t.guid;t.active&&(a="bh-active"),t.className&&(a+=" "+t.className);var s=t.attribute;if(s){var d=s.length;if(d>0)for(var h=0;d>h;h++){var c=s[h].key,f=s[h].value;c&&f&&(n+=c+'="'+f+'" ')}}t.href&&(o=t.href,"boolean"==typeof t.isOpenNewPage?r=t.isOpenNewPage?'target="_blank"':"":"string"==typeof t.isOpenNewPage&&(r="true"===e.trim(t.isOpenNewPage)?'target="_blank"':""));var p="";t.hide&&(p="bh-hide");var u=t.title?t.title:"";return i.replace("@active",a).replace("@title",u).replace("@href",o).replace("@attribute",n).replace("@itemClass",p).replace("@target",r).replace("@guid",l)}function h(e){var t="",i=e.icons;if((e.feedback||e.appDetail)&&(i&&i.unshift({className:"icon-erroroutline",attrs:{"bh-header-role":"ampSwitch"}}),c(e)),i)for(var a=0,n=i.length;n>a;a++){var o=i[a],r=o.className;if(r){var l=o.attrs,s="",d=o.href?o.href:"javascript:void(0);";if(l)for(var h in l){var f=l[h];s+=h+"="+f+" "}t+='<div class="bh-headerBar-iconBlock" '+s+'><a href="'+d+'"><i class="iconfont '+r+'"></i></a></div>'}}return t}function c(t){var i="";t.feedback&&(i+='<div class="bh-headerBar-roleBox-title" bh-header-role="feedbackBox"><a href="javascript:void(0);"><i class="iconfont icon-assignmentlate"></i>问题反馈</a></div>'),t.appDetail&&(i+='<div class="bh-headerBar-roleBox-title" bh-header-role="appDetailBox"><a href="javascript:void(0);"><i class="iconfont icon-helpoutline"></i>应用说明</a></div>');var a='<div class="bh-headerBar-roleBox bh-card bh-card-lv3 bh-headerBar-popupBox-animate" bh-header-role="ampBox">'+i+"</div>";e("body").append(a)}function f(e){var t="",i=e.userImage;return i&&(t='<div class="bh-headerBar-imgBlock"><img src="'+i+'" bh-header-role="bhHeaderUserInfoIcon" /></div>'),t}function p(){var e='<div class="bh-header-themelist jqx-dropdownbutton-popup"><ul><li class="selected" title="blue"><span class="bh-header-colorCard-text">蓝色皮肤</span><span class="bh-header-colorCard-blueTheme"></span><span class="bh-header-colorCard-bluePrimary"></span><span class="bh-header-colorCard-blueSuccess"></span><span class="bh-header-colorCard-blueWarning"></span><span class="bh-header-colorCard-blueDanger"></span></li><li title="purple"><span class="bh-header-colorCard-text">紫色皮肤</span><span class="bh-header-colorCard-purpleTheme"></span><span class="bh-header-colorCard-purplePrimary"></span><span class="bh-header-colorCard-purpleSuccess"></span><span class="bh-header-colorCard-purpleWarning"></span><span class="bh-header-colorCard-purpleDanger"></span></li><li title="lightBlue"><span class="bh-header-colorCard-text">淡蓝色皮肤</span><span class="bh-header-colorCard-lightBlueTheme"></span><span class="bh-header-colorCard-lightBluePrimary"></span><span class="bh-header-colorCard-lightBlueSuccess"></span><span class="bh-header-colorCard-lightBlueWarning"></span><span class="bh-header-colorCard-lightBlueDanger"></span></li><li title="green"><span class="bh-header-colorCard-text">绿色皮肤</span><span class="bh-header-colorCard-greenTheme"></span><span class="bh-header-colorCard-greenPrimary"></span><span class="bh-header-colorCard-greenSuccess"></span><span class="bh-header-colorCard-greenWarning"></span><span class="bh-header-colorCard-greenDanger"></span></li></ul></div>';return e}function u(e){var t="",i="",a="";if(e){var n=e.length;if(n>0){for(var o=0;n>o;o++){var r=e[o],l=r.text?r.text:"",s=r.href,d=r.id?r.id:"";s||(s="javascript:void(0);"),r.active&&(a=r),i+='<div class="bh-headerBar-roleBox-title"><a id="'+d+'" href="'+s+'">'+l+"</a></div>"}t='<div class="bh-headerBar-roleBox bh-card bh-card-lv3 bh-headerBar-popupBox-animate" bh-header-role="roleBox"><div class="bh-headerBar-roleBox-explain bh-headerBar-roleBox-title">选择角色</div>'+i+"</div>"}}return{html:t,active:a}}function v(t){var i="",a=t.dropMenu;if(a&&a.length>0){var n=u(a);e("body").append(n.html),i='<div class="bh-headerBar-roleSwitch" bh-header-role="roleSwitch">'+n.active.text+"</div>"}return i}function b(e,t){g(e),x(e),t.openTheme&&P(e),T(e,t),D(e,t),S(e),C(e)}function g(t){e(window).scroll(function(i){var a=e(window),n=a.scrollTop(),o=t.find("header.bh-header-bg"),r=t.find("header.bh-header-mini"),l=t.find("header.bh-header"),s=44;s>n?(o.addClass("bh-headerBg-show").removeClass("bh-headerBg-hide"),l.addClass("bh-normalHeader-show").removeClass("bh-normalHeader-hide"),r.addClass("bh-miniHeader-hide").removeClass("bh-miniHeader-show")):n==s?(l.addClass("bh-normalHeader-show").removeClass("bh-normalHeader-hide"),r.addClass("bh-miniHeader-hide").removeClass("bh-miniHeader-show")):(o.addClass("bh-headerBg-hide").removeClass("bh-headerBg-show"),l.addClass("bh-normalHeader-hide").removeClass("bh-normalHeader-show"),r.addClass("bh-miniHeader-show").removeClass("bh-miniHeader-hide"))})}function m(e){var t=e.find(".bh-headerBar-navigate"),i=t.find(".bh-active");if(i.length>0){var a=i.closest("a").index();e.find(".bh-headerBar-navigate").data("nav-init-active-index",a),I(i,t)}}function x(t){var i=t.find(".bh-headerBar-navigate"),a=i.find(".bh-headerBar-nav-item");a.length>0&&(i.on("mouseenter",".bh-headerBar-nav-item",function(){i.hasClass("bh-unActive")&&i.data("activeType","bh-unActive").removeClass("bh-unActive");var t=e(this),a=i.data("nav-init-active-index");if(!a&&0!==a){var n=i.find(".bh-active").closest("a").index();i.data("nav-init-active-index",n)}I(t,i)}),i.on("click",".bh-headerBar-nav-item",function(){i.removeData("activeType");var a=e(this).closest("a"),n=a.index();i.find(".bh-active").removeClass("bh-active"),a.children().addClass("bh-active"),i.data("nav-init-active-index",n).removeClass("bh-unActive");var o=t.find("div.bh-headerBar-nav-more");if(o.hasClass("bh-active")){o.removeClass("bh-active");var r=e('div[bh-header-role="navMoreBox"]');r.children(".bh-active").removeClass("bh-active"),r.children("div.bh-header-navMoreBox-bar").css({top:"-43px"})}}),i.on("mouseleave",function(){i.data("activeType")&&i.removeData("activeType").addClass("bh-unActive");var e=i.data("nav-init-active-index"),t=i.find(".bh-headerBar-nav-item"),a=t.closest("a").eq(e),n=a.find(".bh-headerBar-nav-item");I(n,i)}))}function C(t){t.on("click","[bh-header-role=bhAsideNavIcon]",function(){e.bhAsideNav.show()})}function w(t,i){t.on("mouseover","div.bh-headerBar-nav-more",function(){var t=e(this),i=BH_UTILS.getElementPosition(t),a=e('div[bh-header-role="navMoreBox"]'),n=a.outerWidth(),o=0;t.closest('header[bh-header-role="bhHeaderMini"]').length>0?(a.addClass("bh-header-navMoreBox-mini"),o=a.data("miniHeight")):(a.removeClass("bh-header-navMoreBox-mini"),o=a.data("height")),a.css({top:i.bottom+"px",left:parseInt(i.right-n,10)+"px",height:o+"px"}).data("active",!0)}),t.on("mouseout","div.bh-headerBar-nav-more",function(){B(t)}),i.on("mouseover",function(i){var a=e(this);a.data("active",!0),k(e(i.target||i.srcElement),a,t)}),i.on("mouseout",function(){B(t)}),i.on("click",function(i){var a=e(this),n=e(i.target||i.srcElement).closest("a");y(n,a,t)})}function y(e,t,i){e.length>0&&(t.children("a").removeClass("bh-active"),e.addClass("bh-active"),t.css({height:0}),i.find("div.bh-headerBar-nav-more").addClass("bh-active"),i.find("div.bh-headerBar-navigate").find("div.bh-active").removeClass("bh-active"))}function B(t){var i=e('div[bh-header-role="navMoreBox"]');i.removeData("active"),k(i.children(".bh-active"),i,t),setTimeout(function(){i.data("active")||i.css({height:0})},200)}function k(t,i,a){var n=t.length>0?t.closest("a"):[],o=i.children("div.bh-header-navMoreBox-bar"),r=a.find("div.bh-headerBar-navigate"),l=i.hasClass("bh-header-navMoreBox-mini")?24:43;if(n.length>0){if(n.hasClass("bh-hide"))o.css({top:"-"+l+"px"});else{var s=n.index();i.children("a").each(function(t,i){if(s>t){var a=e(i);a.hasClass("bh-hide")&&s--}});var d=s*l+1;o.css({top:d+"px"})}r.addClass("bh-unActive")}else r.removeClass("bh-unActive"),o.css({top:"-"+l+"px"})}function I(t,i){var a=t.closest("a").index();i.each(function(){var t=e(this),i=t.children("a").eq(a),n=i.outerWidth(),o=i.offset().left,r=t.offset().left,l=o-r;t.find(".bh-headerBar-nav-bar").css({left:l+"px",width:n+"px"})})}function T(t,i){t.on("click","[bh-header-role=roleSwitch]",function(){var t=e(this),i=t.offset(),a=t.outerWidth(),n=t.outerHeight(),o=e("[bh-header-role=roleBox]"),r=o.outerWidth(),l=i.left+a-r,s=i.top+n+8;o.css({left:l,top:s}).toggleClass("bh-active")}),e("[bh-header-role=roleBox]").on("click",".bh-headerBar-roleBox-title",function(){var a=e(this);if(!a.hasClass("bh-headerBar-roleBox-explain")){var n=e.trim(a.text()),o=a.children("a").attr("id");if(t.find("[bh-header-role=roleSwitch]").text(n),a.closest("[bh-header-role=roleBox]").removeClass("bh-active"),t.trigger("headerRoleChange",[n,a]),"undefined"!=typeof i.dropMenuCallback&&i.dropMenuCallback instanceof Function){var r={id:o,text:n,JDom:a};i.dropMenuCallback(r)}}})}function D(t,i){i.appDetail&&e.ampAppDetail.init({appId:i.appDetailData.appId,rootPath:i.appDetailData.rootPath}),t.on("click","[bh-header-role=ampSwitch]",function(){var t=e(this),i=t.offset(),a=t.outerWidth(),n=t.outerHeight(),o=e("[bh-header-role=ampBox]"),r=o.outerWidth(),l=i.left+a-r,s=i.top+n+8;o.css({left:l,top:s}).toggleClass("bh-active")}),e("[bh-header-role=ampBox]").on("click",".bh-headerBar-roleBox-title",function(){var t=e(this),a=t.attr("bh-header-role");"feedbackBox"===a?AmpFeedback.window(i.feedbackData):"appDetailBox"===a&&e.ampAppDetail.show()})}function S(t){t.on("click","[bh-header-role=bhHeaderUserInfoIcon]",function(){var t=e("[bh-header-role=bhHeaderBarInfoBox]");if(0!==t.length){var i=e(this),a=i.offset(),n=i.outerWidth(),o=i.outerHeight(),r=t.outerWidth(),l=a.left+n-r,s=a.top+o+8;t.css({left:l,top:s}).toggleClass("bh-active")}})}function P(e){var t=e.find("div[bh-theme-role=themeIcon]"),i=t.outerWidth(),a=t.outerHeight(),n=t.offset(),o=e.find(".bh-header-themelist"),r=n.top+a,l=n.left+i-150;o.css({top:r,left:l}),A(t,o)}function A(t,i){t.on("click",function(){i.toggle()}),i.on("click","li",function(){i.find(".bh-selected").removeClass("bh-selected"),e(this).addClass("bh-selected"),H({themesName:e(this).attr("title"),themesLink:e("#bhThemes")}),H({themesName:e(this).attr("title"),themesLink:e("#bhScenceThemes")}),i.hide()}),i.find("li").hover(function(){e(this).addClass("bh-active")},function(){e(this).removeClass("bh-active")})}function H(e){var t=e.themesLink,i=E(e);""!=i&&(t.removeAttr("type"),t.attr("href",i),t.attr("type","text/css"))}function E(e){var t=e.themesLink,i=t.attr("href");if(!i)return!1;var a=i.split("/"),n="";return a&&a.length>1&&(a[a.length-2]=e.themesName,n=a.join("/")),n}function j(t){var i=t.userInfo;if(!e.isEmptyObject(i)){var a=i.image,n=i.info,o=i.logoutHref?'<a class="bh-btn bh-btn-default bh-btn-small bh-btn-danger" href="'+i.logoutHref+'">退出登录</a>':"",r='<div class="bh-headerBar-userIfon bh-headerBar-popupBox-animate bh-card bh-card-lv3" bh-header-role="bhHeaderBarInfoBox"><div class="bh-headerBar-userInfo-img"><img src="@image" /></div><div class="bh-headerBar-userInfo-detail">@detail</div>@logoutHtml</div>',l="";if(n)for(var s=n.length,d=0;s>d;d++)0===d?l+='<div class="bh-headerBar-userIfon-name">'+n[d]+"</div>":n[d]&&(l+="<div>"+n[d]+"</div>");r=r.replace("@image",a).replace("@detail",l).replace("@logoutHtml",o),e("body").append(r);var h=e('div[bh-header-role="bhHeaderBarInfoBox"]').find("img");BH_UTILS.checkImageLoadComplete(h).fail(function(e,t){t.attr("src",L.defaultUserImg)})}}function N(t,i){if(t){var a=parseInt(t.activeIndex,10);if(a){a-=1;var n=L.nav[a].guid,o=i.find(".bh-headerBar-navigate");o.find(".bh-active").removeClass("bh-active");var r=e('div[bh-header-role="navMoreBox"]'),l=o.children('a[bh-header-role="nav-'+n+'"]').index();if(l>=0){var s=o.children("a").eq(l).find(".bh-headerBar-nav-item");s.addClass("bh-active"),o.data("nav-init-active-index",l).removeClass("bh-unActive"),i.find("div.bh-headerBar-nav-more").removeClass("bh-active"),I(s,o),r.find(".bh-active").removeClass("bh-active"),k([],r,i)}else{var d=r.children('a[bh-header-role="nav-'+n+'"]');r.find(".bh-active").removeClass("bh-active"),d.addClass("bh-active"),y(d,r,i),k(d,r,i)}}}}function z(t){var i=L.$dom.find("div.bh-headerBar-navigate"),a=L.$dom.find("div.bh-headerBar-nav-more");"show"===t?(i.removeClass("bh-nav-hide"),e('div[bh-header-role="navMoreBox"]').find("a").length>0&&a.show()):(i.addClass("bh-nav-hide"),a.hide())}function O(t,i){var a=t.find('header[bh-header-role="bhHeader"]'),n=a.find("img"),o=n.length;if(o>0){var r=0;n.each(function(n,l){BH_UTILS.checkImageLoadComplete(e(l)).done(function(){r++,r===o&&M(a,t,i)}).fail(function(e,n){n.closest(".bh-headerBar-imgBlock").length>0&&n.attr("src",L.defaultUserImg),r++,r===o&&M(a,t,i)})})}else M(a,t,i)}function M(t,i,a){var n=t.find("div.bh-headerBar-content"),o=null,r=0;n.children().each(function(){var t=e(this);t.hasClass("bh-headerBar-menu")?o=t:r+=t.outerWidth(!0)});var l=null,s=0;o.children().each(function(){var t=e(this);t.hasClass("bh-headerBar-navigate")?l=t:s+=t.outerWidth(!0)});var d=16,h=148,c="calc(100% - "+parseInt(r+h,10)+"px)",f="calc(100% - "+parseInt(s+d,10)+"px)";o.css({width:c}),t.find("div.bh-headerBar-navigate").css({width:f});var p=i.children('header[bh-header-role="bhHeaderMini"]');p.find("div.bh-headerBar-menu").css({width:c}),p.find("div.bh-headerBar-navigate").css({width:f}),R(i),"undefined"!=typeof a.ready&&a.ready instanceof Function&&a.ready()}function R(t){for(var i=t.children('header[bh-header-role="bhHeader"]').find("div.bh-headerBar-navigate"),a=t.children('header[bh-header-role="bhHeaderMini"]').find("div.bh-headerBar-navigate"),n=i.width(),o=0,r=i.children("a"),l=a.children("a"),s=r.length,d=0,h=!1,c="",f=0,p=s-1;p>=0;p--){var u=r[p];o+=u.offsetWidth,o>n&&(h||(d=p,h=!0),c+=u.outerHTML,r.eq(p).remove(),l.eq(p).remove(),f++)}e("body").append('<div class="bh-header-navMoreBox" bh-header-role="navMoreBox">'+c+'<div class="bh-header-navMoreBox-bar bh-animate-fast bh-animate-top"></div></div>');var v=e('div[bh-header-role="navMoreBox"]'),b=v.outerHeight(),g=24*f;v.data("height",b).data("miniHeight",g).css({height:0,display:"block"}),f>0&&(L.isNavHide||t.find("div.bh-headerBar-nav-more").show(),w(t,v));var x=v.find(".bh-active").closest("a");0===x.length?m(t):(y(x,v,t),k(x,v,t))}var F,L={nav:[],defaultUserImg:"data:image/png;base64,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"};e.fn.bhHeader=function(t,i){var a;return a=this.data("bhHeader"),a?t===!0?a:"string"===e.type(t)?a[t](i):this:this.each(function(){return e(this).data("bhHeader",new F(this,t))})},e.fn.bhHeader.defaults={openTheme:!1,showAsideNav:!1,logo:"",title:"",icons:[],img:"",isNavHide:!1,nav:[],dropMenu:[],userInfo:{},feedback:!1,feedbackData:{sourceId:"",sourceName:"",uploadImageUrl:"",submitUrl:""},appDetail:!1,appDetailData:{appId:"",rootPath:""},ready:null},F=function(){function i(i,a){this.settings=e.extend({},e.fn.bhHeader.defaults,a),L.nav=this.settings.nav,L.isNavHide=this.settings.isNavHide,this.$element=e(i),L.$dom=this.$element,t(this.settings,this.$element)}return i.prototype.resetNavActive=function(t){t=e.extend({},{activeIndex:0/0},t),N(t,this.$element)},i.prototype.showNav=function(){z("show")},i.prototype.hideNav=function(){z("hide")},i}()}(jQuery),function(e){function t(e,t){f=e.source,p=t,u=e.contentContainer,v=e.mode;var a=s(e.source);p.html(a),i(e.activeIndex),o(e)}function i(e){var t=n(e);a(t+"")}function a(e){if(null!=e){var t=p.find(".bh-menu-link-item[menuId='"+e+"']"),i=t.text(),a=t.attr("data-title"),n=p.triggerHandler("activeChange",[e,i,a,t]);if(n===!1)return!1;c&&(p.find(".bh-menu-link-item[menuId='"+c+"']").removeClass("bh-active"),u.find(".bh-menu-content[id='"+c+"']").hide()),c=e,t.addClass("bh-active"),u.find(".bh-menu-content[id='"+c+"']").show()}}function n(e){var t=null;return f&&(t=f[e].id),t}function o(){p.on("click",".bh-menu-link-item",function(){if(e(this).hasClass("bh-disabled"))return!1;if("link"==v){var t=e(this).attr("menu-data-url");window.open(t)}else{var i=e(this).attr("menuId");a(i)}})}function r(e){var t=n(e);p.find(".bh-menu-link-item[menuId='"+t+"']").addClass("bh-disabled")}function l(e){var t=n(e);p.find(".bh-menu-link-item[menuId='"+t+"']").removeClass("bh-disabled");

}function s(e){var t="";if(e){t='<div class="bh-menu-link">';for(var i=0,a=e.length;a>i;i++)t+=d(e[i]);t+="</div>"}return t}function d(e){var t="";return e&&(t='<div class="bh-menu-link-item" menuId="'+e.id+'" menu-data-url="'+e.url+'" data-title="'+e.title+'">',t+=e.title,t+="</div>"),t}var h,c,f,p,u,v;h=function(){function i(i,a){this.settings=e.extend({},e.fn.bhMenu.defaults,a),this.$element=e(i),t(this.settings,this.$element)}return i.prototype.enableItem=function(e){l(e)},i.prototype.disableItem=function(e){r(e)},i}(),e.fn.bhMenu=function(t,i){var a;return(a=this.data("bhMenu"))?t===!0?a:("string"===e.type(t)&&a[t](i),this):this.each(function(){return e(this).data("bhMenu",new h(this,t))})},e.fn.bhMenu.defaults={source:[],activeIndex:0,contentContainer:e("body"),mode:"tab"}}(jQuery),function(){function e(e){var i=e.$element,a=e.settings;switch(a.mode){case"simple":i.html(m),t(e),0==a.pagerButtonsCount&&(i.find('[pager-flag="simpleOnliOne"]').text(a.pagenum+1),a.pagenum>0&&i.find('[pager-flag="simplePrev"]').removeClass("bh-btn-disabled"));break;case"advanced":i.html(g),l(i,a)}i.find('[pager-flag="gotoPage"]').val(a.pagenum+1),h(e),i.children(".bh-pager").removeClass("bh-hide"),s(e)}function t(e){var t=e.settings,a=e.$element,n=t.pagesize,o=e.getTotal(),r=t.pagerButtonsCount,l=Math.ceil(o/n),s="",d=0,h=1==l||0==l,c=t.pagenum+1==l;0==r||1==l||0==l?(0!=l&&(d=1),s='<div class="bh-pager-simple-numHtml" pager-flag="addNumBtn"><a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn bh-simplePager-active" pager-flag="simpleOnliOne">'+d+"</a></div>",a.find('[pager-flag="pageNumEle"]').append(s),a.find('[pager-flag="simplePrev"]').addClass("bh-btn-disabled"),(h||c)&&a.find('[pager-flag="simpleNext"]').addClass("bh-btn-disabled")):(s='<div class="bh-pager-simple-numHtml" pager-flag="addNumBtn"></div>',a.find('[pager-flag="pageNumEle"]').append(s),i(t,a,l)),a.find("#bh-pager-simple-total").text(o)}function i(e,t,i){var n,o=i-e.pagerButtonsCount;o>2?(n=a(e,t,i),t.find('[pager-flag="addNumBtn"]').html(n)):r(t,i-1,i);var l=$(t.find("[pager-flag=simpleGotoPage]")),s=l.filter(function(t){return parseInt(l[t].innerText)==e.pagenum+1});s.addClass("bh-simplePager-active");var d=parseInt(s.text());1==d&&t.find("[pager-flag=simplePrev]").addClass("bh-btn-disabled"),d==i&&t.find("[pager-flag=simpleNext]").addClass("bh-btn-disabled")}function a(e,t,i){var a="",r=n(e),l=e.pagerButtonsCount,s=e.pagenum,d=i-1>l+s,h=s-1>2,c='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">1</a>',f='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+i+"</a>",p='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn ellipsis" pager-flag="changeRightEllipsis">...</a>',u='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn ellipsis" pager-flag="changeLeftEllipsis">...</a>';if(0==s||l>=s)a=c+o(t,e.pagerButtonsCount+1,i)+p+f;else{var v=o(t,e.pagerButtonsCount+1,i,r-1);h&&d?a=c+u+v+p+f:h?a=c+u+v+f:d&&(a=c+v+p+f)}return a}function n(e){var t=0,i=e.pagerButtonsCount,a=e.pagenum+1,n=a%i,o=parseInt(a/i);return 0==n?t=a-Math.floor(i/2):1==n?t=1==o?a:a-(i-1):2==n?t=a:n>2&&(t=i*o+2),t}function o(e,t,i,a){var n=0,o="";a&&(n=a);for(var r=1;t>r&&(n+=1,n!=i);r++)o+='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+n+"</a>";return o}function r(e,t,i){for(var a=0,n="",o=1;t>o;o++)a=o+1,n+='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+a+"</a>";var r='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">1</a>'+n+'<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+i+"</a>";e.find('[pager-flag="addNumBtn"]').html(r)}function l(e,t){e.find('[pager-flag="pagerOptionSel"]').jqxDropDownList({source:t.pageSizeOptions,selectedIndex:t.selectedIndex,width:"60",height:"26",dropDownHeight:"100",enableBrowserBoundsDetection:!0})}function s(e){var t=e.$element,a=e.settings,n=e.settings.mode;if(t.off("click",'[pager-flag="prev"]').on("click",'[pager-flag="prev"]',function(){var t=e.getPagenum();1>=t||(c(t-1,e),h(e),v(e,$(this)))}),t.off("click",'[pager-flag="next"]').on("click",'[pager-flag="next"]',function(){var t=e.getPagenum();t>=f(e)||(c(t+1,e),h(e),v(e,$(this)))}),t.off("keyup",'[pager-flag="gotoPage"]').on("keyup",'[pager-flag="gotoPage"]',function(t){if(13==t.keyCode){var i=e.getPagenum();if(1>i||i>f(e))return void c(1,e);c(i,e),h(e),v(e,$(this))}}),"advanced"==n&&t.off("select",'[pager-flag="pagerOptionSel"]').on("select",'[pager-flag="pagerOptionSel"]',function(t){c(0,e),h(e),v(e,$(this))}),"simple"==n){{var o=Math.ceil(e.getTotal()/a.pagesize);0!=a.pagerButtonsCount}t.off("click",'[pager-flag="changeRightEllipsis"]').on("click",'[pager-flag="changeRightEllipsis"]',function(){t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var n=t.find('[pager-flag="changeRightEllipsis"]').prev();a.pagenum=parseInt(n.text()),i(a,t,o),v(e,$('[pager-flag="changeRightEllipsis"]',t))}),t.off("click",'[pager-flag="changeLeftEllipsis"]').on("click",'[pager-flag="changeLeftEllipsis"]',function(){var n=t.find('[pager-flag="changeLeftEllipsis"]').next(),r=parseInt(n.text());a.pagenum=r-a.pagerButtonsCount,i(a,t,o),t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var l=t.find("[pager-flag=simpleGotoPage]")[a.pagerButtonsCount];$(l).addClass("bh-simplePager-active"),v(e,$('[pager-flag="changeLeftEllipsis"]',t))}),t.off("click",'[pager-flag="simplePrev"]').on("click",'[pager-flag="simplePrev"]',function(){var i=t.find('[pager-flag="simpleNext"]').hasClass("bh-btn-disabled"),n=t.find('[pager-flag="simplePrev"]').hasClass("bh-btn-disabled");n||(i&&t.find('[pager-flag="simpleNext"]').removeClass("bh-btn-disabled"),p(a,t,o),v(e,$(this)))}),t.off("click",'[pager-flag="simpleNext"]').on("click",'[pager-flag="simpleNext"]',function(){var i=t.find('[pager-flag="simpleNext"]').hasClass("bh-btn-disabled"),n=t.find('[pager-flag="simplePrev"]').hasClass("bh-btn-disabled");i||(n&&t.find('[pager-flag="simplePrev"]').removeClass("bh-btn-disabled"),u(a,t,o),v(e,$(this)))}),t.off("click",'a[pager-flag="simpleGotoPage"]').on("click",'a[pager-flag="simpleGotoPage"]',function(){var n=$(this),r=parseInt(n.text());a.pagenum=r-1,i(a,t,o);var l=t.find('a[pager-flag="simpleGotoPage"]').filter(function(){return $(this).text()==r});v(e,l)})}}function d(e){var t=1,i=1,a=e.getPagenum(),n=e.getTotal(),o=e.getPagesize();return i=n>a*o?a*o:n,t=o*(a-1)+1,0==n&&(t=0,i=0),t+"-"+i}function h(e){var t=d(e);e.$element.find('[pager-flag="pageInfo"]').html(t+" 总记录数 "+e.settings.totalSize)}function c(e,t){(isNaN(e)||1>e)&&(e=1);var i=f(t);e>i&&(e=i),t.$element.find('[pager-flag="gotoPage"]').val(e)}function f(e){var t=e.getTotal(),i=e.getPagesize();return Math.ceil(t/i)}function p(e,t,a){if(0==e.pagerButtonsCount){var n=parseInt(t.find('[pager-flag="simpleOnliOne"]')[0].innerText)-1;t.find('[pager-flag="simpleOnliOne"]').text(n),1==n&&t.find('[pager-flag="simplePrev"]').addClass("bh-btn-disabled")}else{var o=t.find(".bh-simplePager-active");e.pagenum=o.prev().prev().hasClass("ellipsis")?parseInt(o.text())-Math.floor(e.pagerButtonsCount/2):parseInt(o.text())-e.pagerButtonsCount+1,i(e,t,a),t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var r=t.find("[pager-flag=simpleGotoPage]"),l=r.filter(function(e){return parseInt(r[e].innerText)==parseInt(o.text())-1});l.addClass("bh-simplePager-active"),1==parseInt(l.text())&&t.find("[pager-flag=simplePrev]").addClass("bh-btn-disabled")}}function u(e,t,a){if(0==e.pagerButtonsCount){var n=parseInt(t.find('[pager-flag="simpleOnliOne"]')[0].innerText)+1;t.find('[pager-flag="simpleOnliOne"]').text(n),n==a&&t.find('[pager-flag="simpleNext"]').addClass("bh-btn-disabled")}else{var o=t.find(".bh-simplePager-active").text();e.pagenum=parseInt(o),i(e,t,a)}}function v(e,t){var i=e.getPagenum()-1,a=e.getPagesize(),n=e.getTotal();t.trigger("pagersearch",[i,a,n])}var b,g='<div class="bh-pager bh-hide"><div class="bh-pull-left"><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="prev"><i class="iconfont icon-keyboardarrowleft bh-pager-left-arrow"></i></a><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="next"><i class="iconfont icon-keyboardarrowright bh-pager-right-arrow"></i></a><span class="bh-pager-num" pager-flag="pageInfo"></span><label class="bh-pager-label">跳转至</label><input type="text" class="bh-form-control bh-pager-input" pager-flag="gotoPage"/><span>页</span></div><div class="bh-pull-right"><div pager-flag="pagerOptionSel" class="bh-pull-right"></div><label class="bh-pull-right bh-pager-label bh-pager-right-text">每页显示</label></div></div>',m='<div class="bh-pager bh-hide"><div class="bh-pull-left"><a href="javascript:void(0);" class="waves-effect bh-pager-simplePrev bh-pager-btn" pager-flag="simplePrev"><i class="iconfont icon-keyboardarrowleft"></i></a><div class="bh-pageNum-con" pager-flag="pageNumEle"></div><a href="javascript:void(0);" class="waves-effect bh-pager-simpleNext bh-pager-btn" pager-flag="simpleNext"><i class="iconfont icon-keyboardarrowright"></i></a></div><div class="bh-pull-right"><label class="bh-pull-right bh-pager-label bh-mh-16">共<span id="bh-pager-simple-total"></span>条</label></div></div>';$.fn.pagination=function(e,t){var i=new b(this,e);return e===!0?i:this},$.fn.pagination.defaults={mode:"advanced",pagesize:10,pageSizeOptions:[10,20,50,100],selectedIndex:0,pagenum:0,totalSize:0,pagerButtonsCount:0},b=function(){function t(t,i){this.settings=$.extend({},$.fn.pagination.defaults,i);for(var a=i.pagesize,n=this.settings.pageSizeOptions,o=0;o<n.length;o++)n[o]==a&&(this.settings.selectedIndex=o);this.$element=$(t),e(this)}return t}(),b.prototype.getPagenum=function(){return"advanced"==this.settings.mode?parseInt(this.$element.find('[pager-flag="gotoPage"]').val()):"simple"==this.settings.mode?parseInt(0==this.pageSizeOptions?this.$element.find('[pager-flag="simpleOnliOne"]')[0].innerText:this.$element.find(".bh-simplePager-active").text()):void 0},b.prototype.getPagesize=function(){return"advanced"==this.settings.mode?this.$element.find('[pager-flag="pagerOptionSel"]').jqxDropDownList("val"):"simple"==this.settings.mode?this.settings.pagesize:void 0},b.prototype.getTotal=function(){return this.settings.totalSize}}.call(void 0),function(e){function t(t){var n=e("body");n.scrollTop(0);var l="",d=p();t=a(t,d),d.length>0&&(d.find(".bh-paper-pile-closeIcon").hide(),d.find(".bh-paper-pile-dialog-container").addClass("bh-bg-transparent")),setTimeout(function(){if(d.length>0)d.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").hide();else{var t="",i=o();t=i?i:e("[bh-container-role=container]"),t&&t.length>0&&t.addClass("bh-border-transparent").addClass("bh-bg-transparent")}},b()),t.titleContainer.addClass("bh-animated-doubleTime").removeClass("bh-paper-pile-dialog-parentTitle-toRestore").addClass("bh-paper-pile-dialog-parentTitle-toSmall"),setTimeout(function(){t.titleContainer.addClass("bh-paper-pile-dialog-parentTitle-change")},2*b()*.8);var h=t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid");if(h)l=e("div[bh-paper-pile-dialog-role-guid="+h+"]"),l.removeClass("bh-negative-zIndex").show(),l.find("div.bh-paper-pile-dialog-container").removeClass("bh-paper-pile-dialog-outDown").addClass("bh-paper-pile-dialog-intoUp"),setTimeout(function(){"undefined"!=typeof t.open&&t.open instanceof Function&&t.open()},2*b()),"undefined"!=typeof t.openBefore&&t.openBefore instanceof Function&&t.openBefore();else{var c=S(),f=x();t=r(t);var u=t.footer?t.footer:"",v=t.layoutRole?t.layoutRole:"",g=t.layoutClass?t.layoutClass:"",m=t.referenceContainer.outerWidth(),w=t.titleContainer.offset(),B=w.top,k=t.referenceContainer.offset().left,I=B+32,D="";D+="left:"+k+"px;",D+="top:"+I+"px;",D+="width:"+m+"px;";var P=s();D+="height:-moz-calc(100% - "+parseInt(I+P.footerHeight)+"px);",D+="height:-webkit-calc(100% - "+parseInt(I+P.footerHeight)+"px);",D+="height:calc(100% - "+parseInt(I+P.footerHeight)+"px);";var A=t.title?68:0,H=P.windowHeight-P.footerHeight-I-A;f=f.replace("@title",t.title).replace("@footer",u).replace("@content",t.content).replace("@guid",c).replace("@style",D).replace("@bodyStyle","min-height:"+H+"px").replace(/@layoutRole/g,v).replace("@layoutClass",g),l=e(f),0===t.insertContainer.length&&(t.insertContainer=n),t.title||(l.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]").hide(),t.layoutRole&&-1!==t.layoutRole.indexOf("navLeft")||l.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").css("margin-top","24px")),t.hideCloseIcon&&l.find("[bh-paper-pile-dialog-role=bhPaperPileDialogCloseIcon]").hide(),l.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").before(t.aside?t.aside:'<aside bh-paper-pile-dialog-role="aside"></aside>'),t.insertContainer.append(l);var E=1,j=n.data("bh-paper-pile-dialog");if(j?(E=j.length+1,j.push({guid:c,index:E})):j=[{guid:c,index:E}],n.data("bh-paper-pile-dialog",j),l.attr("bh-paper-pile-dialog-role-index",E),t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid",c),t.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid",c),t.toHideContainer){var N=t.toHideContainer.length;if(N>1)for(var z=0;N>z;z++)t.toHideContainer[z].attr("bh-paper-pile-dialog-role-hide-container-guid",c);else t.toHideContainer.attr("bh-paper-pile-dialog-role-hide-container-guid",c)}if(t.addDialogFlagClass&&l.addClass(t.addDialogFlagClass),t.footer){var O=l.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").outerHeight(),M=e("[bh-footer-role=footer]").outerHeight(),R=O+M;l.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").css({"padding-bottom":R})}if(l.data("closeFun",t.close),l.data("closeBeforeFun",t.closeBefore),setTimeout(function(){if(T(l,t),"undefined"!=typeof t.ready&&t.ready instanceof Function){var a=i(l);t.ready(a.dialogHeader,a.dialogSection,a.dialogFooter,a.dialogAside)}e.bhPaperPileDialog.resetPageFooter(),e.bhPaperPileDialog.resetDialogFooter()},2*b()+10),"undefined"!=typeof t.render&&t.render instanceof Function){var F=i(l);t.render(F.dialogHeader,F.dialogSection,F.dialogFooter,F.dialogAside)}}if(t.toHideContainer){var N=t.toHideContainer.length;if(N>1)for(var z=0;N>z;z++)t.toHideContainer[z].hide();else t.toHideContainer.hide()}setTimeout(function(){C(l,t),l.find("div.bh-paper-pile-dialog-container").removeClass("bh-paper-pile-dialog-intoUp"),y(l),BH_UTILS&&BH_UTILS.wavesInit()},2*b())}function i(e){var t=e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"),i=e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),a=i.children("section"),n=e.find("[bh-paper-pile-dialog-role=aside]"),o=e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").children("footer");return{dialogHeader:t,dialogSection:a,dialogFooter:o,dialogAside:n}}function a(e,t){if(t)e=n(e,t,!0);else{var i=o();i&&i.length>0&&(e=n(e,i,!1))}return e}function n(e,t,i){if(t&&t.length>0&&(e.titleContainer||(e.titleContainer=i?t.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"):t.children(t.children("h2").length>0?"h2":"hgroup")),e.referenceContainer||(e.referenceContainer=i?t.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"):t),!e.toHideContainer))if(i){var a=e.referenceContainer.closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]");e.toHideContainer=a.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]")}else{var n=t.attr("bh-layout-role");e.toHideContainer="navLeft"===n?[t.children("section"),t.children("nav")]:t.children("section")}return e}function o(){var t=null,i=e("body");if(i.children("main").length>0){var a=i.children("main").children("article");a.length>0&&(t=a)}return t}function r(t){var i=t.content,a=e(i),n=a.children("h2"),o=a.children("footer"),r=!1;if("article"===a[0].localName&&a.children("section").length>0&&(r=!0),t.title?(t.title='<h2 class="bh-paper-pile-dialog-headerTitle" bh-paper-pile-dialog-role="bhPaperPileDialogHeader">'+t.title+"</h2>",r&&n.remove()):n.length>0&&(n.addClass("bh-paper-pile-dialog-headerTitle").attr("bh-paper-pile-dialog-role","bhPaperPileDialogHeader"),t.title=n[0].outerHTML,n.remove()),t.footer?(t.footer='<footer class="bh-clearfix">'+t.footer+"</footer>",r&&o.remove()):o.length>0&&(o.addClass("bh-clearfix"),t.footer=o[0].outerHTML,o.remove()),r){var l=a.children("aside");l.length>0&&(t.aside=l[0].outerHTML,l.remove()),t.layoutRole=a.attr("bh-layout-role"),t.layoutClass=a.attr("class"),t.content=a[0].innerHTML}else if(t.content="<section>"+t.content+"</section>",r){var l=a.children("aside");l.length>0&&(l.attr("bh-paper-pile-dialog-role","aside"),t.aside=l[0].outerHTML,l.remove())}return t}function l(e){var t=s(),i=e.offset().top,a=t.windowHeight-t.footerHeight-i;e.css("min-height",a+"px")}function s(){var t=e(window).height(),i=e("[bh-footer-role=footer]").outerHeight(),a=e("[bh-header-role=bhHeader]").outerHeight();return{windowHeight:t,footerHeight:i,headerHeight:a}}function d(t){var i="",a="",n="",o="";if(t.titleContainer?(a=t.titleContainer,o=a.attr("bh-paper-pile-dialog-role-title-guid")):t.referenceContainer?(n=t.titleContainer,o=n.attr("bh-paper-pile-dialog-role-container-guid")):t.guid&&(o=t.guid),!o){var r=p();i=r?r:e("div[bh-paper-pile-dialog-role=bhPaperPileDialog]"),o=i.attr("bh-paper-pile-dialog-role-guid")}if(i||(i=e("div[bh-paper-pile-dialog-role-guid="+o+"]")),i.length>0){if("true"===i.attr("hide-flag"))return;i.attr("hide-flag","true");var l=i.attr("bh-paper-pile-dialog-role-index");l=parseInt(l,10);var s=e("body").data("bh-paper-pile-dialog"),d=s.length;if(t.isHideAll&&(l=1),d>l)for(var f=d;f>=l;f--){var u=s[f-1];if(u){t=h(t,u);var v=u.guid;o=v,c(v,t)}}else t=h(t,i),c(o,t)}t.toShowContainer?t.toShowContainer.show():e("body").find("[bh-paper-pile-dialog-role-hide-container-guid="+o+"]").show(),i.length>0&&setTimeout(function(){e.bhPaperPileDialog.resetPageFooter(),e.bhPaperPileDialog.resetDialogFooter()},1e3)}function h(e,t){return e.ignoreAllCallback||(e.ignoreCloseCallback||(e.close=t.data?t.data("closeFun"):null),e.ignoreCloseBeforeCallback||(e.closeBefore=t.data?t.data("closeBeforeFun"):null)),e}function c(t,i){if(i.guid=t,i.closeBefore&&i.closeBefore instanceof Function){var a=i.closeBefore();a?f(t,i):e("[bh-paper-pile-dialog-role-guid="+t+"]").attr("hide-flag","false")}else f(t,i)}function f(t,a){var n=e("[bh-paper-pile-dialog-role-guid="+t+"]"),r=e("[bh-paper-pile-dialog-role-title-guid="+t+"]"),l=n.find("div.bh-paper-pile-dialog-container");n.find('div[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]').remove(),l.removeClass("bh-paper-pile-dialog-intoUp").addClass("bh-paper-pile-dialog-outDown"),r.removeClass("bh-paper-pile-dialog-parentTitle-toSmall").removeClass("bh-paper-pile-dialog-parentTitle-change").addClass("bh-paper-pile-dialog-parentTitle-toRestore");var s=r.closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]");setTimeout(function(){if(s.length>0)s.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").show();else{var t=o(),i="";i=t?t:e("[bh-container-role=container]"),i&&i.length>0&&i.removeClass("bh-border-transparent").removeClass("bh-bg-transparent")}l.removeClass("bh-bg-transparent"),v({titleContainer:"",referenceContainer:"",dialogContainer:"",guid:""}),D({titleContainer:"",referenceContainer:""})},b()),setTimeout(function(){if(s.length>0&&s.find(".bh-paper-pile-closeIcon").show(),n.addClass("bh-negative-zIndex").hide(),u(),a.close&&a.close instanceof Function){var e=i(n);a.close(e.dialogHeader,e.dialogSection,e.dialogFooter,e.dialogAside)}(a&&a.destroy||a&&a.autoDestroy)&&g(a)},2*b())}function p(){var t="",i=0,a=e("body").find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");return a.length>0&&a.each(function(){var a=e(this),n=parseInt(a.attr("bh-paper-pile-dialog-role-index"),10);n>i&&(t=a)}),t}function u(){var t=e("[bh-footer-role=footer]"),i=t.attr("bh-footer-role-normal-style");t.attr("style",i)}function v(t){e("[bh-footer-role=footer]").css("top",0);var i="";t.titleContainer?i=t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid"):t.referenceContainer?i=t.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid"):t.guid&&(i=t.guid);var a="";if(a=i?e("[bh-paper-pile-dialog-role-guid="+i+"]"):t.dialogContainer?t.dialogContainer:p()){var n=w(a);B(n)}}function b(){return 450}function g(t){var i=H(t);if(i)m(i);else{var a=e("body").find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");a.each(function(){var t=e(this).attr("bh-paper-pile-dialog-role-guid");m(t)})}}function m(t){var i=e("div[bh-paper-pile-dialog-role-guid="+t+"]");if(0!==i.length){var a=i.attr("bh-paper-pile-dialog-role-index");a=parseInt(a,10),e("[bh-paper-pile-dialog-role-title-guid="+t+"]").removeAttr("bh-paper-pile-dialog-role-title-guid").off("click"),e("[bh-paper-pile-dialog-role-container-guid="+t+"]").removeAttr("bh-paper-pile-dialog-role-container-guid"),i.remove();var n=e("body").data("bh-paper-pile-dialog"),o=n.length;if(1===o)e("body").removeData("bh-paper-pile-dialog");else{for(var r=[],l=0;o>l;l++){var s=n[l],d=s.index;d!=a&&(d>a?(s.index=d-1,r.push(s)):r.push(s))}e("body").data("bh-paper-pile-dialog",r)}}}function x(){var e='<div class="bh-paper-pile-dialog @layoutRole" style="@style" bh-paper-pile-dialog-role="bhPaperPileDialog" bh-paper-pile-dialog-role-guid="@guid"><div class="bh-paper-pile-dialog-container bh-animated-doubleTime bh-paper-pile-dialog-intoUp"><i class="iconfont icon-close bh-pull-right bh-paper-pile-closeIcon" bh-paper-pile-dialog-role="bhPaperPileDialogCloseIcon"></i>@title<div class="bh-paper-pile-body bh-card bh-card-lv1 @layoutClass" bh-paper-pile-dialog-role="bhPaperPileDialogBody" bh-layout-role="@layoutRole" style="@bodyStyle">@content</div><div class="bh-paper-pile-dialog-footer bh-border-v" bh-paper-pile-dialog-role="bhPaperPileDialogFooter">@footer</div></div></div>';return e}function C(e,t,i){var a="";if(t.footer){var n=e.outerWidth(),o=e.offset().left;a="left:"+o+"px;width:"+n+"px;position:fixed;bottom:0;top:auto;display:block;","get"!==i&&e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").css({left:o+"px",width:n+"px",position:"fixed",bottom:"0",top:"auto",display:"block"}).removeClass("bh-paper-pile-dialog-footer-relative")}return a}function w(t){{var i={},a=e(window),n=e("body"),o=a.scrollTop(),r=a.height(),l=0;window.navigator.userAgent}l=window.ActiveXObject||"ActiveXObject"in window?document.documentElement.scrollHeight:n.get(0).scrollHeight;var s=e("[bh-footer-role=footer]").outerHeight();if(t){var d=t.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),h=d.outerHeight(!0),c=t.outerHeight(),f=t.offset(),p=d.offset(),u=0,v=t.find('div[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]');v.length>0&&(u=v.outerHeight(!0)),i.dialogBodyHeight=h,i.dialogBodyOffset=p,i.dialogOffset=f,i.dialogHeight=c,i.dialogFooterHeight=u}return i.windowHeight=r,i.scrollTop=o,i.bodyHeight=l,i.footerHeight=s,i}function y(t){e("[bh-footer-role=footer]").css({top:0,"z-index":-1});var i=w(t),a=t.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]"),n=C(t,{footer:!0},"get");a.attr("bh-paper-pile-dialog-role-footer-fixed",n),B(i);var o=i.bodyHeight-i.footerHeight,r=i.dialogBodyHeight+i.dialogOffset.top;r<i.windowHeight&&(o>r?I(a,"low"):I(a))}function B(t){var i=e("[bh-footer-role=footer]");if(!i.attr("bh-footer-role-normal-style")){var a=i.attr("style");a||(a=" "),i.attr("bh-footer-role-normal-style",a)}var n=t.bodyHeight;n=t.dialogBodyHeight+t.dialogBodyOffset.top>t.windowHeight?t.dialogOffset.top+t.dialogBodyHeight:t.windowHeight-t.footerHeight;var o=e("header[bh-header-role=bhHeader]").find("div.bh-headerBar-content").offset().left;i.css({top:n,left:o,width:"100%",position:"absolute","z-index":"9999"})}function k(e){var t=w(e),i=e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]");if(t.windowHeight+t.scrollTop+t.footerHeight>=t.bodyHeight)I(i,"low");else{var a=i.attr("bh-paper-pile-dialog-role-footer-fixed");i.attr("style",a)}}function I(t,i){if(0!==t.contents().length){var a=e("[bh-footer-role=footer]").outerHeight(),n=t.closest('div[bh-paper-pile-dialog-role="bhPaperPileDialog"]'),o=n.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),r=n.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"),l=t.outerHeight(),s=l+a;"low"===i&&(s=l);var d=0,h="";o.children().each(function(){var t=e(this);if("nav"===t[0].localName&&(h="navLeft"),"navLeft"===h){var i=0;t.children().each(function(){i+=e(this).outerHeight()}),i>d&&(d=i)}else{var a=t.outerHeight();d+=a}});var c=parseInt(o.css("min-height"),10);if(c=c?c:0,c>d+l){t.removeAttr("style");var f=r.length>0?r.outerHeight():0;d+=f,d+=24,t.css({top:d+"px",bottom:"auto"}).addClass("bh-paper-pile-dialog-footer-relative")}else t.css("absolute"!==t.css("position")?{left:0,bottom:s+"px",position:"relative"}:{top:"auto",bottom:"0"});t.show()}}function T(t,i){t.on("click","i[bh-paper-pile-dialog-role=bhPaperPileDialogCloseIcon]",function(){var t=e(this).closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]").attr("bh-paper-pile-dialog-role-guid");i.guid=t,d(i)}),i.hideCloseIcon?i.titleContainer.css({cursor:"default"}):i.titleContainer.on("click",function(){var t=e(this).attr("bh-paper-pile-dialog-role-title-guid");i.guid=t,d(i)}),i.footer&&e(window).scroll(function(e){k(t)})}function D(t){var i=H(t);i&&setTimeout(function(){var t=e("div[bh-paper-pile-dialog-role-guid="+i+"]");if(t.find('[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]').html()){var a=w(t),n=a.dialogBodyHeight+a.dialogOffset.top;n<a.windowHeight?y(t):C(t,{footer:!0})}},50)}function S(){return P()+P()+"-"+P()+"-"+P()+"-"+P()+"-"+P()+P()+P()}function P(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function A(t){var i=H(t);if(i){var a=e("div[bh-paper-pile-dialog-role-guid="+i+"]"),n=a.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]");l(n)}}function H(e){var t="";if(e.titleContainer)t=e.titleContainer.attr("bh-paper-pile-dialog-role-title-guid");else if(e.referenceContainer)t=e.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid");else if(e.guid)t=e.guid;else{var i=p();i.length>0&&(t=i.attr("bh-paper-pile-dialog-role-guid"))}return t}e.bhPaperPileDialog={show:function(i){var a={titleContainer:"",insertContainer:e("#levityPlaceholder"),referenceContainer:"",addDialogFlagClass:"",toHideContainer:"",hideCloseIcon:!1,title:"",content:"",footer:"",aside:"",close:null,autoDestroy:!0,closeBefore:null,open:null,openBefore:null,ready:null,render:null};i=e.extend({},a,i),t(i)},resetPageFooter:function(t){var i={titleContainer:"",referenceContainer:"",dialogContainer:"",guid:""};t=e.extend({},i,t),v(t)},resetMinHeight:function(t){var i={titleContainer:"",referenceContainer:"",guid:""};t=e.extend({},i,t),A(t)},resetDialogFooter:function(t){var i={titleContainer:"",referenceContainer:""};t=e.extend({},i,t),D(t)},hide:function(t){var i={titleContainer:"",referenceContainer:"",guid:"",isHideAll:!1,ignoreAllCallback:!1,ignoreCloseCallback:!1,ignoreCloseBeforeCallback:!1,destroy:!0};t=e.extend({},i,t),d(t)},destroy:function(t){var i={titleContainer:"",referenceContainer:"",guid:""};t=e.extend({},i,t),g(t)}}}(jQuery),function(e){function t(){var t=i(),n=e(t);r.dom.append(n),r.options.readonly||a(n)}function i(){var e=parseInt(r.options.score,10),t="";r.options.size&&(t="font-size: "+r.options.size+"px");for(var i='<i class="iconfont icon-star" style="'+t+'"></i><i class="iconfont icon-staroutline" style="'+t+'"></i>',a="",n=0;5>n;n++)a+=e>=n+1?'<div class="bh-star-item bh-active">'+i+"</div>":'<div class="bh-star-item">'+i+"</div>";a='<div class="bh-star-list '+r.options.starClass+'">'+a+"</div>";var o="";return r.options.isShowNum&&(o='<div class="bh-star-num '+r.options.textClass+'"><span bh-star-role="number">'+e+"</span><span>"+r.options.text+"</span></div>"),'<div class="bh-star" bh-star-role="bhStar">'+a+o+"</div>"}function a(t){t.on("click",".bh-star-item",function(){var i=e(this).index()+1;r.options.score=i,n(t,i)}),t.on("mouseover",".bh-star-item",function(){var i=e(this).index()+1;n(t,i)}),t.on("mouseout",".bh-star-list",function(){var e=parseInt(r.options.score,10);n(t,e)})}function n(t,i){t.find("div.bh-star-item").each(function(t){i>t?e(this).addClass("bh-active"):e(this).removeClass("bh-active")}),r.options.isShowNum&&t.find('span[bh-star-role="number"]').html(i)}var o,r={options:null,dom:null};o=function(){function i(i,a){this.settings=e.extend({},e.fn.bhStar.defaults,a),r.options=this.settings,this.$element=e(i),r.dom=this.$element,t()}return i.prototype.getScore=function(){return r.options.score},i}(),e.fn.bhStar=function(t,i){var a;return a=this.data("bhStar"),a?t===!0?a:"string"===e.type(t)?a[t](i):this:this.each(function(){return e(this).data("bhStar",new o(this,t))})},e.fn.bhStar.defaults={score:0,size:0,isShowNum:!0,text:"分",textClass:"",starClass:"",readonly:!1}}(jQuery),function(e){function t(t,n){var o=n.html(),r=a(t);n.html(r);var l=e(".bh-collapsible-panel-content",n);l.append(o),n.show(),l.data("height",l.outerHeight()),l.css("height",0).hide(),i(n,t)}function i(t,i){t.on("click",".bh-collapsible-panel",function(t){t=t||window.event;var a=t.target||t.srcElement;if("switch"==e(a).attr("bh-collapsible-panel-flag"))"expand"==e(a).attr("bh-collapsible-panel-role")?o(e(a),i):n(e(a),i);else if(e(a).hasClass("bh-collapsible-panel")){var r=e(this).find('[bh-collapsible-panel-flag="switch"]');"expand"==r.attr("bh-collapsible-panel-role")&&o(r,i)}else if(0==e(a).closest(".bh-collapsible-panel-toolbar").length){var l=e(a).closest(".bh-collapsible-panel"),r=l.find('[bh-collapsible-panel-flag="switch"]');"expand"==r.attr("bh-collapsible-panel-role")&&o(r,i)}})}function a(e){var t="bh-collapsible-panel";e.hasBorder&&(t+=" has-border");var i='<div class="'+t+'"><h3 class="bh-collapsible-panel-title">'+e.title+"</h3>"+e.tag+'<div class="bh-text-caption bh-caption-default">'+e.caption+'</div><div class="bh-collapsible-panel-toolbar">'+e.toolbar+'<a href="javascript:void(0);" class="bh-btn-link" bh-collapsible-panel-flag="switch" bh-collapsible-panel-role="expand">展开</a></div><div class="bh-collapsible-panel-content bh-collapsible-panel-animate"></div></div>';return i}function n(t,i){i&&i.beforeCollapse&&i.beforeCollapse(t);var a=e(t).closest(".bh-collapsible-panel").find(".bh-collapsible-panel-content");a.css({height:0});var n=a.parent();setTimeout(function(){a.hide(),n.removeClass("bh-card bh-card-lv2")},r());var o=n.find("[bh-collapsible-panel-flag='switch']");o.text("展开"),o.attr("bh-collapsible-panel-role","expand"),i&&i.afterCollapse&&setTimeout(function(){i.afterCollapse(t)},r())}function o(t,i){i&&i.beforeExpand&&i.beforeExpand(t);var a=e(t).closest(".bh-collapsible-panel").find(".bh-collapsible-panel-content"),n=a.parent();n.addClass("bh-card bh-card-lv2");var o=a.data("height");a.show(),setTimeout(function(){a.css({height:o})},1),e(t).text("收起"),e(t).attr("bh-collapsible-panel-role","collapse"),i&&i.afterExpand&&setTimeout(function(){i.afterExpand(t)},r())}function r(){return 450}var l;l=function(){function i(i,a){this.settings=e.extend({},e.fn.bhCollapsiblePanel.defaults,a),this.$element=e(i),t(this.settings,this.$element)}return i.prototype.expandPanel=function(){var e=this.$element.find('[bh-collapsible-panel-flag="switch"]');o(e,this.settings)},i.prototype.collapsePanel=function(){var e=this.$element.find('[bh-collapsible-panel-flag="switch"]');n(e,this.settings)},i}(),e.fn.bhCollapsiblePanel=function(t,i){var a;return(a=this.data("bhCollapsiblePanel"))?t===!0?a:("string"===e.type(t)&&a[t](i),this):this.each(function(){return e(this).data("bhCollapsiblePanel",new l(this,t))})},e.fn.bhCollapsiblePanel.defaults={title:"",tag:"",caption:"",toolbar:"",hasBorder:!0,beforeExpand:null,afterExpand:null,beforeCollapse:null,
afterCollapse:null}}(jQuery),function(e){function t(){return 450}function i(i){if(i.insertContainer&&0===i.insertContainer.length)return void("undefined"!=typeof window.console&&window.console.error("insertContainer 要插入的容器不存在"));var r=e("div[bh-property-dialog-role=bhPropertyDialog]");if(i=p(i),i=a(i),0===r.length){var l=o(),s="";i.footer&&(s="default"===i.footer?n():i.footer),l=l.replace("@title",i.title).replace("@content",i.content).replace("@footer",i.footer),r=e(l),s||r.find("[bh-property-dialog-role=footer]").hide(),i.insertContainer.append(r),d(),c(r,i),setTimeout(function(){if("undefined"!=typeof i.ready&&i.ready instanceof Function){var e=r.find("[bh-property-dialog-role=header]").children(),t=r.find("[bh-property-dialog-role=body]").children(),a=r.find("[bh-property-dialog-role=footer]").children();i.ready(e,t,a)}BH_UTILS&&BH_UTILS.wavesInit(),r.find("[bh-property-dialog-role=body]").niceScroll({zindex:99999,horizrailenabled:!1})},t())}else setTimeout(function(){"undefined"!=typeof i.open&&i.open instanceof Function&&i.open()},t());i.hideCover||r.find(".bh-property-dialog-cover").show().removeClass("bh-property-dialog-cover-fadeOut").addClass("bh-property-dialog-cover-fadeIn"),u(r,i),r.show(),r.find("div.bh-property-dialog-container").removeClass("bh-outRight").addClass("bh-intoRight"),setTimeout(function(){e("body").addClass("sc-overflow-hide").getNiceScroll().remove()},t()+50)}function a(t){var i=null;if(t.content){var a=e(t.content)[0];a&&"section"!==a.localName&&(i=e("<section>"+t.content+"</section>"))}else{var o=t.insertContainer;o&&o[0]&&"aside"===o[0].localName&&(i=e(t.selector?"<div>"+o.find(t.selector).html()+"</div>":"<div>"+o.find("script").html()+"</div>"))}if(t.title){var r=e("<h3>"+t.title+"</h3>"),l=r.children();0===l.length||l.length>1?t.title=r[0].outerHTML:1===l.length&&"h3"!==l[0].localName&&(t.title=r[0].outerHTML)}else{var s=i.children("h3");s.length>0&&(t.title=s[0].outerHTML)}var d=i.children("section");if(d.length>0&&(t.content=d[0].outerHTML),t.footer)"default"===t.footer&&(t.footer=n());else{var h=i.children("footer");h.length>0&&(t.footer=h.children().length>0?h[0].outerHTML:n())}return t}function n(){var e='<footer><a class="bh-btn bh-btn-primary bh-btn-large" bh-property-dialog-role="okBtn">确定</a><a class="bh-btn bh-btn-default bh-btn-large" bh-property-dialog-role="cancelBtn">取消</a></footer>';return e}function o(){var e='<div class="bh-property-dialog" bh-property-dialog-role="bhPropertyDialog"><div class="bh-property-dialog-container bh-animated bh-outRight bh-card bh-card-lv2"><i class="iconfont icon-close bh-pull-right bh-cursor-point" bh-property-dialog-role="closeIcon"></i><div class="bh-mb-16" bh-property-dialog-role="header">@title</div><div bh-property-dialog-role="body">@content</div><div class="bh-property-dialog-footer bh-animated bh-outDown" bh-property-dialog-role="footer">@footer</div></div><div class="bh-property-dialog-cover bh-animated bh-property-dialog-cover-fadeIn"></div></div>';return e}function r(i){if("undefined"!=typeof i.close&&i.close instanceof Function){var a=i.close();if("boolean"==typeof a&&!a)return}var n=e("div[bh-property-dialog-role=bhPropertyDialog]");n.length>0&&(n.find("div.bh-property-dialog-container").removeClass("bh-intoRight").addClass("bh-outRight"),n.find("div.bh-property-dialog-cover").removeClass("bh-property-dialog-cover-fadeIn").addClass("bh-property-dialog-cover-fadeOut"),setTimeout(function(){n.hide(),n.find("div.bh-property-dialog-footer").hide().removeClass("bh-intoUp").addClass("bh-outDown"),(i.destroy||i.autoDestroy)&&n.remove(),setTimeout(function(){e("body").removeClass("sc-overflow-hide").niceScroll({zindex:99999,horizrailenabled:!1})},50)},t()))}function l(){e("div[bh-property-dialog-role=bhPropertyDialog]").find("div.bh-property-dialog-footer").removeClass("bh-intoUp").addClass("bh-outDown"),d()}function s(){var t=e("div[bh-property-dialog-role=bhPropertyDialog]").find("div.bh-property-dialog-footer");t.removeClass("bh-outDown").addClass("bh-intoUp").show(),d(!0)}function d(i){var a="100% - 56px";i&&(a="100% - 56px - 52px"),e("div[bh-property-dialog-role=bhPropertyDialog]").find("[bh-property-dialog-role=body]").attr("style","height: -moz-calc("+a+");height: -webkit-calc("+a+");height: calc("+a+");overflow: hidden;"),setTimeout(function(){e("body").addClass("sc-overflow-hide").getNiceScroll().remove()},t()+50)}function h(){var t=e("div[bh-property-dialog-role=bhPropertyDialog]");t.length>0&&(f(t),t.remove())}function c(t,i){t.on("click","i[bh-property-dialog-role=closeIcon]",function(){i.close=i.hide,e.bhPropertyDialog.hide(i)}),t.on("click","[bh-property-dialog-role=okBtn]",function(){i.close=i.ok,e.bhPropertyDialog.hide(i)}),t.on("click","[bh-property-dialog-role=cancelBtn]",function(){i.close=i.cancel,e.bhPropertyDialog.hide(i)})}function f(e){e.off("click")}function p(t){var i=e("body");if(!t.insertContainer){var a=i.find("[bh-paper-pile-dialog-role=bhPaperPileDialog]");if(a.length>0){var n="",o=0,r=i.find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");r.length>0&&r.each(function(){var t=e(this),i=parseInt(t.attr("bh-paper-pile-dialog-role-index"),10);i>o&&(n=t)}),n.length>0&&(t.insertContainer=n.children().children("aside"))}else if(i.children("main").length>0){var l=i.children("main").children("article");if(l.length>0){var s=l.children("aside");s.length>0?t.insertContainer=s:(t.insertContainer=e("<aside></aside>"),l.append(t.insertContainer))}}}return t}function u(t,i){var a=e(window),n=a.height(),o=a.scrollTop(),r=v(i.insertContainer),l=e('header[bh-header-role="bhHeader"]'),s=l.outerHeight(),d=e('header[bh-header-role="bhHeaderMini"]'),h=d.outerHeight(),c=l.hasClass("bh-normalHeader-hide")?!0:!1,f=c?h:s,p=e("body").get(0).scrollHeight,u=e('[bh-footer-role="footer"]'),b=u.offset().top,g=u.outerHeight(),m=0,x=4,C=s-h;o>r.top&&(m=o-r.top+f);var w=r.height;c?w=n+o+g>=p?p-o-g-x-C:n-h:b>n&&(w=n-r.top),t.css({top:m,height:w})}function v(e){var t=e.outerHeight();return t?{top:e.offset().top,height:t}:v(e.parent())}e.bhPropertyDialog={show:function(t){var a={insertContainer:"",title:"",content:"",footer:"",selector:"",hideCover:!1,autoDestroy:!0,ok:null,cancel:null,open:null,hide:null,ready:null},n=e.extend({},a,t);i(n)},hide:function(t){var i={close:null,destroy:!0},a=e.extend({},i,t);r(a)},footerHide:function(){l()},footerShow:function(){s()},destroy:function(){h()}}}(jQuery);var JPlaceHolder={_check:function(){return"placeholder"in document.createElement("input")},init:function(){this._check()||this.fix()},fix:function(e){e=e||document,jQuery("input[placeholder]",$(e)).each(function(e,t){var i=$(this),a=i.attr("placeholder");i.wrap($("<div></div>").css({position:"relative",zoom:"1",border:"none",background:"none",padding:"none",margin:"none"}));var n=i.position(),o=i.height(),r=o,l=parseInt(i.css("padding-left")),s=parseInt(i.css("padding-top")),d=parseInt(i.css("margin-left")),h=parseInt(i.css("margin-top"));"TEXTAREA"===i[0].tagName&&(r=14);var c=i.css("font-size")?i.css("font-size"):"14px",f=i.css("line-height")?i.css("line-height"):r+"px",p=$("<span></span>").text(a).css({"font-size":c,zIndex:"2",position:"absolute",left:n.left+d+"px",top:n.top+h+s+"px",height:o+"px",lineHeight:f,paddingLeft:l+"px",color:"#aaa",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","max-width":"100%"}).appendTo(i.parent());i.focusin(function(e){p.hide()}).focusout(function(e){i.val()?p.hide():p.show()}).keyup(function(e){i.val()&&p.hide()}),p.click(function(e){p.hide(),i.focus()})})}};!function(e){"use strict";function t(t){var n=new Date,r=i(t,n),l=e(r);t.rangeBoxDom=l,t.$rootElement.html(l),o(l,t);var h=a(t,n),c=e(h);t.popupBoxDom=c;var f=e("body");f.append(c),d(t,n),s(t),f.on("click",function(i){var a=e(i.target||i.srcElement);if(a.closest('div[bh-time-picker-role="rangeBox"]').length>0||a.closest('div[bh-time-picker-role="selectBoxCont"]').length>0||a.closest("div.jqx-calendar").length>0||a.closest("div.jqx-listbox").length>0)return void f.removeData("bhTimePick");var n=t.rangeBoxDom;if(n.hasClass("bh-active")){if(f.data("bhTimePick"))return void f.removeData("bhTimePick");n.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click()}})}function i(e,t){var i,a;i=e.settings.time.start&&"today"!==e.settings.time.start?A(e.settings.time.start):t,a=e.settings.time.end&&"today"!==e.settings.time.end?A(e.settings.time.end):t;var n=I(i,e),o=I(a,e),r=n+"-"+o,l="";e.settings.width&&(l="width: "+parseInt(e.settings.width,10)+"px;");var s="";e.settings.isDisable&&(s='<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>');var d='<div class="bh-timePicker-rangeBox bh-clearfix" bh-time-picker-role="rangeBox" style="'+l+'"><div class="bh-timePicker-rangeBox-selectIcon bh-left" bh-time-picker-role="rangeBoxPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="rangeBoxSelectTime">'+r+'</div><div class="bh-timePicker-rangeBox-selectIcon bh-right" bh-time-picker-role="rangeBoxNext">&gt;</div>'+s+'</div><div class="bh-clearfix"></div>';return d}function a(e,t){var i=n(e,t),a=0,o=t.getFullYear(),r=e.settings.range.max&&"today"!==e.settings.range.max?A(e.settings.range.max).getFullYear():o,l=e.settings.range.min&&"today"!==e.settings.range.min?A(e.settings.range.min).getFullYear():o,s=e.settings.range.max&&o>=r,d=e.settings.range.min&&l>=o;a=r,a>o&&(a=o);var h='<div class="bh-timePick-selectBoxCont" bh-time-picker-role="selectBoxCont"><div class="bh-timePick-selectBox bh-card bh-card-lv2" bh-time-picker-role="selectBox"><ul class="bh-timePick-tab" bh-time-picker-role="selectTab"><li class="bh-timePick-tabItem bh-active">自定义选择</li><li class="bh-timePick-tabItem">按月选择</li></ul><div class="bh-timePick-tabContent" bh-time-picker-role="selectTabContent"><div class="bh-timePick-custom bh-active"><div class="bh-timePick-customTime bh-clearfix" bh-time-picker-role="selectCustom"><div class="bh-timePick-selectType" bh-time-picker-role="selectType"></div><div class="bh-timePick-selectStart" bh-time-picker-role="selectStart"></div><div class="bh-timePick-selectConnect"></div><div class="bh-timePick-selectEnd" bh-time-picker-role="selectEnd"></div></div><a class="bh-btn bh-btn-primary bh-btn-block" bh-time-picker-role="selectOk" href="javascript:void(0);">确定</a></div><div class="bh-timePick-selectMonthCont" bh-time-picker-role="selectMonthBlock"><div class="bh-timePick-selectMonth bh-timePicker-rangeBox bh-clearfix"><div class="bh-timePicker-rangeBox-selectIcon bh-left '+(d?"bh-disabled":"")+'" bh-time-picker-role="selectMonthPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="selectMonthYear">'+a+'年</div><div class="bh-timePicker-rangeBox-selectIcon bh-right '+(s?"bh-disabled":"")+'" bh-time-picker-role="selectMonthNext">&gt;</div></div><div class="bh-timePicker-selectMonthList bh-clearfix" bh-time-picker-role="selectMonthList">'+i+"</div></div></div></div></div>";return h}function n(e,t,i){var a="",n=t.getFullYear(),o=0,r=0,l=0,s=0;if(e.settings.range.max)if("today"!==e.settings.range.max){var d=A(e.settings.range.max);o=d.getFullYear(),r=d.getMonth()}else{var h=new Date;o=h.getFullYear(),r=h.getMonth()}if(e.settings.range.min)if("today"!==e.settings.range.min){var c=A(e.settings.range.min);l=c.getFullYear(),s=c.getMonth()}else{var h=new Date;l=h.getFullYear(),s=h.getMonth()}for(var f=0;12>f;f++){var p=f+1,u="";o&&l?l!==o?n>l&&o>n?u="bh-pre":l===n?f>=s&&(u="bh-pre"):n===o&&r>=f&&(u="bh-pre"):f>=s&&r>=f&&(u="bh-pre"):o?o>n?u="bh-pre":r>=f&&(u="bh-pre"):l?n>l?u="bh-pre":f>=s&&(u="bh-pre"):u="bh-pre",a+='<div class="bh-timePick-monthItem '+u+'" data-month="'+p+'" bh-time-picker-role="selectMonthItem">'+p+"月</div>"}return a}function o(t,i){t.on("click",function(a){i.$rootElement.removeData("selectType");var n=e(a.target||a.srcElement),o=n.attr("bh-time-picker-role");switch(o){case"rangeBoxPre":P("pre",i);break;case"rangeBoxNext":P("next",i);break;case"rangeBoxSelectTime":r(i,t)}})}function r(t,i){var a=t.popupBoxDom,n=a.children('div[bh-time-picker-role="selectBox"]');if(i.hasClass("bh-active"))l(t);else{var o=BH_UTILS.getElementPosition(i),r=9999,s={top:o.bottom,left:o.left+20,display:"block"},d=0;e("body").find(".jqx-window").each(function(){var t=parseInt(e(this).css("z-index"),10);t>d&&(d=t)}),d>r&&(s["z-index"]=d),a.css(s),i.addClass("bh-active"),setTimeout(function(){n.addClass("bh-active")},10)}}function l(e){var t=e.popupBoxDom,i=t.children('div[bh-time-picker-role="selectBox"]');i.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(),i.removeClass("bh-active"),setTimeout(function(){t.hide()},450),e.rangeBoxDom.removeClass("bh-active")}function s(t){t.popupBoxDom.on("click",".bh-timePick-tabItem",function(){var i=e(this);if(!i.hasClass("bh-active")){var a=i.index(),n=i.closest("ul");n.find("li").removeClass("bh-active"),i.addClass("bh-active");var o=t.popupBoxDom.children('div[bh-time-picker-role="selectBox"]').children('div[bh-time-picker-role="selectTabContent"]').children();o.removeClass("bh-active"),o.eq(a).addClass("bh-active")}});var i=t.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),a=i.children('div[bh-time-picker-role="selectStart"]'),n=i.children('div[bh-time-picker-role="selectEnd"]'),o=i.find('div[bh-time-picker-role="selectType"]');a.on("change",function(e){D(t,i),S(i,"start",t)}),n.on("change",function(e){D(t,i),S(i,"end",t)}),a.on("mouseover",function(e){t.$rootElement.removeData("selectType")}),n.on("mouseover",function(e){t.$rootElement.removeData("selectType")}),o.on("change",function(e){var i=e.args;if(i){var a=i.item.value;t.$rootElement.data("selectType","fixed"),f({value:a},t)}}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectOk"]',function(){var e=a.jqxDateTimeInput("getDate"),i=n.jqxDateTimeInput("getDate"),o=t.getValue(),r=o.startTime,s=o.endTime;k(t,e,i),l(t),t.$rootElement.trigger("selectedTime",[r,s]),"undefined"!=typeof t.settings.selectedTime&&t.settings.selectedTime instanceof Function&&t.settings.selectedTime(r,s)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthPre"]',function(){e(this).hasClass("bh-disabled")||y(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'),"pre",t)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthNext"]',function(){e(this).hasClass("bh-disabled")||y(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'),"next",t)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthItem"]',function(){B(e(this),t)})}function d(e,t){var i=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),a=i.find('div[bh-time-picker-role="selectType"]'),n=i.find('div[bh-time-picker-role="selectStart"]'),o=i.find('div[bh-time-picker-role="selectEnd"]');e.startTimeDom=n,e.endTimeDom=o,h(a,e),c(n,t,"start",e),c(o,t,"end",e),f({value:e.settings.defaultType},e)}function h(t,i){var a=[{name:"自定义",value:"custom"},{name:"全部",value:"all"},{name:"本周",value:"currentWeek"},{name:"上周",value:"lastWeek"},{name:"本月",value:"currentMonth"},{name:"上月",value:"lastMonth"},{name:"本季度",value:"currentQuarter"},{name:"上季度",value:"lastQuarter"},{name:"今年",value:"currentYear"},{name:"去年",value:"lastYear"},{name:"近7天",value:"last7Day"},{name:"近30天",value:"last30Day"}],n=0;e.grep(a,function(e,t){return i.settings.defaultType===e.value?(n=t,!0):void 0}),t.jqxDropDownList({width:"80px",source:a,selectedIndex:n,autoDropDownHeight:!0,valueMember:"value",displayMember:"name"})}function c(e,t,i,a){var n;n="start"===i?a.settings.time.start&&"today"!==a.settings.time.start?A(a.settings.time.start):t:a.settings.time.end&&"today"!==a.settings.time.end?A(a.settings.time.end):t,e.jqxDateTimeInput({value:n,width:"124px",culture:"zh-CN",formatString:a.settings.format})}function f(e,t){var i=864e5,a=new Date,n=u(a),o=0,r=0,l=e.value;switch(l){case"custom":break;case"all":o=null,r=null;break;case"currentWeek":o=new Date(n.time-(n.week-1)*i),r=a;break;case"lastWeek":var s=n.time-(n.week-1)*i;o=new Date(s-7*i),r=new Date(s-1*i);break;case"currentMonth":o=new Date(n.time-(n.day-1)*i),r=a;break;case"lastMonth":var d=b(n);o=d.startTime,r=d.endTime;break;case"currentQuarter":var h=x(n);o=h.startTime,r=a;break;case"lastQuarter":var c=C(n);o=c.startTime,r=c.endTime;break;case"currentYear":o=A(n.year+"/1/1"),r=a;break;case"lastYear":o=A(parseInt(n.year-1)+"/1/1"),r=A(parseInt(n.year-1)+"/12/31");break;case"last7Day":o=new Date(n.time-7*i),r=a;break;case"last30Day":o=new Date(n.time-30*i),r=a}p(t,o,r)}function p(e,t,i,a){var n=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),o=n.children('div[bh-time-picker-role="selectStart"]'),r=n.children('div[bh-time-picker-role="selectEnd"]'),l=r.jqxDateTimeInput("getDate");if(!(t&&i||(o.jqxDateTimeInput(null===t?{disabled:!0}:{disabled:!1}),r.jqxDateTimeInput(null===i?{disabled:!0}:{disabled:!1}),t||i))){var s=e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),d=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),h=d.jqxDropDownList("getSelectedItem");if("all"===h.value)return void s.html(h.label)}o.jqxDateTimeInput("disabled")&&o.jqxDateTimeInput({disabled:!1}),r.jqxDateTimeInput("disabled")&&r.jqxDateTimeInput({disabled:!1}),t>l?(r.jqxDateTimeInput("setDate",i),o.jqxDateTimeInput("setDate",t)):(o.jqxDateTimeInput("setDate",t),r.jqxDateTimeInput("setDate",i));var c=o.jqxDateTimeInput("getDate"),f=r.jqxDateTimeInput("getDate"),p=e.getValue(),u=p.startTime,v=p.endTime;k(e,c,f),a&&(e.$rootElement.trigger("selectedTime",[u,v]),"undefined"!=typeof e.settings.selectedTime&&e.settings.selectedTime instanceof Function&&e.settings.selectedTime(u,v))}function u(e){var t=new Date(e),i={};return i.year=t.getFullYear(),i.month=t.getMonth(),i.day=t.getDate(),i.hour=t.getHours(),i.minute=t.getMinutes(),i.second=t.getSeconds(),i.week=t.getDay(),i.time=t.getTime(),i}function v(e){return 0==e%4&&(e%100!=0||e%400==0)}function b(e){var t=e.month,i=e.year,a=t-1;0===t&&(i-=1,a=11);var n=m(i,a+1),o=new Date(g({year:i,month:a+1,day:1})),r=new Date(g({year:i,month:a+1,day:n}));return{startTime:o,endTime:r}}function g(e){return e.year+"/"+e.month+"/"+e.day}function m(e,t){var i=0;return i=1===t||3===t||5===t||7===t||8===t||10===t||12===t?31:4===t||6===t||9===t||11===t?30:v(e)?29:28}function x(e){var t=w(e.month),i=new Date(g({year:e.year,month:t.startMonth+1,day:1}));return{startTime:i}}function C(e){var t=w(e.month).startMonth,i=t-1,a=e.year;0===t&&(i=11,a-=1);var n=w(i),o=m(a,n.endMonth+1),r=new Date(g({year:a,month:n.startMonth+1,day:1})),l=new Date(g({year:a,month:n.endMonth+1,day:o}));return{startTime:r,endTime:l}}function w(e){var t=0,i=2;return e>=9?(t=9,i=11):e>=6?(t=6,i=8):e>=3&&(t=3,i=5),{startMonth:t,endMonth:i}}function y(e,t,i){var a=e.find('[bh-time-picker-role="selectMonthPre"]').removeClass("bh-disabled"),o=e.find('[bh-time-picker-role="selectMonthNext"]').removeClass("bh-disabled"),r=e.find('div[bh-time-picker-role="selectMonthYear"]'),l=parseInt(r.text(),10),s=0;i.settings.range.max&&(s="today"===i.settings.range.max?(new Date).getFullYear():new Date(i.settings.range.max).getFullYear());var d=0;i.settings.range.min&&(d="today"===i.settings.range.min?(new Date).getFullYear():new Date(i.settings.range.min).getFullYear()),"pre"===t?l--:l++,r.html(l+"年");var h=n(i,A(l+"/12/1"),t);e.find('div[bh-time-picker-role="selectMonthList"]').html(h),"pre"===t?l===d&&a.addClass("bh-disabled"):l===s&&o.addClass("bh-disabled")}function B(e,t){if(e.hasClass("bh-pre")){var i=e.closest('div[bh-time-picker-role="selectMonthBlock"]'),a=parseInt(i.find('div[bh-time-picker-role="selectMonthYear"]').text(),10),n=parseInt(e.attr("data-month"),10),o=m(a,n);t.$rootElement.removeData("selectType"),t.rangeBoxDom.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(),p(t,new Date(a+"/"+n+"/1"),new Date(a+"/"+n+"/"+o),!0)}}function k(e,t,i){var a=e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),n=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),o=n.jqxDropDownList("getSelectedItem");if("all"===o.value)return void a.html(o.label);var r=I(t,e),l=I(i,e);a.html(r+"-"+l)}function I(e,t){return/dd/i.test(t.format)?e.getFullYear()+"年"+T(e.getMonth()+1)+"月"+e.getDate()+"日":e.getFullYear()+"年"+T(e.getMonth()+1)+"月"}function T(e){return 10>e?"0"+e:e}function D(e,t){var i=e.$rootElement.data("selectType");("undefined"==typeof i||"fixed"!==i)&&t.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectIndex",0)}function S(t,i,a){e("body").data("bhTimePick","selectTime");var n=t.children('div[bh-time-picker-role="selectStart"]'),o=t.children('div[bh-time-picker-role="selectEnd"]'),r=n.jqxDateTimeInput("getDate"),l=o.jqxDateTimeInput("getDate");if(r>l)if("end"===i){var s=u(r);o.jqxDateTimeInput("setDate",new Date(s.year,s.month,s.day))}else{var d=u(l);n.jqxDateTimeInput("setDate",new Date(d.year,d.month,d.day))}else if("start"===i){if(a.settings.range.min){var h;h="today"!==a.settings.range.min?new Date(a.settings.range.min):new Date,h>r&&n.jqxDateTimeInput("setDate",h)}}else if(a.settings.range.max){var c;c="today"!==a.settings.range.max?new Date(a.settings.range.max):new Date,l>c&&o.jqxDateTimeInput("setDate",c)}}function P(e,t){var i=t.popupBoxDom.find('div[bh-time-picker-role="selectBox"]'),a=t.$rootElement.find('div[bh-time-picker-role="rangeBox"]');a.hasClass("bh-active")&&a.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click();var n;n="pre"===e?i.find('div[bh-time-picker-role="selectStart"]').jqxDateTimeInput("getDate"):i.find('div[bh-time-picker-role="selectEnd"]').jqxDateTimeInput("getDate");var o,r=u(n),l=864e5;if("pre"===e){if(0===r.month?(r.month=11,r.year=r.year-1):r.month=r.month-1,t.settings.range.min){var s="today"===t.settings.range.min?new Date:A(t.settings.range.min);o=u(s),s>new Date(n.getTime()-30*l)&&(r=o)}}else if(11===r.month?(r.month=0,r.year=r.year+1):r.month=r.month+1,t.settings.range.max){var d="today"===t.settings.range.max?new Date:A(t.settings.range.max);o=u(d),d<new Date(n.getTime()+30*l)&&(r=o)}var h={},c={};o&&r.year===o.year?r.month!==o.month?(h={year:r.year,month:r.month,day:1},c={year:r.year,month:r.month,day:m(r.year,r.month+1)}):"pre"===e?(h={year:r.year,month:r.month,day:o.day},c={year:r.year,month:r.month,day:m(r.year,r.month+1)}):(h={year:r.year,month:r.month,day:1},c={year:r.year,month:r.month,day:o.day}):(h={year:r.year,month:r.month,day:1},c={year:r.year,month:r.month,day:m(r.year,r.month+1)});var f=r.month+1<10?"0"+parseInt(r.month+1,10):r.month+1,v=h.year+"/"+f+"/"+T(h.day),b=c.year+"/"+f+"/"+c.day;p(t,A(v),A(b),!0)}function A(e){var t=Date.parse(e),i=new Date(t);if(isNaN(i)){var a=e.split("-");i=new Date(a[0],--a[1],a[2])}return i}var H;e.fn.bhTimePicker=function(t,i){var a;return a=this.data("bhTimePicker"),a?t===!0?a:"string"===e.type(t)?a[t](i):this:this.each(function(){return e(this).data("bhTimePicker",new H(this,t))})},e.fn.bhTimePicker.defaults={defaultType:"",width:"",format:"yyyy-MM-dd",range:{max:"",min:""},time:{start:"",end:""},isDisable:!1,selectedTime:null,ready:null},H=function(){function i(i,a){this.settings=e.extend({},e.fn.bhTimePicker.defaults,a),this.settings.format=this.settings.format.replace(/mm/g,"MM"),this.$rootElement=e(i),t(this)}return i.prototype.getValue=function(){var e=null,t=null;return this.startTimeDom.jqxDateTimeInput("disabled")||(e=this.startTimeDom.jqxDateTimeInput("getText")),this.endTimeDom.jqxDateTimeInput("disabled")||(t=this.endTimeDom.jqxDateTimeInput("getText")),{startTime:e,endTime:t}},i.prototype.setValue=function(e){var t=e.startTime?A(e.startTime):this.startTimeDom.jqxDateTimeInput("getDate"),i=e.endTime?A(e.endTime):this.endTimeDom.jqxDateTimeInput("getDate");p(this,t,i)},i.prototype.setDisable=function(){this.$rootElement.children('div[bh-time-picker-role="rangeBox"]').append('<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>')},i.prototype.setEnable=function(){this.$rootElement.find('div[bh-time-picker-role="disableBlock"]').remove()},i}()}(jQuery),function(e){function t(t,a){w.items=t.items,w.activeItemStepId=t.active,w.finishedItemStepIds=t.finished,w.wizardContainer=a,w.contentContainer=t.contentContainer,w.change=t.change,e(t.items).each(function(e,i){d(e,i,t.items.length)}),w.wizardElement=e(w.wizardContainer).children(".bh-wizard-item"),e(t.items).each(function(e,t){u(e)}),t.isAddClickEvent&&b(),i(),w.wizardElement.each(function(t,i){w.wizardElement&&w.wizardElement.length>0&&(e(i).hasClass("active")?e("#"+e(i).attr("stepid")).removeClass("bh-hide"):e("#"+e(i).attr("stepid")).addClass("bh-hide"))})}function i(){var t=w.wizardElement.length;if(t>0){var i=w.wizardContainer,a=i.width(),n=e(".bh-wizard-item:hidden",i).length,o=t-n,r=Math.floor(a/o);w.wizardElement.find(".title").width(r-40);var l=0;w.wizardElement.each(function(){e(this).is(":hidden")||(l+=e(this).outerWidth())});var s=a-l,d=r-40+s;w.wizardElement.find(".title").last().width(d)}}function a(e){w.activeItemStepId=e}function n(){var e=m(),t=o(e);null!=t&&s(t)}function o(e){var t=null,i=e-1;if(null!=w.items[i]){var a=w.items[i].stepId;t=w.wizardElement.parent().find("[stepid='"+a+"']").is(":hidden")?o(i):a}return t}function r(e){var t=null,i=e+1;if(null!=w.items[i]){var a=w.items[i].stepId;t=w.wizardElement.parent().find("[stepid='"+a+"']").is(":hidden")?r(i):a}return t}function l(){var e=m(),t=r(e);null!=t&&s(t)}function s(e){var t=w.activeItemStepId,i=m();a(e),u(i),w.contentContainer.find("#"+t).addClass("bh-hide");var n=m();u(n),w.contentContainer.find("#"+w.activeItemStepId).removeClass("bh-hide"),"undefined"!=typeof w.change&&w.change instanceof Function&&w.change({stepId:e})}function d(t,i,a){var n=e('<div class="bh-wizard-item" stepid="'+i.stepId+'"><div class="left-arrow"></div><div class="title bh-str-cut" title="'+i.title+'"><i></i>'+i.title+'</div><div class="right-arrow"></div></div>');0==t?e(n).addClass("bh-wizard-item-first"):t==a-1&&e(n).addClass("bh-wizard-item-last"),w.wizardContainer.append(n)}function h(e){for(var t=!1,i=0;i<w.finishedItemStepIds.length;i++)if(w.finishedItemStepIds[i]==e){t=!0;break}return t}function c(e){if(w.finishedItemStepIds){var t=w.finishedItemStepIds.length;t>0?w.finishedItemStepIds[t]=e:w.finishedItemStepIds[0]=e}}function f(e){var t=g(w.activeItemStepId);return t==e?!0:!1}function p(e){var t=w.finishedItemStepIds.length,i=!1;if(t>0)for(var a=0;t>a;a++)if(e==g(w.finishedItemStepIds[a])){i=!0;break}return i}function u(t){var i=w.wizardElement[t],a=e("i",e(i));a.removeClass(),p(t)?(e(i).addClass("finished"),a.addClass("iconfont icon-checkcircle")):e(i).removeClass("finished"),f(t)?(e(i).addClass("active"),a.addClass("iconfont icon-edit")):e(i).removeClass("active")}function v(e){return e==w.activeItemStepId?!0:!1}function b(){w.wizardElement.unbind("click").click(function(){var t=e(this),i=t.attr("stepid");v(i)||s(i)})}function g(e){for(var t=-1,i=0;i<w.items.length;i++)if(w.items[i].stepId==e){t=i;break}return t}function m(){for(var e=0,t=0;t<w.items.length;t++)if(w.items[t].stepId==w.activeItemStepId){e=t;break}return e}function x(t,a){if(null!=t&&void 0!=t){var n=w.items[0].stepId,o=w.items[w.items.length-1].stepId,r=w.wizardContainer.find(".bh-wizard-item[stepid="+t+"]");r.length>0&&a(r),w.wizardElement=e(w.wizardContainer).children(".bh-wizard-item"),t==n?w.wizardElement.eq(0).addClass("bh-wizard-item-first"):t==o&&w.wizardElement.last().addClass("bh-wizard-item-last"),i()}}e.fn.bhStepWizard=function(t,i){var a;if(a=this.data("bhStepWizard"),!a)return this.each(function(){return e(this).data("bhStepWizard",new C(this,t))});if(t===!0)return a;if("string"===e.type(t)){var n=a[t](i);return n}},e.fn.bhStepWizard.defaults={items:[],active:"",finished:[],isAddClickEvent:!0,contentContainer:e("body"),change:null};var C,w={};C=function(){function a(i,a){this.settings=e.extend({},e.fn.bhStepWizard.defaults,a),this.$element=e(i),t(this.settings,this.$element)}return a.prototype.resetFinishedItems=function(e){w.finishedItemStepIds=e;for(var t=0;t<w.finishedItemStepIds.length;t++){var i=w.finishedItemStepIds[t],a=g(i);u(a)}},a.prototype.activeNextItem=function(){l()},a.prototype.activePrevItem=function(){n()},a.prototype.changeToActive=function(e){s(e)},a.prototype.changeToFinished=function(e){if((void 0==e||null==e)&&(e=w.activeItemStepId),!h(e)){c(e);var t=g(e);u(t)}},a.prototype.resetWidth=function(){i()},a.prototype.isLastStep=function(){var e=w.items[w.items.length-1].stepId,t=!1;return t=w.activeItemStepId==e?!0:!1},a.prototype.getFinishedIndexs=function(){var e=[];if(w.finishedItemStepIds&&w.finishedItemStepIds.length>0)for(var t=0;t<w.finishedItemStepIds.length;t++)e.push(g(w.finishedItemStepIds[t]));return e},a.prototype.getStepIdByIndex=function(e){var t=-1;return w.items&&w.items.length>0&&w.items[e]&&(t=w.items[e].stepId),t},a.prototype.deleteItem=function(e){x(e,function(e){e.remove()})},a.prototype.showItem=function(e){x(e,function(e){e.show()})},a.prototype.hideItem=function(e){x(e,function(e){e.hide()})},a.prototype.getActiveItem=function(){return w.activeItemStepId},a}()}(jQuery),"undefined"==typeof BhUIManagers&&(BhUIManagers={}),function(e){e.fn.bhGetWizardManager=function(){return BhUIManagers[this[0].id+"_Wizard"]},e.bhDefaults=e.bhDefaults||{},e.bhDefaults.wizard={items:[],active:"",active2:null,finished:[],isAddClickEvent:!0,contentContainer:e("body"),change:null},e.bhWizard=e.bhWizard||{},e.fn.bhWizard=function(t){var i=e.extend({},e.bhDefaults.wizard,t||{});if(this.each(function(){e.bhWizard.bhAddWizard(this,i)}),0==this.length)return null;if(1==this.length)return e(this[0]).bhGetWizardManager();var a=[];return this.each(function(){a.push(e(this).bhGetWizardManager())}),a},e.bhWizard.bhAddWizard=function(t,i){if(!t.userWizard){var a={addItem:function(t,i,n){var o=e('<div class="bh-wizard-item" stepid="'+i.stepId+'"><div class="left-arrow"></div><div class="title bh-str-cut" title="'+i.title+'"><i></i>'+i.title+'</div><div class="right-arrow"></div></div>');0==t?e(o).addClass("bh-wizard-item-first"):t==n-1&&e(o).addClass("bh-wizard-item-last"),a.wizardContainer.append(o)},resetActiveItem:function(e){a.activeItemStepId=e},resetFinishedItems:function(e){a.finishedItemStepIds=e;for(var t=0;t<a.finishedItemStepIds.length;t++){var i=a.finishedItemStepIds[t],o=n.getIndexByStepId(i);n.refreshElementByIndex(o)}},activeNextItem:function(){var e=n.getActiveItemIndex(),t=e+1,i=a.items[t].stepId;a.changeToActive(i)},activePrevItem:function(){var e=n.getActiveItemIndex(),t=e-1,i=a.items[t].stepId;a.changeToActive(i)},changeToActive:function(e){var t=a.activeItemStepId,o=n.getActiveItemIndex();a.resetActiveItem(e),n.refreshElementByIndex(o),a.contentContainer.find("#"+t).addClass("bh-hide");var r=n.getActiveItemIndex();n.refreshElementByIndex(r),a.contentContainer.find("#"+a.activeItemStepId).removeClass("bh-hide"),i&&"undefined"!=typeof i.change&&i.change instanceof Function&&i.change({stepId:e})},changeToFinished:function(e){if(!n.isExistInFinisheds(e)){n.addToFinisheds(e);var t=n.getIndexByStepId(e);n.refreshElementByIndex(t)}}},n={isExistInFinisheds:function(e){for(var t=!1,i=0;i<a.finishedItemStepIds.length;i++)if(a.finishedItemStepIds[i]==e){t=!0;break}return t},addToFinisheds:function(e){if(a.finishedItemStepIds){var t=a.finishedItemStepIds.length;t>0?a.finishedItemStepIds[t]=e:a.finishedItemStepIds[0]=e}},init:function(){a.wizardElement.each(function(t,i){e(i).hasClass("active")?e("#"+e(i).attr("stepid")).removeClass("bh-hide"):e("#"+e(i).attr("stepid")).addClass("bh-hide")})},isActive:function(e){var t=n.getIndexByStepId(a.activeItemStepId);return t==e?!0:!1},isFinished:function(e){var t=a.finishedItemStepIds.length,i=!1;if(t>0)for(var o=0;t>o;o++)if(e==n.getIndexByStepId(a.finishedItemStepIds[o])){i=!0;break}return i},refreshElementByIndex:function(t){var i=a.wizardElement[t],o=e("i",e(i));o.removeClass(),n.isFinished(t)?(e(i).addClass("finished"),o.addClass("iconfont icon-checkcircle")):e(i).removeClass("finished"),n.isActive(t)?(e(i).addClass("active"),o.addClass("iconfont icon-edit")):e(i).removeClass("active");

},isActiveItem:function(e){return e==a.activeItemStepId?!0:!1},addClickEvent:function(){a.wizardElement.unbind("click").click(function(){var t=e(this),i=t.attr("stepid");n.isActiveItem(i)||a.changeToActive(i)})},getIndexByStepId:function(e){for(var t=0,i=0;i<a.items.length;i++)if(a.items[i].stepId==e){t=i;break}return t},getActiveItemIndex:function(){for(var e=0,t=0;t<a.items.length;t++)if(a.items[t].stepId==a.activeItemStepId){e=t;break}return e}};a.items=i.items,a.activeItemStepId=i.active||i.active2,a.finishedItemStepIds=i.finished,a.wizardContainer=e(t),a.contentContainer=i.contentContainer,a.wizardContainer.addClass("bh-wizard-container"),e(i.items).each(function(e,t){a.addItem(e,t,i.items.length)}),a.wizardElement=e(a.wizardContainer).children(".bh-wizard-item"),e(i.items).each(function(e,t){n.refreshElementByIndex(e)}),n.init(),i.isAddClickEvent&&n.addClickEvent(),i.active2&&a.changeToActive(i.active2);var o=a.wizardElement.length;if(o>0){var r=a.wizardContainer,l=r.width(),s=e(".bh-wizard-item:hidden",r).length,d=o-s,h=Math.floor(l/d);a.wizardElement.find(".title").width(h-40)}void 0==t.id&&(t.id="BhUI_"+(new Date).getTime()),BhUIManagers[t.id+"_Wizard"]=a,t.userWizard=!0}}}(jQuery),function(e){"use strict";e.bhTip=function(t){function i(t){t=h(t);var i=a(t),r=e(i);n(r);var d=+new Date,c=o(r,t.hideWaitTime);l(r,c,d,t.hideWaitTime),s(r,t)}function a(e){var t="",i=e.options,a=i.length;if(a>=1&&""!==i[0].text&&null!==i[0].text){for(var n=0;a>n;n++)t+='<a href="javascript:void(0);" class="bh-tip-btn" bh-tip-btn-role="tipBtn">'+i[n].text+"</a>";t='<div class="bh-tip-btn-group">'+t+"</div>"}var o='<div class="bh-tip bh-tip-animate-top-opacity bh-tip-'+e.state+'" bh-tip-role="bhTip"><div class="bh-tip-top-bar"></div><div class="bh-card bh-card-lv4"><a class="bh-tip-closeIcon" bh-tip-btn-role="closeIcon">×</a><div class="bh-tip-content"><i class="iconfont '+e.iconClass+'" ></i> <span>'+e.content+"</span> "+t+"</div></div></div>";return o}function n(t){var i=e("body"),a=i.find("div.jqx-window");if(0==a.length)i.append(t),t.css({position:"fixed"});else{var n=null,o=0;a.each(function(){if("none"!==this.style.display){var e=parseInt(this.style.zIndex,10);e>o&&(o=e,n=this)}}),n?(e(n).append(t),t.css({position:"absolute"})):(i.append(t),t.css({position:"fixed"}))}var r=t.outerWidth();t.css({top:"16px",left:"calc(50% - "+r/2+"px)",opacity:1});var l=t.find(".bh-tip-content"),s=e.trim(l.text()),d=s.length,h=12*d+16+8;l.css({width:h+"px"}),h>192&&l.css({"margin-right":"16px"})}function o(e,t){if(p){var i=setTimeout(function(){e&&r(e)},t);return i}}function r(e){e.css({opacity:0,top:"-40px"}),setTimeout(function(){e.remove(),f.onClosed&&f.onClosed()},d())}function l(e,t,i,a){var n,r,s=i,a=a,t=t;e.off("mouseenter").on("mouseenter",function(){p=!1,n=+new Date,clearTimeout(t);var e=n-s;console.log("remainTime: "+e),a>e&&(a-=e)}),e.off("mouseleave").on("mouseleave",function(){p=!0,r=+new Date,t=o(e,a),l(e,t,r,a)})}function s(t,i){t.off("click","a[bh-tip-btn-role=closeIcon]").on("click","a[bh-tip-btn-role=closeIcon]",function(){r(t,i)}),t.off("click","a[bh-tip-btn-role=tipBtn]").on("click","a[bh-tip-btn-role=tipBtn]",function(t){var a=e(t.target).index(),n={};n=i.options[a],"undefined"!=typeof n.callback&&n.callback instanceof Function&&n.callback()})}function d(){return 250}function h(e){var t="";switch(e.state){case"success":t="icon-checkcircle";break;case"warning":t="icon-erroroutline";break;case"danger":t="icon-error";break;case"primary":t="icon-info"}return e.iconClass=e.iconClass?e.iconClass:t,e}var c={content:"",state:"success",iconClass:"",options:[{text:"",callback:null}],hideWaitTime:5e3,onClosed:function(){}},f=e.extend({},c,t),p=!0;i(f)}}(jQuery),function(e){function t(t){this.options=e.extend({},e.bh_choose["default"],t),this.$element=this.getChooseLayout(),this.selectedRecords=[]}e.bh_choose=function(e){return new t(e)},e.bh_choose["default"]={insertContainer:"",leftSourceUrl:"",leftSourceAction:"",leftLocalData:null,rightSourceUrl:"",rightSourceAction:"",rightLocalData:null,localSearchField:"",id:"",params:{},type:"post",multiSelect:!0,showOrder:!1,title:"添加应用",showSelectedTip:!0,placeholder:"输入关键字搜索",maxSelect:null,height:"500px",width:"900px",topHtml:"",bottomHtml:"",searchKeyName:"SEARCHKEY",leftDataAdapter:null,buttons:null,searchKeyNeedConvert:!1,callback:function(){},rightcellsRenderer:function(){},leftcellsRenderer:function(){},afterDelete:function(){},afterSelect:function(){}},t.prototype={getSelectedRecords:function(){return this.$rightGrid.jqxDataTable("getRows")},show:function(){this.options.insertContainer?e(this.options.insertContainer).html(this.$element):this.showJqxWindow(),this.$leftGrid=this.$element.find(".leftGrid"),this.$rightGrid=this.$element.find(".rightGrid"),this.initSelectedRecords(this.options.rightLocalData),this.initLeftTable(),this.initRightTable(),this.bindSearchEvent()},close:function(){this.$element.jqxWindow("close")},showJqxWindow:function(){var t=this;e("body").append(this.$element),this.$element.on("open",function(){e("body").getNiceScroll().remove(),e("body").css({overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"})});var i=t.options.height||"500px";i=parseInt(i.replace("px",""))/2+"px",this.$element.jqxWindow(e.extend({resizable:!1,isModal:!0,draggable:!1,modalOpacity:.3,maxHeight:3e3,maxWidth:3e3,height:t.options.height||"500px",width:t.options.width||"900px",autoOpen:!1},{})).jqxWindow("open"),this.$element.css({position:"fixed",top:"50%","margin-top":"-"+i}),this.$element.on("close",function(){t.$element.jqxWindow("destroy"),e("body").niceScroll()})},initSelectedRecords:function(e){e&&(this.selectedRecords=e,this.refreshSelectedCount())},bindSearchEvent:function(){var e=this,t=window._&&_.debounce(function(){e.reloadLeftTable()},500);this.$element.find(".leftSearch").on("keyup",function(i){13==i.keyCode?(e.reloadLeftTable(),window._&&t.cancel()):window._&&t()})},initLeftTable:function(){var t=this;this.leftSource=this.getLeftSource();var i=null;this.leftSource.url?i=new e.jqx.dataAdapter(this.leftSource,t.options.leftDataAdapter||{formatData:function(i){return i.pageSize=i.pagesize,i.pageNumber=i.pagenum+1,e.extend(i,t.options.leftSourceParams),delete i.pagesize,delete i.pagenum,delete i.filterslength,i},downloadComplete:function(e){var i=t.options.leftSourceAction,a=i?e.datas[i]:e.datas;return t.leftSource.totalRecords=a.totalSize,e.recordsTotal=a.totalSize,e.data=a.rows,delete e.datas,delete e.code,e}}):this.leftSource.localdata&&(i=new e.jqx.dataAdapter(this.leftSource));var a=e.extend({},this.getNormalWindowOptions(),{source:i,pageable:this.leftSource.localdata?!1:!0,height:308,columns:t.options.leftColumns||[{dataField:"onlineDate",cellsRenderer:function(i,a,n,o){var r=e(t.options.leftcellsRenderer(i,a,n,o));return e(r.children()[0]).addClass("gm-member-user"),r.prop("outerHTML")}}],rendered:function(){t.leftRenderEventListener()}});t.$element.find(".leftGrid").jqxDataTable(a)},getNormalWindowOptions:function(){return{showHeader:!1,pagerButtonsCount:3,serverProcessing:!0,showStatusbar:!1,showToolbar:!1,pagerMode:"advanced",localization:Globalize.culture("zh-CN"),pageSizeOptions:["10","20","50","100"],width:"100%",pagerHeight:28}},getLeftSource:function(){var e=null;return e=this.options.leftLocalData?{localdata:this.options.leftLocalData,datatype:"array",data:this.options.params}:{id:"id",datatype:"json",url:this.options.leftSourceUrl,type:this.options.type,data:this.options.params,contentType:"application/x-www-form-urlencoded; charset=utf-8"}},addSelectAllButton:function(){var e=this;if(this.options.multiSelect!==!1&&null===this.options.maxSelect){var t=this.$element.find(".leftGrid").find(".jqx-grid-pager");t.find(".leftgrid-select-all").length>0||(t.append('<div class="select-all-wrap"><div class="leftgrid-select-all" style="display:inline-block"></div><div class="select-all-text">全选</div></div>'),t.find(".leftgrid-select-all").jqxCheckBox().on("change",function(t){var i=t.args.checked,a=e.$element.find(".leftGrid .gm-member-user");i?a.jqxCheckBox("check"):i===!1&&a.jqxCheckBox("uncheck")}))}},leftRenderEventListener:function(){var t=this,i=this.options.id,a=this.$leftGrid,n=this.$rightGrid,o=t.selectedRecords,r=t.$element.find(".leftGrid .gm-member-user");a.find("tr").removeAttr("data-key"),this.addSelectAllButton(),this.leftGridRows=a.jqxDataTable("getRows"),this.rightGridRows=n.jqxDataTable("getRows"),r.length>0&&r.jqxCheckBox().on("change",function(a){var o=t.selectedRecords,r=a.args.checked,l=a.target.getAttribute("row"),s=t.leftGridRows[l][i],d=!1,h=t.leftGridRows[l];if(r){if(_.each(o,function(e){return e[i]+""==h[i]+""?(d=!0,!1):void 0}),d)return;if(t.options.multiSelect===!1&&t.$element.find(".rightgrid-delete").trigger("click"),null!==t.options.maxSelect&&t.options.maxSelect<=o.length)return e.bhTip({content:"最多只能选中"+t.options.maxSelect+"条记录"}),void e(this).jqxCheckBox("uncheck");t.options.afterSelect(h),o.push(h),n.jqxDataTable("addRow",null,h)}else _.each(o,function(e,t){return e[i]+""==s+""?(o.splice(t,1),!1):void 0}),t.refreshTable(n),t.resetSelectALLStatus();t.refreshSelectedCount()});for(var l=0;l<o.length;l++)for(var s=0;s<this.leftGridRows.length;s++)t.selectedRecords[l][i]+""==this.leftGridRows[s][i]+""&&e(r[s]).jqxCheckBox("check");t.resetSelectALLStatus()},refreshSelectedCount:function(){this.options.showSelectedTip&&this.$rightGrid.prev().html("已选中 "+this.selectedRecords.length)},getRightSource:function(){var e=null;return e=this.options.rightLocalData?{localdata:this.options.rightLocalData,datatype:"array"}:this.options.rightSourceUrl?{id:"id",datatype:"json",url:this.options.rightSourceUrl,type:this.options.type}:{localdata:this.selectedRecords,datatype:"array"}},initRightTable:function(){var t=this,i=this.options.id,a=this.getRightSource(),n=[];a.url?n=new e.jqx.dataAdapter(a,{formatData:function(e){return e.pageSize=e.pagesize,e.pageNumber=e.pagenum+1,delete e.pagesize,delete e.pagenum,delete e.filterslength,e},downloadComplete:function(i){var n=t.options.rightSourceAction,o=n?i.datas[n]:i.datas;return a.totalRecords=o.totalSize,e.extend(i,t.options.leftSourceParams),i.recordsTotal=o.totalSize,i.data=o.rows,t.initSelectedRecords(o.rows),delete i.datas,delete i.code,i}}):a.localdata&&(n=new e.jqx.dataAdapter(a));var o=e.extend({},this.getNormalWindowOptions(),{source:n,pagerMode:"advanced",height:315,pageable:!1,columns:t.options.rightColumns||[{dataField:"onlineDate",cellsRenderer:function(a,n,o,r){var l=e(t.options.rightcellsRenderer(a,n,o,r)),s=t.options.showOrder?'<i class="iconfont icon-keyboardarrowup rightgrid-up"></i><i class="iconfont icon-keyboardarrowdown rightgrid-down"></i>':"",d=l.append('<a class="gm-member-delete" data-x-id="'+r[i]+'" href="javascript:void(0)">'+s+'<i class="iconfont icon-delete rightgrid-delete"></i></a>');return d.prop("outerHTML")}}],rendered:function(){t.rightRenderEventListener()}});t.$element.find(".rightGrid").jqxDataTable(o)},rightRenderEventListener:function(){var t=this,i=this.options.id,a=t.$element.find(".rightGrid");a.find("tr").removeAttr("data-key"),t.$element.find(".rightgrid-down").on("click",function(){for(var a=e(this).parent(),n=a.attr("data-x-id"),o=0;o<t.selectedRecords.length;o++)if(t.selectedRecords[o][i]+""==n+""&&o<t.selectedRecords.length-1){var r=t.selectedRecords[o];t.selectedRecords[o]=t.selectedRecords[o+1],t.selectedRecords[o+1]=r;break}t.refreshTable(t.$element.find(".rightGrid"))}),t.$element.find(".rightgrid-up").on("click",function(){for(var a=e(this).parent(),n=a.attr("data-x-id"),o=0;o<t.selectedRecords.length;o++)if(t.selectedRecords[o][i]+""==n+""&&o>0){var r=t.selectedRecords[o];t.selectedRecords[o]=t.selectedRecords[o-1],t.selectedRecords[o-1]=r;break}t.refreshTable(t.$element.find(".rightGrid"))}),t.$element.find(".rightgrid-delete").on("click",function(){for(var a=t.$element.find(".leftGrid"),n=e(this).parent(),o=n.attr("data-x-id"),r=t.leftGridRows,l=!1,s=t.selectedRecords,d=a.find(".gm-member-user"),h=0;h<d.length;h++){var c=e(d[h]).jqxCheckBox("val");if(c&&r[h][i]+""==o+""){t.options.afterDelete(r[h]);for(var f=0;f<t.selectedRecords.length;f++)t.selectedRecords[f][i]+""==o&&(e(d[h]).jqxCheckBox("uncheck"),t.resetSelectALLStatus(),l=!0)}}l||(_.each(s,function(e,t){return e[i]+""==o+""?(s.splice(t,1),!1):void 0}),t.refreshTable(t.$rightGrid),t.refreshSelectedCount())})},clear:function(){for(var t=this,i=t.$element.find(".leftGrid"),a=t.leftGridRows,n=t.selectedRecords,o=i.find(".gm-member-user"),r=0;r<o.length;r++){var l=e(o[r]).jqxCheckBox("val");if(l)for(var s=0;s<t.selectedRecords.length;s++)t.selectedRecords[s][id]+""==a[r][id]+""&&(e(o[r]).jqxCheckBox("uncheck"),t.resetSelectALLStatus())}n.splice(0,n.length),t.refreshTable(t.$rightGrid),t.options.showSelectedTip&&$rightGrid.prev().html("已选中 "+n.length)},resetSelectALLStatus:function(){if(this.options.multiSelect!==!1&&null===this.options.maxSelect){for(var t=this.$element.find(".leftGrid").find(".jqx-grid-pager"),i=this.$element.find(".leftGrid"),a=i.find(".gm-member-user"),n=0,o=0;o<a.length;o++)e(a[o]).jqxCheckBox("val")&&n++;0==n&&t.find(".leftgrid-select-all").jqxCheckBox("val")!==!1?t.find(".leftgrid-select-all").jqxCheckBox("uncheck"):n==a.length&&n>0?t.find(".leftgrid-select-all").jqxCheckBox("check"):t.find(".leftgrid-select-all").jqxCheckBox("val")===!0&&t.find(".leftgrid-select-all").jqxCheckBox("indeterminate")}},reload:function(e,t){this.querySetting=e,this.params=t,e.querySetting&&(this.querySetting=e.querySetting),e.params&&(this.params=e.params),this.reloadLeftTable()},reloadLeftTable:function(){var t=this,i=e.trim(t.$element.find(".leftSearch").val()),a=this.options.localSearchField.split(","),n=this.options.leftLocalData;if(this.options.searchKeyNeedConvert&&(i=i.toLowerCase()),n){for(var o=[],r=0;r<n.length;r++)for(var l=0;l<a.length;l++){var s=n[r][a[l]];if(s&&(s=s.toLowerCase(),s.indexOf(i)>=0)){o.push(n[r]);break}}t.leftSource.localdata=o}else{i?t.leftSource.data[this.options.searchKeyName]=i:t.leftSource.data&&delete t.leftSource.data[this.options.searchKeyName];var d=e.extend({},t.options.params,t.params,{querySetting:"object"==typeof this.querySetting?JSON.stringify(this.querySetting):this.querySetting});_.each(_.keys(d),function(e){t.leftSource.data[e]=d[e]})}t.refreshTable(t.$element.find(".leftGrid"))},refreshTable:function(e){e.jqxDataTable("goToPage",0)||e.jqxDataTable("updateBoundData")},getChooseLayout:function(){var t=this,i=this.options.rightLocalData?this.options.rightLocalData.length:0,a=e('<div><div class="head"></div><div><div class="content">   <div class="content-top">'+this.options.topHtml+'</div>   <div class="gm-add-block bh-clearfix">        <div class="bh-col-md-6" style="background: #fff;padding-left:0px;padding-right:0px;">            <div class="gm-add-search bh-mb-8" style="margin:7px 8px 0 8px">                <input class="leftSearch" type="text" placeholder="'+this.options.placeholder+'">                 <button style="border:0px;width:0px;height:0px;position: absolute;padding:0;top: 0px;"></button>              <a href="javascript:void(0)"><i class="iconfont">&#xe895;</i></a>          </div>         <div class="noBorderGrid leftGrid leftgrid-container"></div>      </div>     <div class="bh-col-md-6 rightgrid-container">'+(this.options.showSelectedTip===!1?"<h3>已选择字段</h3>":"<h3>已选中 "+i+"</h3>")+'           <div class="noBorderGrid transparentGrid rightGrid"></div>      </div></div><div class="content-bottom">'+this.options.bottomHtml+'</div><div id="buttons" style="position: absolute;bottom:32px;width: 100%;left: 0;float: right;padding: 0 24px;"></div></div></div></div>');if(this.options.insertContainer)return a;e(".head",a).append(e("<h2></h2>").append(this.options.title));var n=[{text:"确定",className:"bh-btn-primary",callback:function(){return t.options.callback(t.getSelectedRecords())}},{text:"取消",className:"bh-btn-default",callback:function(){a.jqxWindow("close")}}];n=this.options.buttons||n;for(var o=n.length-1;o>=0;o--){var r=e('<button class="bh-btn '+n[o].className+' bh-pull-right">'+n[o].text+"</button>");if(n[o].callback){var l=n[o].callback;r.data("callback",l),r.click(function(){var t=e(this).data("callback"),i=t.apply(a,[a]);i!==!1&&a.jqxWindow("close")})}e("#buttons",a).append(r)}return a}}}(jQuery);